import{e as sr,r as v,m as nr,i as fi,w as os,a as pi,b as Rs,f as or,t as vi,g as hi,j as mi,o as gi,n as yi,k as bi,c as oe,E as A,d as re,l as jt,p as b,q as I,s as u,u as ce,v as Z,x as be,y as Pe,z as B,F as le,A as pe,B as E,C as z,D as Oe,G as Ei,H as hs,I as Be,J as ls,K as wi,L as Dt,M as rs,R as xn,N as ms,O as Ti,P as bn,Q as Qs,W as Si,S as Ai,T as ki,U as Ci,V as Oi}from"./vue-extras-a69212ed.js";import{R as U}from"./roslib-2533a6fc.js";import{F as We}from"./fusejs-a1032ea1.js";import{s as te,z as Ni,e as Ue,m as gs,t as xi,q as $i,a as Di,b as Li,f as Ii,l as Ri,c as Pi,d as Mi,h as Fi}from"./d3-9cd3fbd4.js";import{J as Vi}from"./jsoneditor-e59672c6.js";import{j as Zs}from"./jsyaml-38530ef5.js";import{l as Hi,f as ji,a as Ui,b as Wi,c as Bi,d as zi,e as Ki,g as Gi,h as Yi,i as qi,j as Xi,k as Ji,m as Qi,n as Zi,o as ea,p as ta,q as sa,r as na,s as oa,t as ra,u as ia,v as aa,w as la,x as ca,y as ua,z as da,A as _a,B as fa,C as pa,D as va,E as ha,F as ma,G as ga,H as ya,I as ba,J as Ea}from"./fontawesome-06e759de.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var Ee="top",Ne="bottom",xe="right",we="left",js="auto",Ut=[Ee,Ne,xe,we],mt="start",Lt="end",rr="clippingParents",$n="viewport",Ot="popper",ir="reference",En=Ut.reduce(function(s,e){return s.concat([e+"-"+mt,e+"-"+Lt])},[]),Dn=[].concat(Ut,[js]).reduce(function(s,e){return s.concat([e,e+"-"+mt,e+"-"+Lt])},[]),ar="beforeRead",lr="read",cr="afterRead",ur="beforeMain",dr="main",_r="afterMain",fr="beforeWrite",pr="write",vr="afterWrite",hr=[ar,lr,cr,ur,dr,_r,fr,pr,vr];function Ge(s){return s?(s.nodeName||"").toLowerCase():null}function $e(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function gt(s){var e=$e(s).Element;return s instanceof e||s instanceof Element}function Re(s){var e=$e(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function Ln(s){if(typeof ShadowRoot>"u")return!1;var e=$e(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function wa(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];!Re(r)||!Ge(r)||(Object.assign(r.style,n),Object.keys(o).forEach(function(i){var a=o[i];a===!1?r.removeAttribute(i):r.setAttribute(i,a===!0?"":a)}))})}function Ta(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],r=e.attributes[n]||{},i=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=i.reduce(function(l,c){return l[c]="",l},{});!Re(o)||!Ge(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(l){o.removeAttribute(l)}))})}}const In={name:"applyStyles",enabled:!0,phase:"write",fn:wa,effect:Ta,requires:["computeStyles"]};function ze(s){return s.split("-")[0]}var ht=Math.max,Ps=Math.min,It=Math.round;function wn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function mr(){return!/^((?!chrome|android).)*safari/i.test(wn())}function Rt(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,r=1;e&&Re(s)&&(o=s.offsetWidth>0&&It(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&It(n.height)/s.offsetHeight||1);var i=gt(s)?$e(s):window,a=i.visualViewport,l=!mr()&&t,c=(n.left+(l&&a?a.offsetLeft:0))/o,d=(n.top+(l&&a?a.offsetTop:0))/r,p=n.width/o,f=n.height/r;return{width:p,height:f,top:d,right:c+p,bottom:d+f,left:c,x:c,y:d}}function Rn(s){var e=Rt(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function gr(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&Ln(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function et(s){return $e(s).getComputedStyle(s)}function Sa(s){return["table","td","th"].indexOf(Ge(s))>=0}function ct(s){return((gt(s)?s.ownerDocument:s.document)||window.document).documentElement}function Us(s){return Ge(s)==="html"?s:s.assignedSlot||s.parentNode||(Ln(s)?s.host:null)||ct(s)}function eo(s){return!Re(s)||et(s).position==="fixed"?null:s.offsetParent}function Aa(s){var e=/firefox/i.test(wn()),t=/Trident/i.test(wn());if(t&&Re(s)){var n=et(s);if(n.position==="fixed")return null}var o=Us(s);for(Ln(o)&&(o=o.host);Re(o)&&["html","body"].indexOf(Ge(o))<0;){var r=et(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function cs(s){for(var e=$e(s),t=eo(s);t&&Sa(t)&&et(t).position==="static";)t=eo(t);return t&&(Ge(t)==="html"||Ge(t)==="body"&&et(t).position==="static")?e:t||Aa(s)||e}function Pn(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function ts(s,e,t){return ht(s,Ps(e,t))}function ka(s,e,t){var n=ts(s,e,t);return n>t?t:n}function yr(){return{top:0,right:0,bottom:0,left:0}}function br(s){return Object.assign({},yr(),s)}function Er(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var Ca=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,br(typeof e!="number"?e:Er(e,Ut))};function Oa(s){var e,t=s.state,n=s.name,o=s.options,r=t.elements.arrow,i=t.modifiersData.popperOffsets,a=ze(t.placement),l=Pn(a),c=[we,xe].indexOf(a)>=0,d=c?"height":"width";if(!(!r||!i)){var p=Ca(o.padding,t),f=Rn(r),_=l==="y"?Ee:we,m=l==="y"?Ne:xe,h=t.rects.reference[d]+t.rects.reference[l]-i[l]-t.rects.popper[d],y=i[l]-t.rects.reference[l],D=cs(r),$=D?l==="y"?D.clientHeight||0:D.clientWidth||0:0,w=h/2-y/2,L=p[_],P=$-f[d]-p[m],H=$/2-f[d]/2+w,k=ts(L,H,P),C=l;t.modifiersData[n]=(e={},e[C]=k,e.centerOffset=k-H,e)}}function Na(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||gr(e.elements.popper,o)&&(e.elements.arrow=o))}const wr={name:"arrow",enabled:!0,phase:"main",fn:Oa,effect:Na,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pt(s){return s.split("-")[1]}var xa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $a(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:It(t*o)/o||0,y:It(n*o)/o||0}}function to(s){var e,t=s.popper,n=s.popperRect,o=s.placement,r=s.variation,i=s.offsets,a=s.position,l=s.gpuAcceleration,c=s.adaptive,d=s.roundOffsets,p=s.isFixed,f=i.x,_=f===void 0?0:f,m=i.y,h=m===void 0?0:m,y=typeof d=="function"?d({x:_,y:h}):{x:_,y:h};_=y.x,h=y.y;var D=i.hasOwnProperty("x"),$=i.hasOwnProperty("y"),w=we,L=Ee,P=window;if(c){var H=cs(t),k="clientHeight",C="clientWidth";if(H===$e(t)&&(H=ct(t),et(H).position!=="static"&&a==="absolute"&&(k="scrollHeight",C="scrollWidth")),H=H,o===Ee||(o===we||o===xe)&&r===Lt){L=Ne;var R=p&&H===P&&P.visualViewport?P.visualViewport.height:H[k];h-=R-n.height,h*=l?1:-1}if(o===we||(o===Ee||o===Ne)&&r===Lt){w=xe;var M=p&&H===P&&P.visualViewport?P.visualViewport.width:H[C];_-=M-n.width,_*=l?1:-1}}var Q=Object.assign({position:a},c&&xa),ne=d===!0?$a({x:_,y:h},$e(t)):{x:_,y:h};if(_=ne.x,h=ne.y,l){var j;return Object.assign({},Q,(j={},j[L]=$?"0":"",j[w]=D?"0":"",j.transform=(P.devicePixelRatio||1)<=1?"translate("+_+"px, "+h+"px)":"translate3d("+_+"px, "+h+"px, 0)",j))}return Object.assign({},Q,(e={},e[L]=$?h+"px":"",e[w]=D?_+"px":"",e.transform="",e))}function Da(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,r=t.adaptive,i=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:ze(e.placement),variation:Pt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,to(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,to(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Da,data:{}};var ys={passive:!0};function La(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,r=o===void 0?!0:o,i=n.resize,a=i===void 0?!0:i,l=$e(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(d){d.addEventListener("scroll",t.update,ys)}),a&&l.addEventListener("resize",t.update,ys),function(){r&&c.forEach(function(d){d.removeEventListener("scroll",t.update,ys)}),a&&l.removeEventListener("resize",t.update,ys)}}const Fn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:La,data:{}};var Ia={left:"right",right:"left",bottom:"top",top:"bottom"};function Ds(s){return s.replace(/left|right|bottom|top/g,function(e){return Ia[e]})}var Ra={start:"end",end:"start"};function so(s){return s.replace(/start|end/g,function(e){return Ra[e]})}function Vn(s){var e=$e(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Hn(s){return Rt(ct(s)).left+Vn(s).scrollLeft}function Pa(s,e){var t=$e(s),n=ct(s),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,l=0;if(o){r=o.width,i=o.height;var c=mr();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:i,x:a+Hn(s),y:l}}function Ma(s){var e,t=ct(s),n=Vn(s),o=(e=s.ownerDocument)==null?void 0:e.body,r=ht(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=ht(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Hn(s),l=-n.scrollTop;return et(o||t).direction==="rtl"&&(a+=ht(t.clientWidth,o?o.clientWidth:0)-r),{width:r,height:i,x:a,y:l}}function jn(s){var e=et(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function Tr(s){return["html","body","#document"].indexOf(Ge(s))>=0?s.ownerDocument.body:Re(s)&&jn(s)?s:Tr(Us(s))}function ss(s,e){var t;e===void 0&&(e=[]);var n=Tr(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),r=$e(n),i=o?[r].concat(r.visualViewport||[],jn(n)?n:[]):n,a=e.concat(i);return o?a:a.concat(ss(Us(i)))}function Tn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Fa(s,e){var t=Rt(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function no(s,e,t){return e===$n?Tn(Pa(s,t)):gt(e)?Fa(e,t):Tn(Ma(ct(s)))}function Va(s){var e=ss(Us(s)),t=["absolute","fixed"].indexOf(et(s).position)>=0,n=t&&Re(s)?cs(s):s;return gt(n)?e.filter(function(o){return gt(o)&&gr(o,n)&&Ge(o)!=="body"}):[]}function Ha(s,e,t,n){var o=e==="clippingParents"?Va(s):[].concat(e),r=[].concat(o,[t]),i=r[0],a=r.reduce(function(l,c){var d=no(s,c,n);return l.top=ht(d.top,l.top),l.right=Ps(d.right,l.right),l.bottom=Ps(d.bottom,l.bottom),l.left=ht(d.left,l.left),l},no(s,i,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Sr(s){var e=s.reference,t=s.element,n=s.placement,o=n?ze(n):null,r=n?Pt(n):null,i=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(o){case Ee:l={x:i,y:e.y-t.height};break;case Ne:l={x:i,y:e.y+e.height};break;case xe:l={x:e.x+e.width,y:a};break;case we:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?Pn(o):null;if(c!=null){var d=c==="y"?"height":"width";switch(r){case mt:l[c]=l[c]-(e[d]/2-t[d]/2);break;case Lt:l[c]=l[c]+(e[d]/2-t[d]/2);break}}return l}function Mt(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,r=t.strategy,i=r===void 0?s.strategy:r,a=t.boundary,l=a===void 0?rr:a,c=t.rootBoundary,d=c===void 0?$n:c,p=t.elementContext,f=p===void 0?Ot:p,_=t.altBoundary,m=_===void 0?!1:_,h=t.padding,y=h===void 0?0:h,D=br(typeof y!="number"?y:Er(y,Ut)),$=f===Ot?ir:Ot,w=s.rects.popper,L=s.elements[m?$:f],P=Ha(gt(L)?L:L.contextElement||ct(s.elements.popper),l,d,i),H=Rt(s.elements.reference),k=Sr({reference:H,element:w,strategy:"absolute",placement:o}),C=Tn(Object.assign({},w,k)),R=f===Ot?C:H,M={top:P.top-R.top+D.top,bottom:R.bottom-P.bottom+D.bottom,left:P.left-R.left+D.left,right:R.right-P.right+D.right},Q=s.modifiersData.offset;if(f===Ot&&Q){var ne=Q[o];Object.keys(M).forEach(function(j){var K=[xe,Ne].indexOf(j)>=0?1:-1,V=[Ee,Ne].indexOf(j)>=0?"y":"x";M[j]+=ne[V]*K})}return M}function ja(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,r=t.rootBoundary,i=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Dn:l,d=Pt(n),p=d?a?En:En.filter(function(m){return Pt(m)===d}):Ut,f=p.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=p);var _=f.reduce(function(m,h){return m[h]=Mt(s,{placement:h,boundary:o,rootBoundary:r,padding:i})[ze(h)],m},{});return Object.keys(_).sort(function(m,h){return _[m]-_[h]})}function Ua(s){if(ze(s)===js)return[];var e=Ds(s);return[so(s),e,so(e)]}function Wa(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!0:i,l=t.fallbackPlacements,c=t.padding,d=t.boundary,p=t.rootBoundary,f=t.altBoundary,_=t.flipVariations,m=_===void 0?!0:_,h=t.allowedAutoPlacements,y=e.options.placement,D=ze(y),$=D===y,w=l||($||!m?[Ds(y)]:Ua(y)),L=[y].concat(w).reduce(function(ye,he){return ye.concat(ze(he)===js?ja(e,{placement:he,boundary:d,rootBoundary:p,padding:c,flipVariations:m,allowedAutoPlacements:h}):he)},[]),P=e.rects.reference,H=e.rects.popper,k=new Map,C=!0,R=L[0],M=0;M<L.length;M++){var Q=L[M],ne=ze(Q),j=Pt(Q)===mt,K=[Ee,Ne].indexOf(ne)>=0,V=K?"width":"height",ee=Mt(e,{placement:Q,boundary:d,rootBoundary:p,altBoundary:f,padding:c}),G=K?j?xe:we:j?Ne:Ee;P[V]>H[V]&&(G=Ds(G));var se=Ds(G),ue=[];if(r&&ue.push(ee[ne]<=0),a&&ue.push(ee[G]<=0,ee[se]<=0),ue.every(function(ye){return ye})){R=Q,C=!1;break}k.set(Q,ue)}if(C)for(var ge=m?3:1,J=function(he){var Se=L.find(function(Ye){var qe=k.get(Ye);if(qe)return qe.slice(0,he).every(function(Et){return Et})});if(Se)return R=Se,"break"},Te=ge;Te>0;Te--){var Ce=J(Te);if(Ce==="break")break}e.placement!==R&&(e.modifiersData[n]._skip=!0,e.placement=R,e.reset=!0)}}const Ar={name:"flip",enabled:!0,phase:"main",fn:Wa,requiresIfExists:["offset"],data:{_skip:!1}};function oo(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function ro(s){return[Ee,xe,Ne,we].some(function(e){return s[e]>=0})}function Ba(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,i=Mt(e,{elementContext:"reference"}),a=Mt(e,{altBoundary:!0}),l=oo(i,n),c=oo(a,o,r),d=ro(l),p=ro(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const kr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ba};function za(s,e,t){var n=ze(s),o=[we,Ee].indexOf(n)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,i=r[0],a=r[1];return i=i||0,a=(a||0)*o,[we,xe].indexOf(n)>=0?{x:a,y:i}:{x:i,y:a}}function Ka(s){var e=s.state,t=s.options,n=s.name,o=t.offset,r=o===void 0?[0,0]:o,i=Dn.reduce(function(d,p){return d[p]=za(p,e.rects,r),d},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=i}const Cr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ka};function Ga(s){var e=s.state,t=s.name;e.modifiersData[t]=Sr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Un={name:"popperOffsets",enabled:!0,phase:"read",fn:Ga,data:{}};function Ya(s){return s==="x"?"y":"x"}function qa(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!1:i,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,p=t.padding,f=t.tether,_=f===void 0?!0:f,m=t.tetherOffset,h=m===void 0?0:m,y=Mt(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),D=ze(e.placement),$=Pt(e.placement),w=!$,L=Pn(D),P=Ya(L),H=e.modifiersData.popperOffsets,k=e.rects.reference,C=e.rects.popper,R=typeof h=="function"?h(Object.assign({},e.rects,{placement:e.placement})):h,M=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),Q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(H){if(r){var j,K=L==="y"?Ee:we,V=L==="y"?Ne:xe,ee=L==="y"?"height":"width",G=H[L],se=G+y[K],ue=G-y[V],ge=_?-C[ee]/2:0,J=$===mt?k[ee]:C[ee],Te=$===mt?-C[ee]:-k[ee],Ce=e.elements.arrow,ye=_&&Ce?Rn(Ce):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yr(),Se=he[K],Ye=he[V],qe=ts(0,k[ee],ye[ee]),Et=w?k[ee]/2-ge-qe-Se-M.mainAxis:J-qe-Se-M.mainAxis,Js=w?-k[ee]/2+ge+qe+Ye+M.mainAxis:Te+qe+Ye+M.mainAxis,qt=e.elements.arrow&&cs(e.elements.arrow),O=qt?L==="y"?qt.clientTop||0:qt.clientLeft||0:0,T=(j=Q==null?void 0:Q[L])!=null?j:0,g=G+Et-T-O,x=G+Js-T,S=ts(_?Ps(se,g):se,G,_?ht(ue,x):ue);H[L]=S,ne[L]=S-G}if(a){var F,Y=L==="x"?Ee:we,fe=L==="x"?Ne:xe,ie=H[P],q=P==="y"?"height":"width",ae=ie+y[Y],_t=ie-y[fe],ft=[Ee,we].indexOf(D)!==-1,Xn=(F=Q==null?void 0:Q[P])!=null?F:0,Jn=ft?ae:ie-k[q]-C[q]-Xn+M.altAxis,Qn=ft?ie+k[q]+C[q]-Xn-M.altAxis:_t,Zn=_&&ft?ka(Jn,ie,Qn):ts(_?Jn:ae,ie,_?Qn:_t);H[P]=Zn,ne[P]=Zn-ie}e.modifiersData[n]=ne}}const Or={name:"preventOverflow",enabled:!0,phase:"main",fn:qa,requiresIfExists:["offset"]};function Xa(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Ja(s){return s===$e(s)||!Re(s)?Vn(s):Xa(s)}function Qa(s){var e=s.getBoundingClientRect(),t=It(e.width)/s.offsetWidth||1,n=It(e.height)/s.offsetHeight||1;return t!==1||n!==1}function Za(s,e,t){t===void 0&&(t=!1);var n=Re(e),o=Re(e)&&Qa(e),r=ct(e),i=Rt(s,o,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((Ge(e)!=="body"||jn(r))&&(a=Ja(e)),Re(e)?(l=Rt(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Hn(r))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function el(s){var e=new Map,t=new Set,n=[];s.forEach(function(r){e.set(r.name,r)});function o(r){t.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&o(l)}}),n.push(r)}return s.forEach(function(r){t.has(r.name)||o(r)}),n}function tl(s){var e=el(s);return hr.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function sl(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function nl(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var io={placement:"bottom",modifiers:[],strategy:"absolute"};function ao(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ws(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,r=o===void 0?io:o;return function(a,l,c){c===void 0&&(c=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},io,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],f=!1,_={state:d,setOptions:function(D){var $=typeof D=="function"?D(d.options):D;h(),d.options=Object.assign({},r,d.options,$),d.scrollParents={reference:gt(a)?ss(a):a.contextElement?ss(a.contextElement):[],popper:ss(l)};var w=tl(nl([].concat(n,d.options.modifiers)));return d.orderedModifiers=w.filter(function(L){return L.enabled}),m(),_.update()},forceUpdate:function(){if(!f){var D=d.elements,$=D.reference,w=D.popper;if(ao($,w)){d.rects={reference:Za($,cs(w),d.options.strategy==="fixed"),popper:Rn(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(M){return d.modifiersData[M.name]=Object.assign({},M.data)});for(var L=0;L<d.orderedModifiers.length;L++){if(d.reset===!0){d.reset=!1,L=-1;continue}var P=d.orderedModifiers[L],H=P.fn,k=P.options,C=k===void 0?{}:k,R=P.name;typeof H=="function"&&(d=H({state:d,options:C,name:R,instance:_})||d)}}}},update:sl(function(){return new Promise(function(y){_.forceUpdate(),y(d)})}),destroy:function(){h(),f=!0}};if(!ao(a,l))return _;_.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){d.orderedModifiers.forEach(function(y){var D=y.name,$=y.options,w=$===void 0?{}:$,L=y.effect;if(typeof L=="function"){var P=L({state:d,name:D,instance:_,options:w}),H=function(){};p.push(P||H)}})}function h(){p.forEach(function(y){return y()}),p=[]}return _}}var ol=Ws(),rl=[Fn,Un,Mn,In],il=Ws({defaultModifiers:rl}),al=[Fn,Un,Mn,In,Cr,Ar,Or,wr,kr],Wn=Ws({defaultModifiers:al});const Nr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:_r,afterRead:cr,afterWrite:vr,applyStyles:In,arrow:wr,auto:js,basePlacements:Ut,beforeMain:ur,beforeRead:ar,beforeWrite:fr,bottom:Ne,clippingParents:rr,computeStyles:Mn,createPopper:Wn,createPopperBase:ol,createPopperLite:il,detectOverflow:Mt,end:Lt,eventListeners:Fn,flip:Ar,hide:kr,left:we,main:dr,modifierPhases:hr,offset:Cr,placements:Dn,popper:Ot,popperGenerator:Ws,popperOffsets:Un,preventOverflow:Or,read:lr,reference:ir,right:xe,start:mt,top:Ee,variationPlacements:En,viewport:$n,write:pr},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const st=new Map,en={set(s,e,t){st.has(s)||st.set(s,new Map);const n=st.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return st.has(s)&&st.get(s).get(e)||null},remove(s,e){if(!st.has(s))return;const t=st.get(s);t.delete(e),t.size===0&&st.delete(s)}},ll=1e6,cl=1e3,Sn="transitionend",xr=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),ul=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),dl=s=>{do s+=Math.floor(Math.random()*ll);while(document.getElementById(s));return s},_l=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*cl)},$r=s=>{s.dispatchEvent(new Event(Sn))},Qe=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),it=s=>Qe(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(xr(s)):null,Wt=s=>{if(!Qe(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},at=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",Dr=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?Dr(s.parentNode):null},Ms=()=>{},us=s=>{s.offsetHeight},Lr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,tn=[],fl=s=>{document.readyState==="loading"?(tn.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of tn)e()}),tn.push(s)):s()},Me=()=>document.documentElement.dir==="rtl",Ve=s=>{fl(()=>{const e=Lr();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},ke=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,Ir=(s,e,t=!0)=>{if(!t){ke(s);return}const n=5,o=_l(e)+n;let r=!1;const i=({target:a})=>{a===e&&(r=!0,e.removeEventListener(Sn,i),ke(s))};e.addEventListener(Sn,i),setTimeout(()=>{r||$r(e)},o)},Bn=(s,e,t,n)=>{const o=s.length;let r=s.indexOf(e);return r===-1?!t&&n?s[o-1]:s[0]:(r+=t?1:-1,n&&(r=(r+o)%o),s[Math.max(0,Math.min(r,o-1))])},pl=/[^.]*(?=\..*)\.|.*/,vl=/\..*/,hl=/::\d+$/,sn={};let lo=1;const Rr={mouseenter:"mouseover",mouseleave:"mouseout"},ml=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Pr(s,e){return e&&`${e}::${lo++}`||s.uidEvent||lo++}function Mr(s){const e=Pr(s);return s.uidEvent=e,sn[e]=sn[e]||{},sn[e]}function gl(s,e){return function t(n){return zn(n,{delegateTarget:s}),t.oneOff&&N.off(s,n.type,e),e.apply(s,[n])}}function yl(s,e,t){return function n(o){const r=s.querySelectorAll(e);for(let{target:i}=o;i&&i!==this;i=i.parentNode)for(const a of r)if(a===i)return zn(o,{delegateTarget:i}),n.oneOff&&N.off(s,o.type,e,t),t.apply(i,[o])}}function Fr(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function Vr(s,e,t){const n=typeof e=="string",o=n?t:e||t;let r=Hr(s);return ml.has(r)||(r=s),[n,o,r]}function co(s,e,t,n,o){if(typeof e!="string"||!s)return;let[r,i,a]=Vr(e,t,n);e in Rr&&(i=(m=>function(h){if(!h.relatedTarget||h.relatedTarget!==h.delegateTarget&&!h.delegateTarget.contains(h.relatedTarget))return m.call(this,h)})(i));const l=Mr(s),c=l[a]||(l[a]={}),d=Fr(c,i,r?t:null);if(d){d.oneOff=d.oneOff&&o;return}const p=Pr(i,e.replace(pl,"")),f=r?yl(s,t,i):gl(s,i);f.delegationSelector=r?t:null,f.callable=i,f.oneOff=o,f.uidEvent=p,c[p]=f,s.addEventListener(a,f,r)}function An(s,e,t,n,o){const r=Fr(e[t],n,o);r&&(s.removeEventListener(t,r,!!o),delete e[t][r.uidEvent])}function bl(s,e,t,n){const o=e[t]||{};for(const[r,i]of Object.entries(o))r.includes(n)&&An(s,e,t,i.callable,i.delegationSelector)}function Hr(s){return s=s.replace(vl,""),Rr[s]||s}const N={on(s,e,t,n){co(s,e,t,n,!1)},one(s,e,t,n){co(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,r,i]=Vr(e,t,n),a=i!==e,l=Mr(s),c=l[i]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;An(s,l,i,r,o?t:null);return}if(d)for(const p of Object.keys(l))bl(s,l,p,e.slice(1));for(const[p,f]of Object.entries(c)){const _=p.replace(hl,"");(!a||e.includes(_))&&An(s,l,i,f.callable,f.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=Lr(),o=Hr(e),r=e!==o;let i=null,a=!0,l=!0,c=!1;r&&n&&(i=n.Event(e,t),n(s).trigger(i),a=!i.isPropagationStopped(),l=!i.isImmediatePropagationStopped(),c=i.isDefaultPrevented());const d=zn(new Event(e,{bubbles:a,cancelable:!0}),t);return c&&d.preventDefault(),l&&s.dispatchEvent(d),d.defaultPrevented&&i&&i.preventDefault(),d}};function zn(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function uo(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function nn(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ze={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${nn(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${nn(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=uo(s.dataset[n])}return e},getDataAttribute(s,e){return uo(s.getAttribute(`data-bs-${nn(e)}`))}};class ds{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=Qe(t)?Ze.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Qe(t)?Ze.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const r=e[n],i=Qe(r)?"element":ul(r);if(!new RegExp(o).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${o}".`)}}}const El="5.3.2";class je extends ds{constructor(e,t){super(),e=it(e),e&&(this._element=e,this._config=this._getConfig(t),en.set(this._element,this.constructor.DATA_KEY,this))}dispose(){en.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Ir(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return en.get(it(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return El}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const on=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?xr(t.trim()):null}return e},W={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!at(t)&&Wt(t))},getSelectorFromElement(s){const e=on(s);return e&&W.findOne(e)?e:null},getElementFromSelector(s){const e=on(s);return e?W.findOne(e):null},getMultipleElementsFromSelector(s){const e=on(s);return e?W.find(e):[]}},Bs=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;N.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),at(this))return;const r=W.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(r)[e]()})},wl="alert",Tl="bs.alert",jr=`.${Tl}`,Sl=`close${jr}`,Al=`closed${jr}`,kl="fade",Cl="show";class zs extends je{static get NAME(){return wl}close(){if(N.trigger(this._element,Sl).defaultPrevented)return;this._element.classList.remove(Cl);const t=this._element.classList.contains(kl);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),N.trigger(this._element,Al),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=zs.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Bs(zs,"close");Ve(zs);const Ol="button",Nl="bs.button",xl=`.${Nl}`,$l=".data-api",Dl="active",_o='[data-bs-toggle="button"]',Ll=`click${xl}${$l}`;class Ks extends je{static get NAME(){return Ol}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Dl))}static jQueryInterface(e){return this.each(function(){const t=Ks.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}N.on(document,Ll,_o,s=>{s.preventDefault();const e=s.target.closest(_o);Ks.getOrCreateInstance(e).toggle()});Ve(Ks);const Il="swipe",Bt=".bs.swipe",Rl=`touchstart${Bt}`,Pl=`touchmove${Bt}`,Ml=`touchend${Bt}`,Fl=`pointerdown${Bt}`,Vl=`pointerup${Bt}`,Hl="touch",jl="pen",Ul="pointer-event",Wl=40,Bl={endCallback:null,leftCallback:null,rightCallback:null},zl={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Fs extends ds{constructor(e,t){super(),this._element=e,!(!e||!Fs.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Bl}static get DefaultType(){return zl}static get NAME(){return Il}dispose(){N.off(this._element,Bt)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ke(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Wl)return;const t=e/this._deltaX;this._deltaX=0,t&&ke(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,Fl,e=>this._start(e)),N.on(this._element,Vl,e=>this._end(e)),this._element.classList.add(Ul)):(N.on(this._element,Rl,e=>this._start(e)),N.on(this._element,Pl,e=>this._move(e)),N.on(this._element,Ml,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===jl||e.pointerType===Hl)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Kl="carousel",Gl="bs.carousel",ut=`.${Gl}`,Ur=".data-api",Yl="ArrowLeft",ql="ArrowRight",Xl=500,Xt="next",wt="prev",Nt="left",Ls="right",Jl=`slide${ut}`,rn=`slid${ut}`,Ql=`keydown${ut}`,Zl=`mouseenter${ut}`,ec=`mouseleave${ut}`,tc=`dragstart${ut}`,sc=`load${ut}${Ur}`,nc=`click${ut}${Ur}`,Wr="carousel",bs="active",oc="slide",rc="carousel-item-end",ic="carousel-item-start",ac="carousel-item-next",lc="carousel-item-prev",Br=".active",zr=".carousel-item",cc=Br+zr,uc=".carousel-item img",dc=".carousel-indicators",_c="[data-bs-slide], [data-bs-slide-to]",fc='[data-bs-ride="carousel"]',pc={[Yl]:Ls,[ql]:Nt},vc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class _s extends je{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(dc,this._element),this._addEventListeners(),this._config.ride===Wr&&this.cycle()}static get Default(){return vc}static get DefaultType(){return hc}static get NAME(){return Kl}next(){this._slide(Xt)}nextWhenVisible(){!document.hidden&&Wt(this._element)&&this.next()}prev(){this._slide(wt)}pause(){this._isSliding&&$r(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){N.one(this._element,rn,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){N.one(this._element,rn,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?Xt:wt;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&N.on(this._element,Ql,e=>this._keydown(e)),this._config.pause==="hover"&&(N.on(this._element,Zl,()=>this.pause()),N.on(this._element,ec,()=>this._maybeEnableCycle())),this._config.touch&&Fs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of W.find(uc,this._element))N.on(n,tc,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(Ls)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Xl+this._config.interval))}};this._swipeHelper=new Fs(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=pc[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=W.findOne(Br,this._indicatorsElement);t.classList.remove(bs),t.removeAttribute("aria-current");const n=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(bs),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===Xt,r=t||Bn(this._getItems(),n,o,this._config.wrap);if(r===n)return;const i=this._getItemIndex(r),a=_=>N.trigger(this._element,_,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:i});if(a(Jl).defaultPrevented||!n||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=r;const d=o?ic:rc,p=o?ac:lc;r.classList.add(p),us(r),n.classList.add(d),r.classList.add(d);const f=()=>{r.classList.remove(d,p),r.classList.add(bs),n.classList.remove(bs,p,d),this._isSliding=!1,a(rn)};this._queueCallback(f,n,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(oc)}_getActive(){return W.findOne(cc,this._element)}_getItems(){return W.find(zr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Me()?e===Nt?wt:Xt:e===Nt?Xt:wt}_orderToDirection(e){return Me()?e===wt?Nt:Ls:e===wt?Ls:Nt}static jQueryInterface(e){return this.each(function(){const t=_s.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}N.on(document,nc,_c,function(s){const e=W.getElementFromSelector(this);if(!e||!e.classList.contains(Wr))return;s.preventDefault();const t=_s.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(Ze.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});N.on(window,sc,()=>{const s=W.find(fc);for(const e of s)_s.getOrCreateInstance(e)});Ve(_s);const mc="collapse",gc="bs.collapse",fs=`.${gc}`,yc=".data-api",bc=`show${fs}`,Ec=`shown${fs}`,wc=`hide${fs}`,Tc=`hidden${fs}`,Sc=`click${fs}${yc}`,an="show",$t="collapse",Es="collapsing",Ac="collapsed",kc=`:scope .${$t} .${$t}`,Cc="collapse-horizontal",Oc="width",Nc="height",xc=".collapse.show, .collapse.collapsing",kn='[data-bs-toggle="collapse"]',$c={parent:null,toggle:!0},Dc={parent:"(null|element)",toggle:"boolean"};class is extends je{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=W.find(kn);for(const o of n){const r=W.getSelectorFromElement(o),i=W.find(r).filter(a=>a===this._element);r!==null&&i.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $c}static get DefaultType(){return Dc}static get NAME(){return mc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(xc).filter(a=>a!==this._element).map(a=>is.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||N.trigger(this._element,bc).defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove($t),this._element.classList.add(Es),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Es),this._element.classList.add($t,an),this._element.style[n]="",N.trigger(this._element,Ec)},i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,wc).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,us(this._element),this._element.classList.add(Es),this._element.classList.remove($t,an);for(const o of this._triggerArray){const r=W.getElementFromSelector(o);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Es),this._element.classList.add($t),N.trigger(this._element,Tc)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(an)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=it(e.parent),e}_getDimension(){return this._element.classList.contains(Cc)?Oc:Nc}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(kn);for(const t of e){const n=W.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=W.find(kc,this._config.parent);return W.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(Ac,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=is.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}N.on(document,Sc,kn,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of W.getMultipleElementsFromSelector(this))is.getOrCreateInstance(e,{toggle:!1}).toggle()});Ve(is);const fo="dropdown",Lc="bs.dropdown",yt=`.${Lc}`,Kn=".data-api",Ic="Escape",po="Tab",Rc="ArrowUp",vo="ArrowDown",Pc=2,Mc=`hide${yt}`,Fc=`hidden${yt}`,Vc=`show${yt}`,Hc=`shown${yt}`,Kr=`click${yt}${Kn}`,Gr=`keydown${yt}${Kn}`,jc=`keyup${yt}${Kn}`,xt="show",Uc="dropup",Wc="dropend",Bc="dropstart",zc="dropup-center",Kc="dropdown-center",pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Gc=`${pt}.${xt}`,Is=".dropdown-menu",Yc=".navbar",qc=".navbar-nav",Xc=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Jc=Me()?"top-end":"top-start",Qc=Me()?"top-start":"top-end",Zc=Me()?"bottom-end":"bottom-start",eu=Me()?"bottom-start":"bottom-end",tu=Me()?"left-start":"right-start",su=Me()?"right-start":"left-start",nu="top",ou="bottom",ru={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},iu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ke extends je{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,Is)[0]||W.prev(this._element,Is)[0]||W.findOne(Is,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ru}static get DefaultType(){return iu}static get NAME(){return fo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(at(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!N.trigger(this._element,Vc,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(qc))for(const n of[].concat(...document.body.children))N.on(n,"mouseover",Ms);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xt),this._element.classList.add(xt),N.trigger(this._element,Hc,e)}}hide(){if(at(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!N.trigger(this._element,Mc,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))N.off(n,"mouseover",Ms);this._popper&&this._popper.destroy(),this._menu.classList.remove(xt),this._element.classList.remove(xt),this._element.setAttribute("aria-expanded","false"),Ze.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,Fc,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Qe(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${fo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Nr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Qe(this._config.reference)?e=it(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Wn(e,this._menu,t)}_isShown(){return this._menu.classList.contains(xt)}_getPlacement(){const e=this._parent;if(e.classList.contains(Wc))return tu;if(e.classList.contains(Bc))return su;if(e.classList.contains(zc))return nu;if(e.classList.contains(Kc))return ou;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Uc)?t?Qc:Jc:t?eu:Zc}_detectNavbar(){return this._element.closest(Yc)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ze.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ke(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=W.find(Xc,this._menu).filter(o=>Wt(o));n.length&&Bn(n,t,e===vo,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Ke.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Pc||e.type==="keyup"&&e.key!==po)return;const t=W.find(Gc);for(const n of t){const o=Ke.getInstance(n);if(!o||o._config.autoClose===!1)continue;const r=e.composedPath(),i=r.includes(o._menu);if(r.includes(o._element)||o._config.autoClose==="inside"&&!i||o._config.autoClose==="outside"&&i||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===po||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:o._element};e.type==="click"&&(a.clickEvent=e),o._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Ic,o=[Rc,vo].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const r=this.matches(pt)?this:W.prev(this,pt)[0]||W.next(this,pt)[0]||W.findOne(pt,e.delegateTarget.parentNode),i=Ke.getOrCreateInstance(r);if(o){e.stopPropagation(),i.show(),i._selectMenuItem(e);return}i._isShown()&&(e.stopPropagation(),i.hide(),r.focus())}}N.on(document,Gr,pt,Ke.dataApiKeydownHandler);N.on(document,Gr,Is,Ke.dataApiKeydownHandler);N.on(document,Kr,Ke.clearMenus);N.on(document,jc,Ke.clearMenus);N.on(document,Kr,pt,function(s){s.preventDefault(),Ke.getOrCreateInstance(this).toggle()});Ve(Ke);const Yr="backdrop",au="fade",ho="show",mo=`mousedown.bs.${Yr}`,lu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},cu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qr extends ds{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return lu}static get DefaultType(){return cu}static get NAME(){return Yr}show(e){if(!this._config.isVisible){ke(e);return}this._append();const t=this._getElement();this._config.isAnimated&&us(t),t.classList.add(ho),this._emulateAnimation(()=>{ke(e)})}hide(e){if(!this._config.isVisible){ke(e);return}this._getElement().classList.remove(ho),this._emulateAnimation(()=>{this.dispose(),ke(e)})}dispose(){this._isAppended&&(N.off(this._element,mo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(au),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=it(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),N.on(e,mo,()=>{ke(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Ir(e,this._getElement(),this._config.isAnimated)}}const uu="focustrap",du="bs.focustrap",Vs=`.${du}`,_u=`focusin${Vs}`,fu=`keydown.tab${Vs}`,pu="Tab",vu="forward",go="backward",hu={autofocus:!0,trapElement:null},mu={autofocus:"boolean",trapElement:"element"};class Xr extends ds{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hu}static get DefaultType(){return mu}static get NAME(){return uu}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,Vs),N.on(document,_u,e=>this._handleFocusin(e)),N.on(document,fu,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,Vs))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=W.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===go?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===pu&&(this._lastTabNavDirection=e.shiftKey?go:vu)}}const yo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",bo=".sticky-top",ws="padding-right",Eo="margin-right";class Cn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ws,t=>t+e),this._setElementAttributes(yo,ws,t=>t+e),this._setElementAttributes(bo,Eo,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ws),this._resetElementAttributes(yo,ws),this._resetElementAttributes(bo,Eo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),r=i=>{if(i!==this._element&&window.innerWidth>i.clientWidth+o)return;this._saveInitialAttribute(i,t);const a=window.getComputedStyle(i).getPropertyValue(t);i.style.setProperty(t,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&Ze.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const r=Ze.getDataAttribute(o,t);if(r===null){o.style.removeProperty(t);return}Ze.removeDataAttribute(o,t),o.style.setProperty(t,r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(Qe(e)){t(e);return}for(const n of W.find(e,this._element))t(n)}}const gu="modal",yu="bs.modal",Fe=`.${yu}`,bu=".data-api",Eu="Escape",wu=`hide${Fe}`,Tu=`hidePrevented${Fe}`,Jr=`hidden${Fe}`,Qr=`show${Fe}`,Su=`shown${Fe}`,Au=`resize${Fe}`,ku=`click.dismiss${Fe}`,Cu=`mousedown.dismiss${Fe}`,Ou=`keydown.dismiss${Fe}`,Nu=`click${Fe}${bu}`,wo="modal-open",xu="fade",To="show",ln="modal-static",$u=".modal.show",Du=".modal-dialog",Lu=".modal-body",Iu='[data-bs-toggle="modal"]',Ru={backdrop:!0,focus:!0,keyboard:!0},Pu={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ft extends je{constructor(e,t){super(e,t),this._dialog=W.findOne(Du,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cn,this._addEventListeners()}static get Default(){return Ru}static get DefaultType(){return Pu}static get NAME(){return gu}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||N.trigger(this._element,Qr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||N.trigger(this._element,wu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(To),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){N.off(window,Fe),N.off(this._dialog,Fe),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=W.findOne(Lu,this._dialog);t&&(t.scrollTop=0),us(this._element),this._element.classList.add(To);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,Su,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,Ou,e=>{if(e.key===Eu){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),N.on(window,Au,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,Cu,e=>{N.one(this._element,ku,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(wo),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Jr)})}_isAnimated(){return this._element.classList.contains(xu)}_triggerBackdropTransition(){if(N.trigger(this._element,Tu).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(ln)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(ln),this._queueCallback(()=>{this._element.classList.remove(ln),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Me()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Me()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=Ft.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}N.on(document,Nu,Iu,function(s){const e=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),N.one(e,Qr,o=>{o.defaultPrevented||N.one(e,Jr,()=>{Wt(this)&&this.focus()})});const t=W.findOne($u);t&&Ft.getInstance(t).hide(),Ft.getOrCreateInstance(e).toggle(this)});Bs(Ft);Ve(Ft);const Mu="offcanvas",Fu="bs.offcanvas",tt=`.${Fu}`,Zr=".data-api",Vu=`load${tt}${Zr}`,Hu="Escape",So="show",Ao="showing",ko="hiding",ju="offcanvas-backdrop",ei=".offcanvas.show",Uu=`show${tt}`,Wu=`shown${tt}`,Bu=`hide${tt}`,Co=`hidePrevented${tt}`,ti=`hidden${tt}`,zu=`resize${tt}`,Ku=`click${tt}${Zr}`,Gu=`keydown.dismiss${tt}`,Yu='[data-bs-toggle="offcanvas"]',qu={backdrop:!0,keyboard:!0,scroll:!1},Xu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class lt extends je{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qu}static get DefaultType(){return Xu}static get NAME(){return Mu}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||N.trigger(this._element,Uu,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ao);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(So),this._element.classList.remove(Ao),N.trigger(this._element,Wu,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||N.trigger(this._element,Bu).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ko),this._backdrop.hide();const t=()=>{this._element.classList.remove(So,ko),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cn().reset(),N.trigger(this._element,ti)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){N.trigger(this._element,Co);return}this.hide()},t=!!this._config.backdrop;return new qr({className:ju,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Xr({trapElement:this._element})}_addEventListeners(){N.on(this._element,Gu,e=>{if(e.key===Hu){if(this._config.keyboard){this.hide();return}N.trigger(this._element,Co)}})}static jQueryInterface(e){return this.each(function(){const t=lt.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}N.on(document,Ku,Yu,function(s){const e=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),at(this))return;N.one(e,ti,()=>{Wt(this)&&this.focus()});const t=W.findOne(ei);t&&t!==e&&lt.getInstance(t).hide(),lt.getOrCreateInstance(e).toggle(this)});N.on(window,Vu,()=>{for(const s of W.find(ei))lt.getOrCreateInstance(s).show()});N.on(window,zu,()=>{for(const s of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&lt.getOrCreateInstance(s).hide()});Bs(lt);Ve(lt);const Ju=/^aria-[\w-]*$/i,si={"*":["class","dir","id","lang","role",Ju],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Qu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ed=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?Qu.has(t)?!!Zu.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function td(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...o.body.querySelectorAll("*"));for(const i of r){const a=i.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){i.remove();continue}const l=[].concat(...i.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const d of l)ed(d,c)||i.removeAttribute(d.nodeName)}return o.body.innerHTML}const sd="TemplateFactory",nd={allowList:si,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},od={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rd={entry:"(string|element|function|null)",selector:"(string|element)"};class id extends ds{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nd}static get DefaultType(){return od}static get NAME(){return sd}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,r]of Object.entries(this._config.content))this._setContent(e,r,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},rd)}_setContent(e,t,n){const o=W.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(Qe(t)){this._putElementInTemplate(it(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?td(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ke(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const ad="tooltip",ld=new Set(["sanitize","allowList","sanitizeFn"]),cn="fade",cd="modal",Ts="show",ud=".tooltip-inner",Oo=`.${cd}`,No="hide.bs.modal",Jt="hover",un="focus",dd="click",_d="manual",fd="hide",pd="hidden",vd="show",hd="shown",md="inserted",gd="click",yd="focusin",bd="focusout",Ed="mouseenter",wd="mouseleave",Td={AUTO:"auto",TOP:"top",RIGHT:Me()?"left":"right",BOTTOM:"bottom",LEFT:Me()?"right":"left"},Sd={allowList:si,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ad={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zt extends je{constructor(e,t){if(typeof Nr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Sd}static get DefaultType(){return Ad}static get NAME(){return ad}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Oo),No,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=N.trigger(this._element,this.constructor.eventName(vd)),n=(Dr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(o),N.trigger(this._element,this.constructor.eventName(md))),this._popper=this._createPopper(o),o.classList.add(Ts),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))N.on(a,"mouseover",Ms);const i=()=>{N.trigger(this._element,this.constructor.eventName(hd)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(i,this.tip,this._isAnimated())}hide(){if(!this._isShown()||N.trigger(this._element,this.constructor.eventName(fd)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ts),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))N.off(o,"mouseover",Ms);this._activeTrigger[dd]=!1,this._activeTrigger[un]=!1,this._activeTrigger[Jt]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName(pd)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(cn,Ts),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=dl(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(cn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new id({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ud]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cn)}_isShown(){return this.tip&&this.tip.classList.contains(Ts)}_createPopper(e){const t=ke(this._config.placement,[this,e,this._element]),n=Td[t.toUpperCase()];return Wn(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ke(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...ke(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")N.on(this._element,this.constructor.eventName(gd),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==_d){const n=t===Jt?this.constructor.eventName(Ed):this.constructor.eventName(yd),o=t===Jt?this.constructor.eventName(wd):this.constructor.eventName(bd);N.on(this._element,n,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusin"?un:Jt]=!0,i._enter()}),N.on(this._element,o,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusout"?un:Jt]=i._element.contains(r.relatedTarget),i._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Oo),No,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Ze.getDataAttributes(this._element);for(const n of Object.keys(t))ld.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:it(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=zt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ve(zt);const kd="popover",Cd=".popover-header",Od=".popover-body",Nd={...zt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},xd={...zt.DefaultType,content:"(null|string|element|function)"};class Gn extends zt{static get Default(){return Nd}static get DefaultType(){return xd}static get NAME(){return kd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Cd]:this._getTitle(),[Od]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Gn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ve(Gn);const $d="scrollspy",Dd="bs.scrollspy",Yn=`.${Dd}`,Ld=".data-api",Id=`activate${Yn}`,xo=`click${Yn}`,Rd=`load${Yn}${Ld}`,Pd="dropdown-item",Tt="active",Md='[data-bs-spy="scroll"]',dn="[href]",Fd=".nav, .list-group",$o=".nav-link",Vd=".nav-item",Hd=".list-group-item",jd=`${$o}, ${Vd} > ${$o}, ${Hd}`,Ud=".dropdown",Wd=".dropdown-toggle",Bd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},zd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gs extends je{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bd}static get DefaultType(){return zd}static get NAME(){return $d}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=it(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,xo),N.on(this._config.target,xo,dn,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=i=>this._targetLinks.get(`#${i.target.id}`),n=i=>{this._previousScrollData.visibleEntryTop=i.target.offsetTop,this._process(t(i))},o=(this._rootElement||document.documentElement).scrollTop,r=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const a=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(n(i),!o)return;continue}!r&&!a&&n(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(dn,this._config.target);for(const t of e){if(!t.hash||at(t))continue;const n=W.findOne(decodeURI(t.hash),this._element);Wt(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Tt),this._activateParents(e),N.trigger(this._element,Id,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Pd)){W.findOne(Wd,e.closest(Ud)).classList.add(Tt);return}for(const t of W.parents(e,Fd))for(const n of W.prev(t,jd))n.classList.add(Tt)}_clearActiveClass(e){e.classList.remove(Tt);const t=W.find(`${dn}.${Tt}`,e);for(const n of t)n.classList.remove(Tt)}static jQueryInterface(e){return this.each(function(){const t=Gs.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}N.on(window,Rd,()=>{for(const s of W.find(Md))Gs.getOrCreateInstance(s)});Ve(Gs);const Kd="tab",Gd="bs.tab",bt=`.${Gd}`,Yd=`hide${bt}`,qd=`hidden${bt}`,Xd=`show${bt}`,Jd=`shown${bt}`,Qd=`click${bt}`,Zd=`keydown${bt}`,e_=`load${bt}`,t_="ArrowLeft",Do="ArrowRight",s_="ArrowUp",Lo="ArrowDown",_n="Home",Io="End",vt="active",Ro="fade",fn="show",n_="dropdown",ni=".dropdown-toggle",o_=".dropdown-menu",pn=`:not(${ni})`,r_='.list-group, .nav, [role="tablist"]',i_=".nav-item, .list-group-item",a_=`.nav-link${pn}, .list-group-item${pn}, [role="tab"]${pn}`,oi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',vn=`${a_}, ${oi}`,l_=`.${vt}[data-bs-toggle="tab"], .${vt}[data-bs-toggle="pill"], .${vt}[data-bs-toggle="list"]`;class Vt extends je{constructor(e){super(e),this._parent=this._element.closest(r_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,Zd,t=>this._keydown(t)))}static get NAME(){return Kd}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?N.trigger(t,Yd,{relatedTarget:e}):null;N.trigger(e,Xd,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(vt),this._activate(W.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(fn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),N.trigger(e,Jd,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Ro))}_deactivate(e,t){if(!e)return;e.classList.remove(vt),e.blur(),this._deactivate(W.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(fn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),N.trigger(e,qd,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Ro))}_keydown(e){if(![t_,Do,s_,Lo,_n,Io].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!at(o));let n;if([_n,Io].includes(e.key))n=t[e.key===_n?0:t.length-1];else{const o=[Do,Lo].includes(e.key);n=Bn(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),Vt.getOrCreateInstance(n).show())}_getChildren(){return W.find(vn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=W.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(n_))return;const o=(r,i)=>{const a=W.findOne(r,n);a&&a.classList.toggle(i,t)};o(ni,vt),o(o_,fn),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(vt)}_getInnerElement(e){return e.matches(vn)?e:W.findOne(vn,e)}_getOuterElement(e){return e.closest(i_)||e}static jQueryInterface(e){return this.each(function(){const t=Vt.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}N.on(document,Qd,oi,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!at(this)&&Vt.getOrCreateInstance(this).show()});N.on(window,e_,()=>{for(const s of W.find(l_))Vt.getOrCreateInstance(s)});Ve(Vt);const c_="toast",u_="bs.toast",dt=`.${u_}`,d_=`mouseover${dt}`,__=`mouseout${dt}`,f_=`focusin${dt}`,p_=`focusout${dt}`,v_=`hide${dt}`,h_=`hidden${dt}`,m_=`show${dt}`,g_=`shown${dt}`,y_="fade",Po="hide",Ss="show",As="showing",b_={animation:"boolean",autohide:"boolean",delay:"number"},E_={animation:!0,autohide:!0,delay:5e3};class Ys extends je{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return E_}static get DefaultType(){return b_}static get NAME(){return c_}show(){if(N.trigger(this._element,m_).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(y_);const t=()=>{this._element.classList.remove(As),N.trigger(this._element,g_),this._maybeScheduleHide()};this._element.classList.remove(Po),us(this._element),this._element.classList.add(Ss,As),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||N.trigger(this._element,v_).defaultPrevented)return;const t=()=>{this._element.classList.add(Po),this._element.classList.remove(As,Ss),N.trigger(this._element,h_)};this._element.classList.add(As),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ss),super.dispose()}isShown(){return this._element.classList.contains(Ss)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,d_,e=>this._onInteraction(e,!0)),N.on(this._element,__,e=>this._onInteraction(e,!1)),N.on(this._element,f_,e=>this._onInteraction(e,!0)),N.on(this._element,p_,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Ys.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Bs(Ys);Ve(Ys);var w_=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ri;const qs=s=>ri=s,ii=Symbol();function On(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var ns;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(ns||(ns={}));function T_(){const s=sr(!0),e=s.run(()=>v({}));let t=[],n=[];const o=nr({install(r){qs(o),o._a=r,r.provide(ii,o),r.config.globalProperties.$pinia=o,n.forEach(i=>t.push(i)),n=[]},use(r){return!this._a&&!w_?n.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const ai=()=>{};function Mo(s,e,t,n=ai){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&mi()&&gi(o),o}function St(s,...e){s.slice().forEach(t=>{t(...e)})}const S_=s=>s(),Fo=Symbol(),hn=Symbol();function Nn(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];On(o)&&On(n)&&s.hasOwnProperty(t)&&!Rs(n)&&!or(n)?s[t]=Nn(o,n):s[t]=n}return s}const A_=Symbol();function k_(s){return!On(s)||!s.hasOwnProperty(A_)}const{assign:ot}=Object;function C_(s){return!!(Rs(s)&&s.effect)}function O_(s,e,t,n){const{state:o,actions:r,getters:i}=e,a=t.state.value[s];let l;function c(){a||(t.state.value[s]=o?o():{});const d=bi(t.state.value[s]);return ot(d,r,Object.keys(i||{}).reduce((p,f)=>(p[f]=nr(oe(()=>{qs(t);const _=t._s.get(s);return i[f].call(_,_)})),p),{}))}return l=li(s,c,e,t,n,!0),l}function li(s,e,t={},n,o,r){let i;const a=ot({actions:{}},t),l={deep:!0};let c,d,p=[],f=[],_;const m=n.state.value[s];!r&&!m&&(n.state.value[s]={}),v({});let h;function y(C){let R;c=d=!1,typeof C=="function"?(C(n.state.value[s]),R={type:ns.patchFunction,storeId:s,events:_}):(Nn(n.state.value[s],C),R={type:ns.patchObject,payload:C,storeId:s,events:_});const M=h=Symbol();yi().then(()=>{h===M&&(c=!0)}),d=!0,St(p,R,n.state.value[s])}const D=r?function(){const{state:R}=t,M=R?R():{};this.$patch(Q=>{ot(Q,M)})}:ai;function $(){i.stop(),p=[],f=[],n._s.delete(s)}const w=(C,R="")=>{if(Fo in C)return C[hn]=R,C;const M=function(){qs(n);const Q=Array.from(arguments),ne=[],j=[];function K(G){ne.push(G)}function V(G){j.push(G)}St(f,{args:Q,name:M[hn],store:P,after:K,onError:V});let ee;try{ee=C.apply(this&&this.$id===s?this:P,Q)}catch(G){throw St(j,G),G}return ee instanceof Promise?ee.then(G=>(St(ne,G),G)).catch(G=>(St(j,G),Promise.reject(G))):(St(ne,ee),ee)};return M[Fo]=!0,M[hn]=R,M},L={_p:n,$id:s,$onAction:Mo.bind(null,f),$patch:y,$reset:D,$subscribe(C,R={}){const M=Mo(p,C,R.detached,()=>Q()),Q=i.run(()=>os(()=>n.state.value[s],ne=>{(R.flush==="sync"?d:c)&&C({storeId:s,type:ns.direct,events:_},ne)},ot({},l,R)));return M},$dispose:$},P=pi(L);n._s.set(s,P);const k=(n._a&&n._a.runWithContext||S_)(()=>n._e.run(()=>(i=sr()).run(()=>e({action:w}))));for(const C in k){const R=k[C];if(Rs(R)&&!C_(R)||or(R))r||(m&&k_(R)&&(Rs(R)?R.value=m[C]:Nn(R,m[C])),n.state.value[s][C]=R);else if(typeof R=="function"){const M=w(R,C);k[C]=M,a.actions[C]=R}}return ot(P,k),ot(vi(P),k),Object.defineProperty(P,"$state",{get:()=>n.state.value[s],set:C=>{y(R=>{ot(R,C)})}}),n._p.forEach(C=>{ot(P,i.run(()=>C({store:P,app:n._a,pinia:n,options:a})))}),m&&r&&t.hydrate&&t.hydrate(P.$state,m),c=!0,d=!0,P}/*! #__NO_SIDE_EFFECTS__ */function Kt(s,e,t){let n,o;const r=typeof e=="function";typeof s=="string"?(n=s,o=r?t:e):(o=s,n=s.id);function i(a,l){const c=hi();return a=a||(c?fi(ii,null):null),a&&qs(a),a=ri,a._s.has(n)||(r?li(n,e,o,a):O_(n,o,a)),a._s.get(n)}return i.$id=n,i}function N_(s){return typeof s=="object"&&s!==null}function Vo(s,e){return s=N_(s)?s:Object.create(null),new Proxy(s,{get(t,n,o){return n==="key"?Reflect.get(t,n,o):Reflect.get(t,n,o)||Reflect.get(e,n,o)}})}function x_(s,e){return e.reduce((t,n)=>t==null?void 0:t[n],s)}function $_(s,e,t){return e.slice(0,-1).reduce((n,o)=>/^(__proto__)$/.test(o)?{}:n[o]=n[o]||{},s)[e[e.length-1]]=t,s}function D_(s,e){return e.reduce((t,n)=>{const o=n.split(".");return $_(t,o,x_(s,o))},{})}function L_(s,e){return t=>{var n;try{const{storage:o=localStorage,beforeRestore:r=void 0,afterRestore:i=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:c=null,debug:d=!1}=t;return{storage:o,beforeRestore:r,afterRestore:i,serializer:a,key:((n=s.key)!=null?n:p=>p)(typeof l=="string"?l:l(e.$id)),paths:c,debug:d}}catch(o){return t.debug&&console.error("[pinia-plugin-persistedstate]",o),null}}}function Ho(s,{storage:e,serializer:t,key:n,debug:o}){try{const r=e==null?void 0:e.getItem(n);r&&s.$patch(t==null?void 0:t.deserialize(r))}catch(r){o&&console.error("[pinia-plugin-persistedstate]",r)}}function jo(s,{storage:e,serializer:t,key:n,paths:o,debug:r}){try{const i=Array.isArray(o)?D_(s,o):s;e.setItem(n,t.serialize(i))}catch(i){r&&console.error("[pinia-plugin-persistedstate]",i)}}function I_(s={}){return e=>{const{auto:t=!1}=s,{options:{persist:n=t},store:o,pinia:r}=e;if(!n)return;if(!(o.$id in r.state.value)){const a=r._s.get(o.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const i=(Array.isArray(n)?n.map(a=>Vo(a,s)):[Vo(n,s)]).map(L_(s,o)).filter(Boolean);o.$persist=()=>{i.forEach(a=>{jo(o.$state,a)})},o.$hydrate=({runHooks:a=!0}={})=>{i.forEach(l=>{const{beforeRestore:c,afterRestore:d}=l;a&&(c==null||c(e)),Ho(o,l),a&&(d==null||d(e))})},i.forEach(a=>{const{beforeRestore:l,afterRestore:c}=a;l==null||l(e),Ho(o,a),c==null||c(e),o.$subscribe((d,p)=>{jo(p,a)},{detached:!0})})}}var R_=I_(),He=(s=>(s[s.MESSAGE=0]="MESSAGE",s[s.REQUEST=1]="REQUEST",s[s.RESPONSE=2]="RESPONSE",s[s.GOAL=3]="GOAL",s[s.FEEDBACK=4]="FEEDBACK",s[s.RESULT=5]="RESULT",s))(He||{}),Je=(s=>(s.FILE="file",s.DIR="directory",s))(Je||{}),Ae=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))(Ae||{}),X=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s))(X||{});const ps=Kt("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["msg"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new We([],s)),n=v(!1);let o=structuredClone(s);o.keys=[];const r=v(new We([],o)),i=v(new We([],o)),a=v(new We([],o));function l(f){n.value=f}function c(f){const _=f.msg.split("/");if(_.length!==3)return[];if(f.service){const m=_[0]+".srv."+_[2];return[{msg:m,service:!0,action:!1,type:He.MESSAGE},{msg:m+".Request",service:!0,action:!1,type:He.REQUEST},{msg:m+".Response",service:!0,action:!1,type:He.RESPONSE}]}if(f.action){const m=_[0]+".action."+_[2];return[{msg:m,action:!0,service:!1,type:He.MESSAGE},{msg:m+".Goal",action:!0,service:!1,type:He.GOAL},{msg:m+".Result",action:!0,service:!1,type:He.RESULT},{msg:m+".Feedback",action:!0,service:!1,type:He.FEEDBACK}]}return[{msg:_[0]+".msg."+_[2],service:!1,action:!1,type:He.MESSAGE}]}function d(){r.value.setCollection([]),i.value.setCollection([]),a.value.setCollection([]),e.value.forEach(f=>{if(f.msg.split(".").length>3){r.value.add(f.msg);return}if(f.service){i.value.add(f.msg);return}if(f.action){a.value.add(f.msg);return}r.value.add(f.msg)})}function p(f){e.value=f.flatMap(c),d(),t.value.setCollection(e.value)}return{messages:e,messages_fuse:t,messages_available:n,ros_msg_fuse:r,ros_srv_fuse:i,ros_action_fuse:a,areMessagesAvailable:l,updateAvailableMessages:p}}),Xs=Kt("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new We([],s)),n=v(!1);function o(i){n.value=i}function r(i){e.value=i,t.value=new We(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:r}}),me=Kt("ros",()=>{const s=ps(),e=Xs(),t=v(new U.Ros({})),n=oe(()=>t.value.isConnected),o=v("ws://"+window.location.hostname+":9090"),r=v(""),i=v(["/"]),a=v(new U.Service({ros:t.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),l=v(new U.Service({ros:t.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),c=v(new U.Service({ros:t.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),d=v(new U.Service({ros:t.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),p=v(new U.Service({ros:t.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),f=v(new U.Service({ros:t.value,name:r.value+"add_node",serviceType:"ros_bt_py_interfaces/srv/AddNode"})),_=v(new U.Service({ros:t.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),m=v(new U.Topic({ros:t.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0})),h=v(new U.Topic({ros:t.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0})),y=v(new U.Topic({ros:t.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),D=v(new U.Topic({ros:t.value,name:r.value+"messages",messageType:"ros_bt_py_interfaces/msg/Messages",latch:!0,reconnect_on_close:!0})),$=v(new U.Service({ros:t.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),w=v(new U.Service({ros:t.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),L=v(new U.Service({ros:t.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),P=v(new U.Service({ros:t.value,name:r.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),H=v(new U.Service({ros:t.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),k=v(new U.Service({ros:t.value,name:r.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),C=v(new U.Service({ros:t.value,name:r.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),R=v(new U.Service({ros:t.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),M=v(new U.Service({ros:t.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),Q=v(new U.Service({ros:t.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),ne=v(new U.Service({ros:t.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),j=v(new U.Service({ros:t.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),K=v(new U.Service({ros:t.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),V=v(new U.Service({ros:t.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),ee=v(new U.Service({ros:t.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),G=v(new U.Service({ros:t.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),se=v(new U.Service({ros:t.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));t.value.on("connection",()=>{Te()}),t.value.on("close",()=>{Ce()}),t.value.on("error",()=>{A({title:"ROS connection error!",type:"error"})});function ue(){m.value.unsubscribe(),m.value.removeAllListeners(),m.value=new U.Topic({ros:t.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0}),h.value.unsubscribe(),h.value.removeAllListeners(),h.value=new U.Topic({ros:t.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0}),D.value.unsubscribe(),D.value.removeAllListeners(),D.value=new U.Topic({ros:t.value,name:r.value+"messages",messageType:"ros_bt_py_interfaces/msg/Messages",latch:!0,reconnect_on_close:!0}),y.value.unsubscribe(),y.value.removeAllListeners(),y.value=new U.Topic({ros:t.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),_.value=new U.Service({ros:t.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),a.value=new U.Service({ros:t.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),l.value=new U.Service({ros:t.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),c.value=new U.Service({ros:t.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),d.value=new U.Service({ros:t.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),p.value=new U.Service({ros:t.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),$.value=new U.Service({ros:t.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),f.value=new U.Service({ros:t.value,name:r.value+"add_node",serviceType:"ros_bt_py_interfaces/srv/AddNode"}),w.value=new U.Service({ros:t.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),L.value=new U.Service({ros:t.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),P.value=new U.Service({ros:t.value,name:r.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),k.value=new U.Service({ros:t.value,name:r.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),C.value=new U.Service({ros:t.value,name:r.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),ne.value=new U.Service({ros:t.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),Q.value=new U.Service({ros:t.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),M.value=new U.Service({ros:t.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),R.value=new U.Service({ros:t.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),j.value=new U.Service({ros:t.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),K.value=new U.Service({ros:t.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),V.value=new U.Service({ros:t.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),ee.value=new U.Service({ros:t.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),G.value=new U.Service({ros:t.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),se.value=new U.Service({ros:t.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"})}function ge(){t.value.connect(o.value)}function J(Se){o.value=Se}function Te(){A({title:"ROS connection established!",type:"success"})}function Ce(){s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),A({title:"ROS connection closed!",type:"warn"})}function ye(Se){r.value=Se,i.value.indexOf(Se)===-1&&i.value.push(r.value),ue()}function he(Se){i.value=Se}return{ros:t,connected:n,url:o,namespace:r,available_namespaces:i,services_for_type_service:a,load_tree_service:l,fix_yaml_service:c,control_tree_execution_service:d,clear_tree_service:p,get_available_nodes_service:$,add_node_service:f,get_message_fields_service:w,unwire_data_service:L,remove_node_service:P,morph_node_service:C,set_options_service:k,move_node_service:R,replace_node_service:H,wire_data_service:Q,add_node_at_index_service:M,generate_subtree_service:ne,set_publish_subtrees_service:_,get_storage_folders_service:j,get_folder_structure_service:K,get_package_structure_service:V,save_tree_service:ee,change_tree_name_service:G,load_tree_from_path_service:se,tree_sub:m,subtree_info_sub:h,packages_sub:y,messages_sub:D,connect:ge,setUrl:J,changeNamespace:ye,setAvailableNamespaces:he,hasConnected:Te,hasDisconnected:Ce,updateROSServices:ue}},{persist:{paths:["namespace","url","available_namespaces"],storage:sessionStorage,afterRestore:s=>{s.store.updateROSServices(),s.store.connect()}}}),Gt=Kt("nodes",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new We([],s)),n=v([]);function o(a){e.value=a;const l=a.map(c=>(c.max_children<0?c.node_type="Flow control":c.max_children>0?c.node_type="Decorator":c.node_type="Leaf",c));t.value=new We(l,s)}function r(a){if(a===""){n.value=[];return}n.value=t.value.search(a).map(l=>l.item)}function i(){n.value=[]}return{nodes:e,nodes_fuse:t,filtered_nodes:n,updateAvailableNode:o,filterNodes:r,clearFilteredNodes:i}}),P_={class:"border rounded mb-2"},M_={key:0,class:"m-2"},F_={class:"d-grid gap-2 mb-2"},V_={class:"input-group mb-3"},H_=["value"],j_=re({__name:"PackageLoader",setup(s){const e=me(),t=Gt(),n=v(!1),o=v("ros_bt_py.nodes.sequence");function r(){n.value=!n.value}function i(l){const c=l.target;o.value=c.value}function a(l){e.get_available_nodes_service.callService({node_modules:[l]},c=>{c.success?(t.updateAvailableNode(c.available_nodes),A({title:"Updated available BT nodes!",type:"success"})):A({title:"Failed to update available BT nodes!",text:c.error_message,type:"error"})},c=>{A({title:"Failed to call GetAvailableNodes service!",text:c,type:"error"})})}return jt(()=>{a("")}),(l,c)=>{const d=Pe("font-awesome-icon");return b(),I("div",P_,[u("div",{onClick:r,class:"text-center cursor-pointer font-weight-bold m-2"},[c[2]||(c[2]=ce(" Package Loader ")),n.value?(b(),Z(d,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(b(),Z(d,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),n.value?be("",!0):(b(),I("div",M_,[u("div",F_,[u("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:c[0]||(c[0]=()=>a(""))}," Refresh ")]),u("div",V_,[u("input",{type:"text",class:"form-control",id:"loadPackageForm","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:o.value,onChange:i},null,40,H_),u("button",{type:"button",className:"btn btn-block btn-outline-primary",onClick:c[1]||(c[1]=()=>a(o.value)),id:"loadPackageFormConfirm"}," Load package ")])]))])}}});var de=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))(de||{}),Hs=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(Hs||{});const ve=Kt("editor",()=>{Gt();const s=v(void 0),e=v([]),t=v(!1),n=v(!1),o=v(new Set);let r=0;const i=200,a=v(),l=v(),c=v(),d=oe(()=>a.value!==void 0||l.value!==void 0||c.value!==void 0),p=v(!0),f=v("darkmode"),_=v({name:"",is_subtree:!1,tree:void 0}),m=oe(()=>e.value.map(V=>V.name)),h=v(void 0),y=v(!1);function D(V){t.value=V}function $(V){n.value=V}function w(V){o.value.add(V)}function L(V){o.value.delete(V)}function P(V){r=setTimeout(()=>a.value=V,i)}function H(V){r=setTimeout(()=>l.value=V,i)}function k(V){c.value=V}function C(){clearTimeout(r),a.value=void 0,l.value=void 0,c.value=void 0}function R(){c.value=void 0}function M(V){p.value=V}function Q(){switch(f.value){case"darkmode":f.value="lightmode";return;case"lightmode":f.value="darkmode";return;default:f.value="darkmode";return}}function ne(V,ee){let G;if(ee){if(e.value.length===0){A({title:"No Subtree Information received!",type:"error"});return}G=e.value.find(se=>se.name===V)}_.value={name:V,is_subtree:ee,tree:G}}function j(V){h.value=V}function K(){h.value=void 0}return{tree:s,publish_subtrees:t,debug:n,subtree_states:e,running_commands:o,dragging_new_node:a,dragging_existing_node:l,data_edge_endpoint:c,is_dragging:d,is_layer_mode:y,runNewCommand:w,removeRunningCommand:L,enableSubtreePublishing:D,enableDebugging:$,startDraggingNewNode:P,startDraggingExistingNode:H,startDrawingDataEdge:k,stopDragging:C,stopDrawingDataEdge:R,show_data_graph:p,enableShowDataGraph:M,skin:f,cycleEditorSkin:Q,selected_subtree:_,selectSubtree:ne,subtree_names:m,selected_edge:h,selectEdge:j,unselectEdge:K}});function Uo(s,e){if(s.node.data.name===e.node.data.name||s.kind===e.kind)return!1;const t=s.kind===Ae.OUTPUT?s:e,n=s.kind===Ae.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:_e(t.type)===_e(n.type)}const as=["int","float","long","str","basestring","unicode","bool","list","dict","set","type"];function _e(s){const e=JSON.parse(s);return e["py/type"]!==void 0?e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"string").replace(/^unicode$/,"string").replace(/^str$/,"string"):e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef"?"OptionRef("+e.option_key+")":e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function Ht(s,e=null){if(s==="type")return{type:"type",value:"int"};if(s==="int"||s==="long")return{type:"int",value:0};if(s==="str"||s==="basestring"||s==="unicode"||s==="string")return{type:"string",value:"foo"};if(s==="float")return{type:"float",value:1.2};if(s==="bool")return{type:"bool",value:!0};if(s==="list")return{type:"list",value:[]};if(s==="dict")return{type:"dict",value:{}};if(s.startsWith("OptionRef(")){const t=s.substring(10,s.length-1);if(e===null)return{type:"unset_optionref",value:'Ref to "'+t+'"'};const n=e.find(o=>o.key===t);return n?Ht(Ht(_e(n.serialized_value),e).value,e):{type:"unset_optionref",value:'Ref to "'+t+'"'}}else return s==="collections.OrderedDict"?{type:"collections.OrderedDict",value:{"py/reduce":[{"py/type":"collections.OrderedDict"},{"py/tuple":[[]]},null,null,null]}}:s==="ros_bt_py.ros_helpers.LoggerLevel"?{type:"ros_bt_py.ros_helpers.LoggerLevel",value:{"py/object":"ros_bt_py.ros_helpers.LoggerLevel",logger_level:"Debug"}}:s==="ros_bt_py.helpers.MathUnaryOperator"?{type:"ros_bt_py.helpers.MathUnaryOperator",value:{"py/object":"ros_bt_py.helpers.MathUnaryOperator",operator:"sqrt"}}:s==="ros_bt_py.helpers.MathBinaryOperator"?{type:"ros_bt_py.helpers.MathBinaryOperator",value:{"py/object":"ros_bt_py.helpers.MathBinaryOperator",operator:"+"}}:s==="ros_bt_py.helpers.MathOperandType"?{type:"ros_bt_py.helpers.MathOperandType",value:{"py/object":"ros_bt_py.helpers.MathOperandType",operand_type:"float"}}:s==="ros_bt_py.helpers.MathUnaryOperandType"?{type:"ros_bt_py.helpers.MathUnaryOperandType",value:{"py/object":"ros_bt_py.helpers.MathUnaryOperandType",operand_type:"float"}}:s==="ros_bt_py.ros_helpers.EnumValue"?{type:"ros_bt_py.ros_helpers.EnumValue",value:{"py/object":"ros_bt_py.ros_helpers.EnumValue",enum_value:"",field_names:[]}}:{type:"__"+s,value:{}}}function U_(s){const e=ps(),t=s.split(".");if(t.length<3)return console.error("Invalid message passed"),{msg:"",action:!1,service:!1,type:He.MESSAGE};let n=t.slice(0,2);t.length>3&&t[2]===t[3].replace(/[A-Z]/g,r=>"_"+r.toLowerCase())?n.push(...t.slice(3)):n.push(...t.slice(2));const o=e.messages.find(r=>r.msg===n.join("."));return o===void 0?(console.error("Invalid message passed"),{msg:n.slice(0,3).join("/"),action:!1,service:!1,type:He.MESSAGE}):{msg:n.slice(0,3).join("/"),type:o.type,action:o.action,service:o.service}}function ci(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}var rt=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(rt||{});function ui(s){let e,t;switch(s){case"Ask before overwrite":e=!1,t=!1;break;case"Overwrite file":e=!0,t=!1;break;case"Rename file":e=!1,t=!0;break;default:console.warn("Improper state for name conflict resolution strategy",s),e=!1,t=!1;break}return[e,t]}function At(s,e){return e=e||[],{key:s.key,value:Ht(_e(s.serialized_value),e)}}const De=Kt("edit_node",()=>{const s=ve(),e=Gt(),t=v(!1),n=v(!1),o=v(void 0),r=v(void 0),i=v([]),a=v("none"),l=v(""),c=v(""),d=v(""),p=v([]),f=v([]),_=v([]),m=v(!1),h=v(!1),y=oe(()=>e.nodes.filter(j=>j.max_children==-1)),D=oe(()=>y.value.filter(j=>d.value===j.module&&c.value===j.node_class).length>0),$=v(!1);function w(){n.value=!0}function L(){n.value=!1}function P(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,i.value=[],a.value="none"}function H(j){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=j,$.value=!1,t.value=!0,i.value=[],a.value="nodelist",l.value=j.name,c.value=j.node_class,d.value=j.module,m.value=!0,h.value=!1,p.value=j.options.map(K=>At(K,j.options)),f.value=j.inputs.map(K=>At(K,j.options)),_.value=j.outputs.map(K=>At(K,j.options))}function k(j){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const V=(s.selected_subtree.is_subtree?s.selected_subtree.tree:s.tree).nodes.find(se=>se.name===j);if(V===void 0){console.error("Could not find node in tree"),P();return}const ee=e.nodes.find(se=>se.node_class===V.node_class&&se.module===V.module);ee===void 0&&console.error("Cannot recover node information"),o.value=V,r.value=ee,$.value=!0,t.value=!1,i.value=[j],a.value="editor",l.value=V.name,c.value=V.node_class,d.value=V.module,m.value=!0,h.value=!1;function G(se){const ue=_e(se.serialized_type);let ge=JSON.parse(se.serialized_value);return ue==="type"&&(ge=ge["py/type"].replace("__builtin__.","").replace("builtins.","")),{key:se.key,value:{type:ue,value:ge}}}p.value=V.options.map(se=>G(se)),f.value=V.inputs.map(se=>G(se)),_.value=V.outputs.map(se=>G(se))}function C(j){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,a.value="multiple",i.value.forEach(K=>{const V=j.indexOf(K);V===-1?j.push(K):j.splice(V,1)}),i.value=j}function R(j){$.value=j}function M(j){n.value=!0,l.value=j}function Q(j){const K=y.value.find(V=>V.module+V.node_class===j);if(console.log(K),K===void 0){console.warn("Can't locate node morph target");return}r.value=K,c.value=K.node_class,d.value=K.module,p.value=K.options.map(V=>At(V,K.options)),f.value=K.inputs.map(V=>At(V,K.options)),_.value=K.outputs.map(V=>At(V,K.options)),n.value=!0,h.value=!0}function ne(j,K,V){n.value=!0;function ee(G){return G.key===K?{key:K,value:{type:G.value.type,value:V}}:G}if(j.toLowerCase()==="options"){let G=function(J,Te){const Ce=J.find(ye=>ye[0]===Te.key);if(Ce){const ye=p.value.find(he=>he.key===Ce[1]);if(ye){const he=ye.value.value;return{key:Te.key,value:Ht(he.replace("__builtin__.","").replace("builtins.",""))}}}return Te};if(r.value===void 0){console.error("Cannot recover node information");return}const se=r.value.options.filter(J=>_e(J.serialized_value).startsWith("OptionRef(")).map(J=>[J.key,_e(J.serialized_value).substring(10,_e(J.serialized_value).length-1)]).filter(J=>J[1]===K),ue=r.value.inputs.filter(J=>_e(J.serialized_value).startsWith("OptionRef(")).map(J=>[J.key,_e(J.serialized_value).substring(10,_e(J.serialized_value).length-1)]).filter(J=>J[1]===K),ge=r.value.outputs.filter(J=>_e(J.serialized_value).startsWith("OptionRef(")).map(J=>[J.key,_e(J.serialized_value).substring(10,_e(J.serialized_value).length-1)]).filter(J=>J[1]===K);p.value=p.value.map(ee),p.value=p.value.map(J=>G(se,J)),ue.length>0&&(f.value=f.value.map(J=>G(ue,J))),ge.length>0&&(_.value=_.value.map(J=>G(ge,J)))}else j.toLowerCase()==="inputs"?f.value=f.value.map(ee):j.toLowerCase()==="outputs"&&(_.value=_.value.map(ee))}return{selected_node:o,reference_node:r,selected_node_names:i,last_seletion_source:a,node_has_changed:n,copy_node_mode:$,node_is_valid:m,node_is_morphed:h,new_node_name:l,new_node_class:c,new_node_module:d,new_node_options:p,new_node_inputs:f,new_node_outputs:_,flow_control_nodes:y,is_flow_control_node:D,nodeListSelectionChange:H,editorSelectionChange:k,selectMultipleNodes:C,clearSelection:P,setNodeHasChanged:w,clearNodeHasChanged:L,changeCopyMode:R,changeNodeName:M,changeNodeClass:Q,updateParamValue:ne}}),W_={class:"io_values list-group-item"},B_={class:"table"},z_=["title"],K_=["title"],mn=re({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){return(e,t)=>(b(),I("div",W_,[u("h5",null,B(e.title),1),u("table",B_,[u("tbody",null,[(b(!0),I(le,null,pe(e.io_node_data,n=>(b(),I("tr",{key:e.title+n.key},[u("td",{title:n.key,class:"io_key text-truncate maxw0"},B(n.key),9,z_),u("td",{title:E(_e)(n.serialized_value),class:"io_type text-truncate maxw0 text-muted pl-2"},B(E(_e)(n.serialized_value)),9,K_)]))),128))])])]))}}),G_={class:"d-flex justify-content-between"},Y_={class:"d-flex w-100"},q_={class:"text-truncate"},X_=["title"],J_={key:0},Q_={key:0,class:"list-group-item mt-1"},Z_={class:"list-group"},ef=re({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=ve(),n=De(),o=oe(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),r=oe(()=>o.value?"border-primary":"grab"),i=oe(()=>e.node.max_children<0?"Flow control":e.node.max_children>0?"Decorator":"Leaf"),a=v(!0);function l(){console.log("click "+e.node.name),n.nodeListSelectionChange(e.node)}return(c,d)=>{const p=Pe("font-awesome-icon");return b(),I("div",{class:Oe(["border rounded p-2 m-2",r.value]),tabindex:"0",onClick:l,onMousedown:d[1]||(d[1]=Ei(()=>E(t).startDraggingNewNode(c.node),["stop","prevent"])),onKeydown:d[2]||(d[2]=f=>{f.key=="Enter"&&E(n).nodeListSelectionChange(c.node)})},[u("div",G_,[u("div",Y_,[u("h4",q_,B(c.node.node_class),1),z(p,{icon:"fa-solid fa-question-circle",class:"ps-2 pe-2","aria-hidden":"true",title:E(ci)(c.node.doc)},null,8,["title"]),z(p,{icon:"fa-solid "+(a.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:d[0]||(d[0]=()=>{a.value=!a.value})},null,8,["icon"])])]),u("h5",{title:c.node.module,class:"node_module text-truncate text-muted"},B(c.node.module),9,X_),u("div",null,B(i.value+" (max_children: "+(e.node.max_children>=0?e.node.max_children:"")+")"),1),a.value?be("",!0):(b(),I("div",J_,[c.node.tags.length>0?(b(),I("div",Q_,[d[3]||(d[3]=ce(" Tags: ")),(b(!0),I(le,null,pe(c.node.tags,f=>(b(),I("span",{class:"border rounded p-2 m-1 tag",key:f},B(f),1))),128))])):be("",!0),u("div",Z_,[c.node.options.length>0?(b(),Z(mn,{key:0,title:"Options",io_node_data:c.node.options},null,8,["io_node_data"])):be("",!0),c.node.inputs.length>0?(b(),Z(mn,{key:1,title:"Inputs",io_node_data:c.node.inputs},null,8,["io_node_data"])):be("",!0),c.node.outputs.length>0?(b(),Z(mn,{key:2,title:"Outputs",io_node_data:c.node.outputs},null,8,["io_node_data"])):be("",!0)])]))],34)}}});const Yt=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},tf=Yt(ef,[["__scopeId","data-v-bb914c01"]]),sf={class:"border rounded m-1 pb-2 d-flex flex-column"},nf={key:0,class:"scroll-col flex-shrink-1"},of=re({__name:"NodeList",setup(s){const e=v(!1),t=Gt(),n=function(i,a){return i.node_class<a.node_class?-1:i.node_class>a.node_class?1:0},o=function(i,a){return i.module<a.module?-1:i.module>a.module?1:n(i,a)},r=oe(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let i=[...t.nodes].sort(n);return i=i.sort(o),i}});return(i,a)=>{const l=Pe("font-awesome-icon");return b(),I("div",sf,[u("div",{onClick:a[0]||(a[0]=()=>{e.value=!e.value}),class:"text-center cursor-pointer m-2"},[a[1]||(a[1]=ce(" Node List ")),z(l,{icon:"fa-solid "+(e.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),e.value?be("",!0):(b(),I("div",nf,[(b(!0),I(le,null,pe(r.value,c=>(b(),Z(tf,{key:c.node_class+c.module,node:c},null,8,["node"]))),128))]))])}}});const rf=Yt(of,[["__scopeId","data-v-a22e8819"]]),af={class:"input-group my-2"},lf=["value"],cf={label:"Subtrees"},uf=["value"],df=["checked"],Wo="publish_subtrees",_f=re({__name:"SelectSubtree",setup(s){const e=ve(),t=me();function n(i){const a=i.target;if(!t.connected){A({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}t.set_publish_subtrees_service.callService({data:a.checked},l=>{l.success?(A({title:(a.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(a.checked)):A({title:"Failed to toggle subtree publishing",text:l.message,type:"warn"})},l=>{A({title:"Failed to call setPublishSubtrees service",text:l,type:"error"})})}function o(i){const a=i.target,l=parseInt(a.value);l<0?e.selectSubtree("",!1):e.selectSubtree(e.subtree_names[l],!0)}const r=oe(()=>e.selected_subtree.is_subtree?e.selected_subtree.name:"main");return(i,a)=>{const l=Pe("font-awesome-icon");return b(),I("div",null,[u("div",af,[a[1]||(a[1]=u("label",{class:"input-group-text",for:"formTree"}," Tree ",-1)),u("select",{id:"formTree",class:"form-select",value:E(e).subtree_names.indexOf(r.value),onChange:o},[a[0]||(a[0]=u("option",{value:"-1"},"Main Tree",-1)),u("optgroup",cf,[(b(!0),I(le,null,pe(E(e).subtree_names,(c,d)=>(b(),I("option",{key:c,value:d},B(c),9,uf))),128))])],40,lf),u("input",{type:"checkbox",id:Wo,class:"btn-check",autocomplete:"off",checked:E(e).publish_subtrees,onChange:n},null,40,df),u("label",{class:"btn btn-primary",for:Wo,title:"Publish subtrees"},[z(l,{class:Oe(E(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])])}}}),ff=["visibility"],pf=["href"],vf=["href"],hf=["href"],mf=["visibility"],gf=["fill"],yf=30,Le=50,ks=10,Ie=15,Qt=10,Bo=10,bf=100,Ef=5,zo=50,Xe="__forest_root",nt=80,Ko=150,Cs="node",Zt="btnode",Go="node_name",Yo="class_name",qo="link",Os="drop_target",es="gripper-group",Xo="gripper",kt="label",Jo="label-type",Ns="data-link",Qo="hightlightEdge",gn="highlightV1",Zo="highlightV2",Ct="data-hover",yn="compatible",wf="node-selected",xs="data-select",Tf=re({__name:"D3BehaviorTreeEditor",setup(s){const e=ve(),t=De(),n=me(),o=v(),r=v(),i=v(),a=v(),l=v(),c=v(),d=v(),p=v(),f=v(),_=v();let m,h=!1,y=!1,D=0,$=0;const w=v([]);let L,P=[0,0],H;function k(){if(o.value===void 0||r.value===void 0||m===void 0){A({title:"Element reference undefined!",type:"error"});return}const O=te(o.value),T=O.node().getBoundingClientRect().height;O.call(m.translateTo,0,T*.5-10)}function C(O){function T(S,F){return F=F||[],S.map(Y=>({key:Y.key,value:Ht(_e(Y.serialized_value),F)}))}const g=T(O.options),x=g.map(S=>{if(S.value.type==="unset_optionref"){const F=S.value.value,Y=F.substring(8,F.length-1),fe=g.find(ie=>ie.key===Y);if(fe&&fe.value)return{key:S.key,value:Ht(fe.value.value)}}return{key:S.key,value:S.value}});return{module:O.module,node_class:O.node_class,name:O.name,options:x.map(S=>{const F={key:S.key,serialized_value:"",serialized_type:""};if(S.value.type==="type")as.indexOf(S.value.value)>=0&&(S.value.value="__builtin__."+S.value.value),F.serialized_value=JSON.stringify({"py/type":S.value.value});else if(S.value.type.startsWith("__")){const Y=S.value.value;Y["py/object"]=S.value.type.substring(2),F.serialized_value=JSON.stringify(S.value.value)}else F.serialized_value=JSON.stringify(S.value.value);return F}),child_names:[],inputs:[],outputs:[],version:"",max_children:0,state:""}}function R(){if(o.value===void 0)return;if(!e.is_dragging){L!==void 0&&(window.clearInterval(L),P=[]);return}const O=o.value.getBoundingClientRect().width,T=o.value.getBoundingClientRect().height,g=gs(o.value);let x=!1;if(P=[0,0],g[0]<Le){x=!0;const S=(Le-g[0])/Le;P[0]=ks*S}else if(g[0]>O-Le){x=!0;const S=(Le-(O-g[0]))/Le;P[0]=-1*ks*S}if(g[1]<Le){x=!0;const S=(Le-g[1])/Le;P[1]=ks*S}else if(g[1]>T-Le){x=!0;const S=(Le-(T-g[1]))/Le;P[1]=-1*ks*S}if(!x&&L!==void 0){window.clearInterval(L),L=void 0;return}L===void 0&&(L=window.setInterval(M,1e3/yf))}function M(){if(!e.is_dragging&&L){window.clearInterval(L),L=void 0;return}te(o.value).call(m.translateBy,P[0],P[1])}hs(Q);function Q(){if(e.tree===void 0){console.warn("Tree is undefined");return}if(i.value===void 0){console.warn("DOM is broken");return}H=xi().duration(100).ease($i);const O=q=>({key:q.key,serialized_type:q.serialized_type}),T=e.selected_subtree.is_subtree?e.selected_subtree.tree:e.tree,g=T.nodes.map(q=>({node_class:q.node_class,module:q.module,name:q.name,state:q.state,max_children:q.max_children,child_names:q.child_names,options:q.options.map(O),inputs:q.inputs.map(O),outputs:q.outputs.map(O),size:{width:1,height:1}})),x={node_class:"",module:"",state:"",max_children:-1,name:Xe,child_names:[],inputs:[],outputs:[],options:[],size:{width:0,height:0}};g.findIndex(q=>q.name===Xe)<0&&g.push(x);const S={};for(const q in g){const ae=g[q];for(const _t in ae.child_names)S[ae.child_names[_t]]=ae.name}const F=Di().id(q=>q.name).parentId(q=>q.name in S?S[q.name]:q.name===x.name?void 0:(x.child_names.push(q.name),x.name))(g);F.sort(function(q,ae){if(q.depth!==ae.depth)return ae.depth-q.depth;for(;q.parent!==ae.parent;)q=q.parent,ae=ae.parent;const _t=q.parent.data.child_names;return _t.findIndex(ft=>ft===q.data.name)-_t.findIndex(ft=>ft===ae.data.name)});const fe=te(i.value).selectAll("."+Cs).data(F.descendants().filter(q=>q.data.name!==Xe),q=>q.id).join(ne).call(j).call(K),ie=V(fe,F);ee(ie),G(ie),ye(ie,T.data_wirings)}function ne(O){const T=O.append("foreignObject").classed(Cs,!0).classed("node--internal",x=>x.children!==void 0&&x.children.length>0).classed("node--leaf",x=>x.children===void 0||x.children.length==0).on("click.select",x=>{Ue.shiftKey?t.selectMultipleNodes([x.data.name]):t.editorSelectionChange(x.data.name),Ue.stopPropagation()});e.selected_subtree.is_subtree||T.on("mousedown.dragdrop",x=>{e.startDraggingExistingNode(x),Ue.stopPropagation()});const g=T.append("xhtml:body").classed(Zt+" p-2",!0).style("min-height",x=>{const S=x.data.inputs||[],F=x.data.outputs||[],Y=Math.max(S.length,F.length);return(Ie+Qt)*Y+"px"});return g.append("h4").classed(Go,!0),g.append("h5").classed(Yo,!0),T}function j(O){const T=O.select("."+Zt);T.select("."+Go).html(x=>x.data.name),T.select("."+Yo).html(x=>x.data.node_class);const g=Li(o.value).k;return T.each(function(x){const S=this.getBoundingClientRect();x.data.size.width=S.width/g,x.data.size.height=S.height/g}),O.transition(H).attr("width",x=>x.data.size.width).attr("height",x=>x.data.size.height),O}function K(O){O.select("."+Zt).transition(H).style("border-color",T=>{switch(T.data.state){case"RUNNING":return"var(--node-color-running)";case"IDLE":return"var(--node-color-idle)";case"SUCCEEDED":return"var(--node-color-succeeded)";case"FAILED":return"var(--node-color-failed)";case"SHUTDOWN":return"var(--node-color-shutdown)";case"UNINITIALIZED":default:return"var(--node-color-default)"}})}function V(O,T){const g=Array(T.height+1).fill(0);O.each(S=>{g[S.depth]=Math.max(S.data.size.height,g[S.depth])});const x=Ii({nodeSize:S=>{let F;return e.is_layer_mode?F=g[S.depth]:F=S.data.size.height,F+=S.depth>0?nt:0,[S.data.size.width,F]},spacing:(S,F)=>e.is_layer_mode?nt:S.parent!==F.parent?2*nt:nt})(T);return O.data(x.descendants().filter(S=>S.data.name!==Xe),S=>S.id).transition(H).attr("x",S=>S.x-S.data.size.width/2).attr("y",S=>S.y),x}function ee(O){if(a.value===void 0){console.warn("DOM is broken");return}te(a.value).selectAll("."+qo).data(O.links().filter(T=>T.source.data.name!==Xe),T=>T.source.id+"###"+T.target.id).join("path").classed(qo,!0).transition(H).attr("d",Ri().source(T=>{const g=T.source;return[g.x,g.y+g.data.size.height]}).target(T=>{const g=T.target;return[g.x,g.y]}))}function G(O){if(p.value===void 0){console.warn("DOM is broken");return}const T=[];e.selected_subtree.is_subtree||O.each(g=>{g.data.name!==Xe&&(T.push({node:g,position:X.LEFT}),T.push({node:g,position:X.CENTER}),T.push({node:g,position:X.RIGHT}),T.push({node:g,position:X.TOP}),(g.data.max_children===-1||g.data.max_children>g.data.child_names.length)&&T.push({node:g,position:X.BOTTOM}))}),T.length===0&&(O.data.size.width=Ko,O.data.size.height=Ko,T.push({node:O,position:X.CENTER})),te(p.value).selectAll("."+Os).data(T,g=>g.node.id+"###"+g.position).join("rect").classed(Os,!0).attr("width",g=>{switch(g.position){case X.LEFT:case X.RIGHT:return nt;case X.TOP:case X.BOTTOM:case X.CENTER:return g.node.data.size.width;default:return 0}}).attr("height",g=>{switch(g.position){case X.LEFT:case X.RIGHT:case X.CENTER:return g.node.data.size.height;case X.TOP:case X.BOTTOM:return .45*nt;default:return 0}}).attr("x",g=>{switch(g.position){case X.LEFT:return g.node.x-nt-.5*g.node.data.size.width;case X.RIGHT:return g.node.x+.5*g.node.data.size.width;case X.TOP:case X.BOTTOM:case X.CENTER:return g.node.x-.5*g.node.data.size.width;default:return 0}}).attr("y",g=>{switch(g.position){case X.LEFT:case X.RIGHT:case X.CENTER:return g.node.y;case X.TOP:return g.node.y-.5*nt;case X.BOTTOM:return g.node.y+g.node.data.size.height;default:return 0}}).attr("opacity",.2).on("mouseover.highlight",function(){te(this).attr("opacity",.8)}).on("mouseout.highlight",function(){te(this).attr("opacity",.2)}).on("mouseup.dragdrop",g=>{e.dragging_new_node?J(g):e.dragging_existing_node?ue(g):console.warn("Unintended drag release")})}function se(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}function ue(O){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const T=e.dragging_existing_node.data.name;let g="",x=-1;O.node.parent&&(O.position===X.BOTTOM?(g=O.node.data.name,x=0):O.node.parent.data.name!==Xe&&(g=O.node.parent.data.name,x=O.node.parent.children.indexOf(O.node)),O.position===X.RIGHT&&x++,g===e.dragging_existing_node.parent.data.name&&x>O.node.parent.children.findIndex(S=>S.data.name===T)&&x--),n.move_node_service.callService({node_name:T,new_parent_name:g,new_child_index:x},S=>{S.success?(A({title:"Moved node "+T,type:"success"}),Ce(T,O)):A({title:"Failed to move node "+O.node.data.name,text:S.error_message,type:"warn"})},S=>{A({title:"Failed to call moveNode service",text:S,type:"error"})})}hs(ge);function ge(){if(p.value===void 0){console.warn("DOM is broken");return}const O=te(p.value).selectAll("."+Os).attr("visibility",null);e.dragging_existing_node!==void 0&&(O.filter(T=>e.dragging_existing_node.descendants().find(g=>g.data.name===T.node.data.name)!==void 0).attr("visibility","hidden"),O.filter(T=>{switch(T.position){case X.CENTER:return e.dragging_existing_node.data.max_children!==-1&&T.node.data.child_names.length+e.dragging_existing_node.data.child_names.length>e.dragging_existing_node.data.max_children;case X.TOP:return e.dragging_existing_node.data.child_names.length>=e.dragging_existing_node.data.max_children;case X.BOTTOM:return T.node.data.max_children!==-1&&T.node.data.name!==e.dragging_existing_node.parent.data.name&&T.node.data.child_names.length>=T.node.data.max_children;case X.LEFT:case X.RIGHT:return T.node.parent.data.max_children!==-1&&T.node.parent.data.name!==e.dragging_existing_node.parent.data.name&&T.node.parent.data.child_names.length>=T.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden"))}function J(O){let T;if(e.dragging_new_node!==void 0)T=C(e.dragging_new_node);else{console.warn("Tried to add new node by dragging but none selected");return}let g="",x=-1;O.node.parent&&(O.position===X.BOTTOM?(g=O.node.data.name,x=0):O.node.parent.data.name!==Xe&&(g=O.node.parent.data.name,x=O.node.parent.children.indexOf(O.node)),O.position===X.RIGHT&&x++),n.add_node_at_index_service.callService({parent_name:g,node:T,allow_rename:!0,new_child_index:x},S=>{S.success?(A({title:"Added node "+S.actual_node_name,type:"success"}),O.node.parent&&Ce(S.actual_node_name,O)):A({title:"Failed to add node "+T.name,text:S.error_message,type:"warn"})},S=>{A({title:"Failed to call addNodeAtIndex service",text:S,type:"error"})})}hs(Te);function Te(){if(p.value===void 0){console.warn("DOM is broken");return}const O=te(p.value).selectAll("."+Os).attr("visibility",null);e.dragging_new_node!==void 0&&O.filter(T=>{switch(T.position){case X.CENTER:return e.dragging_new_node.max_children!==-1&&T.node.data.child_names.length>e.dragging_new_node.max_children;case X.TOP:return e.dragging_new_node.max_children===0;case X.BOTTOM:return T.node.data.max_children!==-1&&T.node.data.child_names.length>=T.node.data.max_children;case X.LEFT:case X.RIGHT:return T.node.parent.data.max_children!==-1&&T.node.parent.data.child_names.length>=T.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden")}function Ce(O,T){if(O===""){console.warn("Didn't get a node name back");return}T.position===X.TOP&&n.move_node_service.callService({node_name:T.node.data.name,new_parent_name:O,new_child_index:0},g=>{g.success?A({title:"Moved node "+T.node.data.name,type:"success"}):A({title:"Failed to move node "+T.node.data.name,text:g.error_message,type:"warn"})},g=>{A({title:"Failed to call moveNode service",text:g,type:"error"})}),T.position===X.CENTER&&(T.node.data.child_names.forEach(g=>{n.move_node_service.callService({node_name:g,new_parent_name:O,new_child_index:-1},x=>{x.success?A({title:"Moved node "+g,type:"success"}):A({title:"Failed to move node "+g,text:x.error_message,type:"warn"})},x=>{A({title:"Failed to call moveNode service",text:x,type:"error"})})}),n.remove_node_service.callService({node_name:T.node.data.name,remove_children:!1},g=>{g.success?A({title:"Removed node",type:"success"}):A({title:"Failed to remove node",text:g.error_message,type:"warn"})},g=>{A({title:"Failed to call removeNode service",text:g,type:"error"})}))}function ye(O,T){if(e.tree===void 0){console.warn("No tree received yet");return}if(l.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const g=[];O.each(S=>{S.data.name!==Xe&&(S.data.inputs.map((F,Y)=>{g.push({node:S,index:Y,kind:Ae.INPUT,key:F.key,type:F.serialized_type,x:S.x-S.data.size.width*.5-Ie,y:S.y+Qt+Y*(Ie+Qt)})}),S.data.outputs.map((F,Y)=>{g.push({node:S,index:Y,kind:Ae.OUTPUT,key:F.key,type:F.serialized_type,x:S.x+S.data.size.width*.5,y:S.y+Qt+Y*(Ie+Qt)})}))});const x=te(d.value).selectAll("."+es).data(g,S=>S.node.id+"###"+S.kind+"###"+S.index).join(he);x.select("."+kt).select("."+Jo).text(S=>"(type: "+_e(S.type)+")"),e.selected_subtree.is_subtree||x.select("."+Xo).on("mousedown.drawedge",S=>{e.startDrawingDataEdge(S)}).on("mouseup.drawedge",S=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!Uo(S,e.data_edge_endpoint)){console.warn("Invalid edge");return}S.kind===Ae.INPUT?Et(e.data_edge_endpoint,S):Et(S,e.data_edge_endpoint)}),x.transition(H).attr("transform",S=>"translate("+S.x+", "+S.y+")"),Se(g,x,T)}function he(O){const T=O.append("g").classed(es,!0).on("mouseover.highlight",function(){if(e.is_dragging){const x=te(this).classed(yn);te(this).classed(Ct,x)}else te(this).classed(Ct,!0).attr("id",gn).select("."+kt).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?te(this).classed(Ct,!1):te(this).classed(Ct,!1).attr("id",null).select("."+kt).attr("visibility","hidden")});return T.append("rect").classed(Xo,!0).attr("width",Ie).attr("height",Ie),T.append("text").classed(kt,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",x=>x.kind===Ae.INPUT?"end":"start").text(x=>x.key).attr("x",x=>{switch(x.kind){case Ae.INPUT:return-5;case Ae.OUTPUT:return Ie+5;case Ae.OTHER:default:return 0}}).attr("y",.5*Ie).append("tspan").classed(Jo,!0).attr("x",function(){return te(this.parentElement).attr("x")}).attr("dy","1em"),T}function Se(O,T,g){if(l.value===void 0||d.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const x=[];function S(F,Y){return F.node_name===Y.node.data.name&&F.data_kind===Y.kind&&F.data_key===Y.key}g.forEach(F=>{const Y=O.find(ie=>S(F.source,ie)),fe=O.find(ie=>S(F.target,ie));if(Y===void 0||fe===void 0){console.warn("Bad data edge",Y,fe);return}Y.kind===Ae.INPUT?x.push({source:fe,target:Y,wiring:F}):x.push({source:Y,target:fe,wiring:F})}),te(c.value).selectAll("."+Ns).data(x,F=>F.source.node.id+"###"+F.source.kind+"###"+F.source.index+"#####"+F.target.node.id+"###"+F.target.kind+"###"+F.target.index).join("path").classed(Ns,!0).on("click.select",F=>{e.selectEdge(F.wiring),Ue.stopPropagation()}).on("mouseover.highlight",function(F){e.is_dragging||(T.filter(Y=>Y===F.source||Y===F.target).dispatch("mouseover").attr("id",Y=>Y.kind===Ae.INPUT?Zo:gn).select("."+kt).attr("visibility",Y=>Y.kind===Ae.INPUT?"hidden":"visible"),te(this).classed(Ct,!0).attr("id",Qo))}).on("mouseout.highlight",function(F){e.is_dragging||(T.filter(Y=>Y===F.source||Y===F.target).dispatch("mouseout"),te(this).classed(Ct,!1).attr("id",null))}).transition(H).attr("d",F=>Ye(F.source,F.target))}function Ye(O,T){const g=Pi().x(ie=>ie.x+Ie/2).y(ie=>ie.y+Ie/2).curve(Mi.alpha(.9));let x=Math.abs(O.x-T.x)/bf;x=Math.min(Math.max(x,0),Ef);const S=T.y-O.y>zo,F=O.y-T.y>zo,Y={x:O.x+Bo,y:O.y-x*(S?-1:1)},fe={x:T.x-Bo,y:T.y-x*(F?-1:1)};return g([O,Y,fe,T])}hs(qe);function qe(){if(d.value===void 0||f.value===void 0){console.warn("DOM is broken");return}const O=te(d.value).selectAll("."+es).classed(yn,!1);O.select("."+kt).attr("visibility","hidden");const T=te(f.value).attr("d",null);e.data_edge_endpoint!==void 0&&(O.filter(g=>Uo(g,e.data_edge_endpoint)).classed(yn,!0),T.attr("d",()=>Ye(e.data_edge_endpoint,e.data_edge_endpoint)))}function Et(O,T){n.wire_data_service.callService({wirings:[{source:{node_name:O.node.data.name,data_kind:O.kind,data_key:O.key},target:{node_name:T.node.data.name,data_kind:T.kind,data_key:T.key}}],ignore_failure:!1},g=>{g.success?A({title:"Added data edge",type:"success"}):A({title:"Failed to add data edge",text:g.error_message,type:"warn"})},g=>{A({title:"Failed to call dataWiring service",text:g,type:"error"})})}os(()=>[t.selected_node_names,w.value],()=>Js());function Js(){if(i.value===void 0){console.warn("DOM is broken");return}const O=t.selected_node_names.filter(x=>!w.value.includes(x)),T=w.value.filter(x=>!t.selected_node_names.includes(x)),g=O.concat(T);te(i.value).selectAll("."+Cs).select("."+Zt).classed(wf,x=>g.includes(x.data.name))}os(()=>e.selected_edge,()=>{qt()});function qt(){if(c.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const O=te(c.value),T=te(d.value);if(O.selectAll("."+Ns).classed(xs,!1),T.selectAll("."+es).classed(xs,!1),e.selected_edge!==void 0){const g=O.selectAll("."+Ns).filter(x=>x.wiring===e.selected_edge).classed(xs,!0).datum();T.selectAll("."+es).filter(x=>x===g.source||x===g.target).classed(xs,!0)}}return jt(()=>{if(o.value===void 0||r.value===void 0){A({title:"Element reference undefined!",type:"error"});return}const O=te(o.value);m=Ni(),m.scaleExtent([.3,1]);const T=te(r.value);O.call(m.on("zoom",function(){T.attr("transform",Ue.transform)})),m.filter(function(){return!Ue.shiftKey&&(!e.is_dragging||Ue.type==="wheel")}),k(),O.on("mousemove.pan_if_drag",R),O.on("click.unselect",()=>{Ue.shiftKey||(t.clearSelection(),e.unselectEdge())}),h=!1,y=!1,O.on("mousedown.drawselect",()=>{if(r.value===void 0){console.warn("DOM is broken");return}if(Ue.shiftKey){h=!0;const[g,x]=gs(r.value);D=g,$=x}}),O.on("mousemove.drawselect",()=>{if(r.value===void 0||i.value===void 0||_.value===void 0){console.warn("DOM is broken");return}if(Ue.shiftKey&&h){y=!0;const g=te(_.value),[x,S]=gs(r.value),F=Math.min(x,D),Y=Math.min(S,$),fe=Math.abs(x-D),ie=Math.abs(S-$);g.attr("x",F).attr("y",Y),g.attr("width",fe).attr("height",ie);let q=[];te(i.value).selectAll("."+Cs).select("."+Zt).each(ae=>{ae.x-ae.data.size.width/2>=F&&ae.x+ae.data.size.width/2<=F+fe&&ae.y>=Y&&ae.y+ae.data.size.height<=Y+ie&&q.push(ae.data.name)}),w.value=q}}),O.on("mouseup.drawselect",()=>{if(i.value===void 0||_.value===void 0){console.warn("DOM is broken");return}h&&y&&(h=!1,y=!1,te(_.value).attr("width",0).attr("height",0),t.selectMultipleNodes(w.value),w.value=[])}),O.on("mousemove.drawedge",()=>{if(r.value===void 0||f.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[g,x]=gs(r.value),S={x:g-Ie/2,y:x-Ie/2};te(f.value).attr("d",()=>e.data_edge_endpoint.kind===Ae.INPUT?Ye(S,e.data_edge_endpoint):Ye(e.data_edge_endpoint,S))}),O.on("mouseup.drawedge",()=>{if(f.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),te(f.value).attr("d",null)})}),(O,T)=>(b(),I("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:Oe(["reactive-svg",E(e).skin])},[u("g",{id:"container",ref_key:"svg_g_ref",ref:r},[u("g",{class:"edges",ref_key:"g_edges_ref",ref:a},null,512),u("g",{class:"vertices",ref_key:"g_vertices_ref",ref:i},null,512),u("g",{class:"data_graph",ref_key:"g_data_graph_ref",ref:l,visibility:E(e).show_data_graph?"visible":"hidden"},[u("g",{class:"data_edges",ref_key:"g_data_edges_ref",ref:c},null,512),u("g",{class:"data_vertices",ref_key:"g_data_vertices_ref",ref:d},null,512),u("use",{href:"#"+gn,"pointer-events":"none"},null,8,pf),u("use",{href:"#"+Zo,"pointer-events":"none"},null,8,vf),u("use",{href:"#"+Qo,"pointer-events":"none"},null,8,hf)],8,ff),u("g",{class:"drop_targets",ref_key:"g_drop_targets_ref",ref:p,visibility:se()},null,8,mf),u("path",{class:"drawing-indicator",ref_key:"draw_indicator_ref",ref:f},null,512),u("rect",{class:"selection",ref_key:"selection_rect_ref",ref:_},null,512)],512),u("text",{x:"10",y:"20",fill:E(e).skin===E(Hs).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:k}," Reset View ",8,gf)],2))}});const Sf={class:"d-flex flex-column"},Af={class:"btn-group d-flex mb-2",role:"group"},kf={class:"d-flex justify-content-between align-items-center mb-3"},Cf={class:""},Of={class:"text-primary"},Nf={class:""},xf={class:"text-primary"},$f=re({__name:"BehaviorTreeEdge",setup(s){const e=me(),t=ve(),n=De();function o(){const a=t.selected_edge;e.unwire_data_service.callService({wirings:[{source:a.source,target:a.target}]},l=>{l.success?(A({title:"Removed data edge: "+a.source+" -> "+a.target+"!",type:"success"}),t.unselectEdge()):A({title:"Failed to remove data edge: "+a.source+" -> "+a.target+"!",text:l.error_message,type:"error"})})}function r(){n.editorSelectionChange(t.selected_edge.source.node_name)}function i(){n.editorSelectionChange(t.selected_edge.target.node_name)}return(a,l)=>(b(),I("div",Sf,[u("div",Af,[u("button",{class:"btn btn-danger w-100",onClick:l[0]||(l[0]=()=>o())},"Delete Edge")]),u("div",kf,[u("div",Cf,[u("button",{class:"btn btn-outline-contrast",onClick:l[1]||(l[1]=()=>r())},[u("span",Of,B(E(t).selected_edge.source.node_name),1),l[3]||(l[3]=u("br",null,null,-1)),ce(" "+B(E(t).selected_edge.source.data_kind),1),l[4]||(l[4]=u("br",null,null,-1)),ce(" "+B(E(t).selected_edge.source.data_key),1)])]),l[7]||(l[7]=u("hr",{class:"flex-fill connector"},null,-1)),u("div",Nf,[u("button",{class:"btn btn-outline-contrast",onClick:l[2]||(l[2]=()=>i())},[u("span",xf,B(E(t).selected_edge.target.node_name),1),l[5]||(l[5]=u("br",null,null,-1)),ce(" "+B(E(t).selected_edge.target.data_kind),1),l[6]||(l[6]=u("br",null,null,-1)),ce(" "+B(E(t).selected_edge.target.data_key),1)])])])]))}});const Df=Yt($f,[["__scopeId","data-v-7a274266"]]),Lf={class:"fs-1 mb-3 mt-4 mx-4"},If={key:0,class:"mx-4 mb-4"},Rf={class:"input-group mb-3"},Pf={class:"input-group-text"},Mf=["disabled"],Ff={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},Vf=["onClick"],Hf={key:1},jf={class:"input-group mb-3"},Uf=["disabled"],Wf=["onClick"],Bf={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},zf=["onClick"],Kf={key:2},Gf={key:1},qn=re({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=me(),r=Xs(),i=RegExp("config|hook|cmake|environment"),a=v(null),l=v([]),c=v(""),d=v(new We([],{keys:["package","path"]})),p=oe(()=>{let k;return t.fromPackages?c.value===""?k=r.packages:k=r.packages_fuse.search(c.value).map(C=>C.item):c.value===""?k=l.value:k=d.value.search(c.value).map(C=>C.item),k.sort((C,R)=>C.package.localeCompare(R.package))}),f=oe(()=>t.fromPackages&&r.packages_available||l.value.length>0),_=v(null),m=v(null),h=v(new We([],{keys:["data.name"]})),y=oe(()=>{var C;let k=[];return t.search_term===""?k=((C=_.value)==null?void 0:C.children)||[]:k=h.value.search(t.search_term).map(R=>R.item),k=k.filter(R=>{var M;switch(R.data.type){case Je.DIR:return t.fromPackages&&(_.value===void 0||((M=_.value)==null?void 0:M.parent)===null)?!i.test(R.data.name):!0;case Je.FILE:return t.file_filter===void 0?!0:t.file_filter.test(R.data.name);default:return!1}}),k.sort((R,M)=>R.data.type===M.data.type?R.data.name.localeCompare(M.data.name):R.data.type===Je.DIR?-1:1)});function D(){o.get_storage_folders_service.callService({},k=>{l.value=k.storage_folders.map(C=>({package:C,path:C})),d.value.setCollection(l.value)},k=>{A({title:"Failed to call GetStorageFolders service!",text:k,type:"error"})})}function $(k){_.value=Fi(JSON.parse(k)),h.value.setCollection(_.value.children||[])}function w(){o.get_folder_structure_service.callService({storage_folder:a.value.package,show_hidden:!0},k=>{k.success?$(k.storage_folder_structure):A({title:"Error when calling GetFolderStructure service!",text:k.error_message,type:"warn"})},k=>{A({title:"Failed to call GetFolderStructure service!",text:k,type:"error"})})}function L(){o.get_package_structure_service.callService({package:a.value.package,show_hidden:!0},k=>{k.success?$(k.package_structure):A({title:"Error when calling GetPackageStructure service!",text:k.error_message,type:"error"})},k=>{A({title:"Failed to call GetPackageStructure service!",text:k,type:"error"})})}function P(k){k===null?(a.value=null,c.value="",_.value=null,m.value=null,n("location",""),n("select",[],!0)):(a.value=k,c.value=k.package,t.fromPackages?L():w(),n("location",k.path))}function H(k){switch(k.data.type){case Je.DIR:_.value=k,h.value.setCollection(k.children||[]);break;case Je.FILE:m.value=k;break}n("select",k.ancestors().slice(0,-1).reverse().map(C=>C.data.name),k.data.type===Je.DIR)}return jt(()=>{t.fromPackages||D()}),(k,C)=>{const R=Pe("font-awesome-icon");return b(),I(le,null,[u("button",{class:"btn float-end",onClick:C[0]||(C[0]=M=>n("close"))},[z(R,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),u("h1",Lf,B(t.title),1),f.value?(b(),I("div",If,[u("div",Rf,[u("span",Pf,B(t.location)+": ",1),Be(u("input",{"onUpdate:modelValue":C[1]||(C[1]=M=>c.value=M),disabled:a.value!==null,type:"text",class:"form-control"},null,8,Mf),[[ls,c.value]]),u("button",{onClick:C[2]||(C[2]=M=>P(null)),class:"btn btn-outline-secondary"},[z(R,{icon:"fa-solid fa-xmark"})])]),a.value===null?(b(),I("div",Ff,[(b(!0),I(le,null,pe(p.value,M=>(b(),I("button",{key:M.path,onClick:Q=>P(M),class:"btn btn-outline-contrast ms-4 mb-3 text-start"},[z(R,{icon:"fa-solid fa-cubes",class:"me-1"}),ce(" "+B(M.package),1)],8,Vf))),128))])):_.value!==null?(b(),I("div",Hf,[wi(k.$slots,"default",{},()=>[C[4]||(C[4]=ce("Control Buttons, Selects, ..."))]),u("div",jf,[u("button",{disabled:_.value.parent===null,onClick:C[3]||(C[3]=M=>H(_.value.parent)),class:"btn btn-outline-secondary"},[z(R,{icon:"fa-solid fa-angle-up"})],8,Uf),(b(!0),I(le,null,pe(_.value.ancestors().slice(0,-1).reverse(),M=>(b(),I("button",{key:M.data.item_id,onClick:Q=>H(M),class:"btn btn-outline-secondary"},B(M.data.name),9,Wf))),128))]),u("div",Bf,[(b(!0),I(le,null,pe(y.value,M=>{var Q;return b(),I("button",{key:M.data.item_id,onClick:ne=>H(M),class:Oe(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:M.data.item_id===((Q=m.value)==null?void 0:Q.data.item_id)}])},[M.data.type===E(Je).DIR?(b(),Z(R,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):be("",!0),M.data.type===E(Je).FILE?(b(),Z(R,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):be("",!0),ce(" "+B(M.data.name),1)],10,zf)}),128))])])):(b(),I("div",Kf," Loading content of storage location "))])):(b(),I("div",Gf," Loading possible storage locations "))],64)}}}),Yf={class:"d-flex justify-content-between mb-3"},qf=["disabled"],Xf=["value"],Jf=["value"],Qf={class:"input-group mb-3"},Zf=re({__name:"SelectLocationModal",emits:["select","close"],setup(s,{emit:e}){const t=e,n=new RegExp(".(yaml)"),o=v(n),r=v(""),i=v([]),a=v(!0),l=v(""),c=v(rt.ASK),d=oe(()=>a.value?[...i.value,l.value].join("/"):[...i.value.slice(0,-1),l.value].join("/"));function p(f,_){i.value=f,a.value=_,_?l.value="":l.value=f[f.length-1]}return(f,_)=>(b(),Z(E(xn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:Dt(()=>[z(qn,{location:"Folder",title:"Save Tree to Folder",onClose:_[4]||(_[4]=m=>t("close")),file_filter:o.value,search_term:l.value,onLocation:_[5]||(_[5]=m=>r.value=m),onSelect:_[6]||(_[6]=(m,h)=>p(m,h))},{default:Dt(()=>[u("div",Yf,[u("button",{class:"btn btn-primary me-2",disabled:!E(n).test(l.value),onClick:_[0]||(_[0]=m=>t("select",r.value,d.value,c.value))}," Select ",8,qf),Be(u("select",{"onUpdate:modelValue":_[1]||(_[1]=m=>o.value=m),class:"form-select me-2"},[u("option",{value:E(n)},"Valid files",8,Xf),_[7]||(_[7]=u("option",{value:void 0},"All files",-1))],512),[[rs,o.value]]),Be(u("select",{"onUpdate:modelValue":_[2]||(_[2]=m=>c.value=m),class:"form-select"},[(b(!0),I(le,null,pe(Object.values(E(rt)),m=>(b(),I("option",{value:m},B(m),9,Jf))),256))],512),[[rs,c.value]])]),u("div",Qf,[_[8]||(_[8]=u("span",{class:"input-group-text"}," Name: ",-1)),Be(u("input",{"onUpdate:modelValue":_[3]||(_[3]=m=>l.value=m),type:"text",class:"form-control"},null,512),[[ls,l.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),ep={class:"d-flex flex-column"},tp={class:"row g-2 mb-3"},sp={class:"btn-group col-8"},np=["disabled"],op={class:"input-group mb-3"},rp=["value"],ip=["value"],ap={class:"d-flex flex-column"},lp={class:"input-group mb-3"},cp=re({__name:"MultipleSelection",setup(s){const e=me(),t=De();let n=t.selected_node_names.join("_");n.length===0&&(n="Subtree");const o=v(n),r=v(""),i=v(""),a=v(!1),l=v(rt.ASK);function c(){window.confirm("Really delete all selected nodes ("+t.selected_node_names.join(", ")+")?")&&t.selected_node_names.forEach(m=>{e.remove_node_service.callService({node_name:m,remove_children:!1},h=>{h.success?(A({title:"Removed "+m+" successfully!",type:"success"}),t.selected_node_names=t.selected_node_names.filter(y=>y!==m)):A({title:"Failed to delete node!",text:h.error_message,type:"warn"})},h=>{A({title:"Failed to call DeleteNode service!",text:h,type:"error"})})})}function d(){a.value=!0}function p(m,h,y){a.value=!1,r.value=m,i.value=h,l.value=y}function f(){e.generate_subtree_service.callService({nodes:t.selected_node_names},m=>{m.success?(A({title:"Generated subtree successfully!",type:"success"}),_(m.tree)):A({title:"Failed to generate subtree!",text:m.error_message,type:"warn"})},m=>{A({title:"Failed to call GenerateSubtree service!",text:m,type:"error"})})}function _(m){m.name=o.value;const[h,y]=ui(l.value),D={storage_path:r.value,filepath:i.value,tree:m,allow_overwrite:h,allow_rename:y};e.save_tree_service.callService(D,$=>{if($.success)A({title:"Successfully saved subtree!",text:$.file_path,type:"success"});else{if(l.value!==rt.ASK||$.error_message!=="Overwrite not allowed"){A({title:"Failed to save subtree!",text:$.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+r.value+"/"+i.value+"' ?")){A({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}D.allow_overwrite=!0,D.allow_rename=!1,e.save_tree_service.callService(D,w=>{w.success?A({title:"Successfully saved subtree!",text:w.file_path,type:"success"}):A({title:"Failed to save subtree!",text:w.error_message,type:"warn"})},w=>{A({title:"Failed to call SaveTree service!",text:w,type:"error"})})}},$=>{A({title:"Failed to call SaveTree service!",text:$,type:"error"})})}return(m,h)=>(b(),I(le,null,[z(Zf,{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=y=>a.value=y),title:"Select Save Location",onClose:h[1]||(h[1]=y=>a.value=!1),onSelect:p},null,8,["modelValue"]),u("div",ep,[u("div",tp,[u("div",sp,[u("button",{class:"btn btn-primary",onClick:d}," Select Location "),u("button",{class:"btn btn-primary",onClick:f,disabled:r.value===""||i.value===""}," Save Subtree ",8,np)]),u("div",{class:"btn-group col-4"},[u("button",{class:"btn btn-danger",onClick:c}," Delete Nodes ")])]),u("div",op,[h[3]||(h[3]=u("span",{class:"input-group-text"},"Location:",-1)),u("input",{class:"form-control overflow-x-auto",type:"text",value:r.value,placeholder:"Storage Folder","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,rp),u("input",{class:"form-control overflow-x-auto",type:"text",value:i.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,ip)]),u("div",ap,[u("div",lp,[h[4]||(h[4]=u("span",{class:"input-group-text"},"Name:",-1)),Be(u("input",{class:"form-control",type:"text","onUpdate:modelValue":h[2]||(h[2]=y=>o.value=y),placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name"},null,512),[[ls,o.value]])])])])],64))}}),up={key:0,class:"form-group"},dp={class:"d-block"},_p=["value","disabled"],fp={class:"mb-2 search-results"},pp=["onClick","onKeyup"],vp={key:1},hp=re({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=ve(),n=De(),o=ps();let r=v([]);const i=oe(()=>n.new_node_options.find(h=>h.key===e.data_key));let a=v(!0),l=v(!1);function c(h){if(i.value===void 0){console.error("Undefined parameter");return}let D=h.target.value||"";D=D.replace("__builtin__.","").replace("builtins.","");const $=o.messages_fuse.search(D);r.value=$.slice(0,5).map(w=>w.item),as.indexOf(D)>=0?n.updateParamValue(e.category,e.data_key,"__builtin__."+D):n.updateParamValue(e.category,e.data_key,D)}function d(h){n.updateParamValue(e.category,e.data_key,h.msg),m()}function p(){n.changeCopyMode(!1),a.value=!1}function f(){a.value=!0}function _(){l.value=!0}function m(){l.value=!1}return(h,y)=>i.value!==void 0?(b(),I("div",up,[u("label",dp,[ce(B(i.value.key)+" ",1),u("input",{type:"text",class:"form-control mt-2",value:i.value.value.value,disabled:E(t).selected_subtree.is_subtree,onInput:c,onFocus:p,onBlur:f,onKeyup:y[0]||(y[0]=ms(()=>{f(),m()},["esc"])),onKeydown:ms(_,["tab"])},null,40,_p)]),u("div",fp,[u("div",{class:Oe(["list-group",{"d-none":E(a)&&!E(l)}]),onMouseenter:_,onMouseleave:m},[(b(!0),I(le,null,pe(E(r),D=>(b(),I("div",{key:D.msg,class:"list-group-item search-result",tabindex:"0",onClick:()=>d(D),onKeyup:[ms(()=>d(D),["enter"]),ms(m,["esc"])]},B(D.msg),41,pp))),128))],34)])])):(b(),I("div",vp," Error loading param data "))}});const mp=Yt(hp,[["__scopeId","data-v-6e80412b"]]);const gp=re({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){ve();const e=De(),t=me(),n=s,o=oe(()=>e.new_node_options.find(_=>_.key===n.data_key)),r=v(!0),i=v(void 0),a=v([]),l=v();let c;function d(){e.changeCopyMode(!1)}function p(){if(c!==void 0)try{const _=c.get();r.value=!0,e.updateParamValue(n.category,n.data_key,_)}catch{r.value=!1}}function f(){if(o.value===void 0)return;let _;o.value.value.type.startsWith("__")?_=o.value.value.type.substring(2):_=o.value.value.type;const m=U_(_);m.msg==="/dict"||m.msg===""||t.get_message_fields_service.callService({message_type:m.msg,service:m.service,action:m.action,type:m.type},h=>{if(h.success){i.value=h.fields,a.value=h.field_names;const y=JSON.parse(h.fields);if(console.log(y),c===void 0)return;c.update(y),p()}else A({title:"GetMessageFields Service Error",text:h.error_message,type:"error"})},h=>{A({title:"Failure calling GetMessageFields Service",text:h,type:"error"})})}return os(()=>o.value===void 0?"":o.value.value.type,()=>{c===void 0||o.value===void 0||(c.update(o.value.value.value),f())}),jt(()=>{l.value!==void 0&&(c=new Vi(l.value,{mode:"code",onChange:()=>p()}),c.aceEditor.setOptions({maxLines:100}),c.aceEditor.resize(),o.value!==void 0&&c.update(o.value.value.value))}),Ti(()=>{c!==void 0&&c.destroy()}),(_,m)=>(b(),I("div",{id:"editor",ref_key:"editor_ref",ref:l,onFocus:d},null,544))}}),yp={key:0,class:"form-group"},bp={class:"d-block"},Ep=["value","disabled"],wp=["value"],Tp={key:1},$s=re({__name:"MathOperationParam",props:{category:{},data_key:{},val_type:{},op_type:{}},setup(s){const e=ve(),t=De(),n=s,o=oe(()=>t.new_node_options.find(a=>a.key===n.data_key));function r(a){if(o.value===void 0){console.error("Undefined parameter");return}const l=a.target;let c=o.value.value.value;c.operator=l.value,t.updateParamValue(o.value.value.type,o.value.key,c)}const i={operator:{unary:["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"],binary:["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"]},operand:{unary:["int","float"],binary:["int","float","bool"]}};return(a,l)=>o.value!==void 0?(b(),I("div",yp,[u("label",bp,B(o.value.key),1),u("select",{onChange:r,class:"form-select",value:o.value.value.value.operator,disabled:E(e).selected_subtree.is_subtree},[(b(!0),I(le,null,pe(i[n.val_type][n.op_type],c=>(b(),I("option",{key:c,value:c},B(c),9,wp))),128))],40,Ep)])):(b(),I("div",Tp," Error loading param data "))}}),Sp={key:0,class:"list-group-item"},Ap={key:0,class:"form-group"},kp={class:"d-block"},Cp={key:6,class:"form-group"},Op={class:"d-block"},Np={key:1},xp=re({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=De(),n=ve(),o=oe(()=>t.new_node_options.find(d=>d.key===e.data_key)),r=["int","float","bool","string","unset_optionref"],i=oe(()=>{if(o.value===void 0||!r.includes(o.value.value.type))return;let d,p,f="any",_=["form-control"],m=!1,h=n.selected_subtree.is_subtree;switch(o.value.value.type){case"int":f=1;case"float":d="number",p=o.value.value.value;break;case"bool":d="checkbox",m=o.value.value.value,_=["form-check-input","d-block"];break;case"unset_optionref":h=!0;case"string":d="text",p=o.value.value.value;break;default:d="hidden";break}return{type:d,value:p,class:_,step:f,checked:m,disabled:h}}),a=oe(()=>{if(o.value!==void 0){switch(o.value.value.type){}return{}}});function l(d){if(o.value===void 0)return;const p=d.target;let f;switch(o.value.value.type){case"int":f=parseInt(p.value),isNaN(f)&&(f=0);break;case"float":f=parseFloat(p.value),isNaN(f)&&(f=0);break;case"bool":f=p.checked;break;default:f=p.value;break}t.updateParamValue(e.category,e.data_key,f)}function c(){t.changeCopyMode(!1)}return(d,p)=>o.value!==void 0?(b(),I("div",Sp,[i.value!==void 0?(b(),I("div",Ap,[u("label",kp,B(o.value.key),1),u("input",bn(i.value,{onChange:l,onFocus:c}),null,16)])):o.value.value.type==="type"?(b(),Z(mp,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):o.value.value.type==="ros_bt_py.helpers.MathUnaryOperator"?(b(),Z($s,{key:2,category:e.category,data_key:e.data_key,op_type:"unary",val_type:"operator"},null,8,["category","data_key"])):o.value.value.type==="ros_bt_py.helpers.MathBinaryOperator"?(b(),Z($s,{key:3,category:e.category,data_key:e.data_key,op_type:"binary",val_type:"operator"},null,8,["category","data_key"])):o.value.value.type==="ros_bt_py.helpers.MathOperandType"?(b(),Z($s,{key:4,category:e.category,data_key:e.data_key,op_type:"binary",val_type:"operand"},null,8,["category","data_key"])):o.value.value.type==="ros_bt_py.helpers.MathUnaryOperandType"?(b(),Z($s,{key:5,category:e.category,data_key:e.data_key,op_type:"unary",val_type:"operand"},null,8,["category","data_key"])):(b(),I("div",Cp,[u("label",Op,[ce(B(o.value.key)+" ",1),z(gp,bn(a.value,{category:e.category,data_key:e.data_key}),null,16,["category","data_key"])])]))])):(b(),I("div",Np," Error loading param data "))}}),$p={key:0,class:"list-group-item"},Dp={key:0},Lp={className:"text-muted"},Ip={key:1},Rp={className:"text-muted"},Pp={key:2},Mp={className:"text-muted"},Fp={key:3},Vp={className:"text-muted"},Hp={class:"text-muted"},jp={key:4},Up={className:"text-muted"},Wp={key:1},er=re({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=De(),n=oe(()=>{switch(e.category){case"inputs":return t.new_node_inputs.find(o=>o.key===e.data_key);case"outputs":return t.new_node_outputs.find(o=>o.key===e.data_key)}});return(o,r)=>n.value!==void 0?(b(),I("div",$p,[n.value.value.type==="int"||n.value.value.type==="float"||n.value.value.type==="string"?(b(),I("div",Dp,[u("h5",null,[ce(B(n.value.key+" ")+" ",1),u("span",Lp,"(type: "+B(n.value.value.type)+")",1)]),u("span",null,B(n.value.value.value),1)])):n.value.value.type==="type"?(b(),I("div",Ip,[u("h5",null,[ce(B(n.value.key+" ")+" ",1),u("span",Rp,"(type: "+B(n.value.value.type)+")",1)]),u("pre",null,B(n.value.value.value),1)])):n.value.value.type==="boolean"?(b(),I("div",Pp,[u("h5",null,[ce(B(n.value.key+" ")+" ",1),u("span",Mp,"(type: "+B(n.value.value.type)+")",1)]),u("pre",null,B(n.value.value.value?"True":"False"),1)])):n.value.value.type==="unset_optionref"?(b(),I("div",Fp,[u("h5",null,[ce(B(n.value.key+" ")+" ",1),u("span",Vp,"(type: "+B(n.value.value.type)+")",1)]),u("pre",Hp,B(n.value.value.value),1)])):(b(),I("div",jp,[u("h5",null,[ce(B(n.value.key+" ")+" ",1),u("span",Up,"(type: "+B(n.value.value.type)+")",1)]),u("pre",null,B(JSON.stringify(n.value.value.value,null,2)),1)]))])):(b(),I("div",Wp," Error loading param data "))}}),Bp={class:"d-flex flex-column overflow-auto pb-3",style:{"max-height":"40vh"}},zp=["value","disabled"],Kp={class:"d-flex align-items-baseline mb-2"},Gp={class:"text-muted"},Yp={key:0},qp=["value","disabled"],Xp=["value"],Jp={class:"mb-2"},Qp={class:"list-group"},Zp={class:"mb-2"},ev={class:"list-group"},tv={className:"mb-2"},sv={class:"list-group"},di=re({__name:"EditableNode",setup(s){Gt();const e=ve(),t=De();return(n,o)=>{const r=Pe("font-awesome-icon");return b(),I("div",Bp,[u("input",{class:"form-control-lg mb-2",type:"text",value:E(t).new_node_name,disabled:E(e).selected_subtree.is_subtree,onFocus:o[0]||(o[0]=()=>E(t).changeCopyMode(!1)),onChange:o[1]||(o[1]=i=>E(t).changeNodeName(i.target.value))},null,40,zp),u("div",Kp,[u("h4",Gp,[E(t).is_flow_control_node?(b(),I("select",{key:1,class:"form-select",value:E(t).new_node_module+E(t).new_node_class,disabled:E(e).selected_subtree.is_subtree,onChange:o[2]||(o[2]=i=>E(t).changeNodeClass(i.target.value))},[(b(!0),I(le,null,pe(E(t).flow_control_nodes,i=>(b(),I("option",{key:i.module+i.node_class,value:i.module+i.node_class},[ce(B(i.node_class)+" ",1),u("small",null,"("+B(i.module)+")",1)],8,Xp))),128))],40,qp)):(b(),I("div",Yp,[ce(B(E(t).new_node_class)+" ",1),u("small",null,"("+B(E(t).new_node_module)+")",1)]))]),E(t).reference_node?(b(),Z(r,{key:0,icon:"fa-solid fa-question-circle",class:"px-2","aria-hidden":"true",title:E(ci)(E(t).reference_node.doc)},null,8,["title"])):be("",!0)]),u("div",Jp,[o[3]||(o[3]=u("h5",null,"Options",-1)),u("div",Qp,[(b(!0),I(le,null,pe(E(t).new_node_options,i=>(b(),Z(xp,{key:"option_"+i.key,data_key:i.key,category:"options"},null,8,["data_key"]))),128))])]),u("div",Zp,[o[4]||(o[4]=u("h5",null,"Input",-1)),u("div",ev,[(b(!0),I(le,null,pe(E(t).new_node_inputs,i=>(b(),Z(er,{key:"input_"+i.key,data_key:i.key,category:"inputs"},null,8,["data_key"]))),128))])]),u("div",tv,[o[5]||(o[5]=u("h5",null,"Output",-1)),u("div",sv,[(b(!0),I(le,null,pe(E(t).new_node_outputs,i=>(b(),Z(er,{key:"output_"+i.key,data_key:i.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),nv={class:"d-flex flex-column"},ov=["disabled"],rv={class:"pt-2 pb-2"},iv=["disabled","value"],av=["value"],lv=re({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=De(),n=me(),o=v(e.parents.length>0?e.parents[0].name:void 0);function r(a,l,c,d){return{module:a,node_class:l,name:c,options:d.map(p=>{const f={key:p.key,serialized_value:"",serialized_type:""};if(p.value.type==="type")as.indexOf(p.value.value)>=0&&(p.value.value="__builtin__."+p.value.value),f.serialized_value=JSON.stringify({"py/type":p.value.value});else if(p.value.type.startsWith("__")){const _=p.value.value;_["py/object"]=p.value.type.substring(2),f.serialized_value=JSON.stringify(p.value.value)}else f.serialized_value=JSON.stringify(p.value.value);return f}),child_names:[],inputs:[],outputs:[],version:"",max_children:0,state:""}}function i(){if(n.connected||A({title:"Service not available!",text:"ROS not connected, cannot call services!",type:"error"}),t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}const a=r(t.new_node_module,t.new_node_class,t.new_node_name,t.new_node_options);n.add_node_service.callService({parent_name:o.value,node:a,allow_rename:!0},l=>{l.success?(t.clearNodeHasChanged(),console.log("Added node to tree as "+l.actual_node_name),t.editorSelectionChange(l.actual_node_name),A({title:"Added not to tree!",text:"Node added as: "+l.actual_node_name,type:"success"})):A({title:"Failed to add "+a.name+" to the tree!",text:l.error_message,type:"warn"})},l=>{A({title:"Failed to call AddNode service",text:l,type:"error"})})}return(a,l)=>(b(),I("div",nv,[u("button",{class:"btn btn-block btn-primary",disabled:!E(t).node_is_valid,onClick:i}," Add to Tree ",8,ov),u("label",rv,[l[0]||(l[0]=ce(" Parent ")),u("select",{class:"custom-select d-block",disabled:a.parents.length===0,value:o.value},[(b(!0),I(le,null,pe(a.parents,c=>(b(),I("option",{key:c.name,value:c.name},B(c.name),9,av))),128))],8,iv)]),z(di)]))}}),cv={class:"d-flex flex-column"},uv={class:"row g-2 mb-3"},dv={class:"btn-group col-4"},_v=["disabled"],fv={class:"btn-group col-8"},pv=["disabled"],vv=["disabled"],hv=re({__name:"SelectedNode",setup(s){const e=me(),t=ve(),n=De();function o(){return{module:n.new_node_module,node_class:n.new_node_class,name:n.new_node_name,options:n.new_node_options.map(c=>{const d={key:c.key,serialized_value:"",serialized_type:""};if(c.value.type==="type")as.indexOf(c.value.value)>=0&&(c.value.value="__builtin__."+c.value.value),d.serialized_value=JSON.stringify({"py/type":c.value.value});else if(c.value.type.startsWith("__")){const p=c.value.value;p["py/object"]=c.value.type.substring(2),d.serialized_value=JSON.stringify(c.value.value)}else d.serialized_value=JSON.stringify(c.value.value);return d}),inputs:[],outputs:[],max_children:0,child_names:[],version:"",state:""}}function r(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!1},c=>{c.success?(A({title:"Removed "+n.selected_node.name+" successfully!",type:"success"}),n.clearSelection()):A({title:"Failed to remove node "+n.selected_node.name+"!",text:c.error_message,type:"error"})})}function i(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!0},c=>{c.success?(A({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):A({title:"Failed to remove node "+n.selected_node.name+"!",text:c.error_message,type:"error"})})}function a(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_name:n.selected_node.name,rename_node:!0,new_name:n.new_node_name,options:n.new_node_options.map(c=>{const d={key:c.key,serialized_value:""};if(c.value.type==="type")as.indexOf(c.value.value)>=0&&(c.value.value="__builtin__."+c.value.value),d.serialized_value=JSON.stringify({"py/type":c.value.value});else if(c.value.type.startsWith("__")){const p=c.value.value;p["py/object"]=c.value.type.substring(2),d.serialized_value=JSON.stringify(p)}else d.serialized_value=JSON.stringify(c.value.value);return d})},c=>{c.success?(A({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged(),n.editorSelectionChange(n.new_node_name)):A({title:"Failed to update node "+n.selected_node.name+"!",text:c.error_message,type:"error"})})}function l(){if(n.node_is_morphed){const c=o();if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_name:n.selected_node.name,new_node:c},d=>{d.success?(A({title:"Morphed node "+n.selected_node.name+" successfully!",type:"success"}),n.node_is_morphed=!1,a()):A({title:"Failed to morph node "+n.selected_node.name+"!",text:d.error_message,type:"error"})})}else a()}return(c,d)=>(b(),I("div",cv,[u("div",uv,[u("div",dv,[u("button",{class:"btn btn-primary",onClick:l,disabled:!E(n).node_is_valid||E(t).selected_subtree.is_subtree}," Update Node ",8,_v)]),u("div",fv,[u("button",{class:"btn btn-danger",onClick:r,disabled:E(t).selected_subtree.is_subtree}," Delete Node ",8,pv),u("button",{class:"btn btn-danger",onClick:i,disabled:E(t).selected_subtree.is_subtree}," Delete Node + Children ",8,vv)])]),z(di)]))}}),mv={class:"d-flex align-items-center my-2"},gv={class:"input-group me-1"},yv=["disabled","value"],bv=["disabled"],Ev={class:"input-group ms-1",style:{width:"fit-content"}},wv=["value"],Tv=re({__name:"TreeNameStateDisplay",setup(s){const e=ve(),t=me(),n=oe(()=>e.selected_subtree.is_subtree?e.selected_subtree.name:e.tree?e.tree.name:""),o=v(n.value),r=oe(()=>e.selected_subtree.is_subtree?e.selected_subtree.tree.state:e.tree?e.tree.state:"UNKNOWN");function i(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},a=>{a.success?A({title:"Successfully renamed tree!",text:o.value,type:"success"}):A({title:"Failed to rename tree!",text:a.error_message,type:"warn"})},a=>{A({title:"Failed to call ChangeTreeName service!",text:a,type:"error"})})}return(a,l)=>(b(),I("div",mv,[u("div",gv,[l[1]||(l[1]=u("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),u("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:E(e).selected_subtree.is_subtree,value:n.value,onInput:l[0]||(l[0]=c=>o.value=c.target.value)},null,40,yv),u("button",{class:"btn btn-primary",disabled:E(e).selected_subtree.is_subtree,onClick:i}," Save ",8,bv)]),u("div",Ev,[l[2]||(l[2]=u("label",{class:"input-group-text",for:"treeStateForm"}," State ",-1)),u("input",{id:"treeStateForm",class:"form-control",type:"text",disabled:"true",value:r.value},null,8,wv)])]))}}),Sv={class:"d-flex align-items-center"},Av={class:"btn-group"},kv=re({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=ve();return(r,i)=>{const a=Pe("font-awesome-icon");return b(),I("div",Sv,[u("div",Av,[u("button",{class:"btn btn-primary",onClick:i[0]||(i[0]=l=>E(o).enableShowDataGraph(!E(o).show_data_graph)),title:"Toggle Data Graph"},[z(a,{class:Oe(E(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(b(),I("button",{key:0,class:"btn btn-primary btn-spaced",onClick:i[1]||(i[1]=l=>n("hide")),title:"Hide User Interface"},[z(a,{icon:"fa-solid fa-window-maximize"})])):(b(),I("button",{key:1,class:"btn btn-primary btn-spaced",onClick:i[2]||(i[2]=l=>n("show")),title:"Show User Interface"},[z(a,{icon:"fa-solid fa-window-restore"})])),u("button",{class:"btn btn-primary btn-spaced",onClick:i[3]||(i[3]=()=>E(o).is_layer_mode=!E(o).is_layer_mode),title:"Change tree layout (layers/subtrees)"},[z(a,{class:Oe(E(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),z(a,{class:Oe(E(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),u("button",{class:"btn btn-primary btn-spaced",onClick:i[4]||(i[4]=(...l)=>E(o).cycleEditorSkin&&E(o).cycleEditorSkin(...l)),title:"Change editor appearance"},[z(a,{class:Oe(E(o).skin===E(Hs).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),z(a,{class:Oe(E(o).skin===E(Hs).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),Cv={class:"d-flex justify-content-between mb-3"},Ov=["disabled"],Nv=["value"],xv=["value"],$v={class:"input-group mb-3"},Dv=re({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=me(),o=ve(),r=new RegExp(".(yaml)"),i=v(r),a=v(""),l=v([]),c=v(!0),d=v(""),p=oe(()=>c.value?[...l.value,d.value].join("/"):[...l.value.slice(0,-1),d.value].join("/"));function f(h,y){l.value=h,c.value=y,y?d.value="":d.value=h[h.length-1]}const _=v(rt.ASK);function m(){if(!r.test(p.value)){console.error("Path is of improper format: ",p);return}if(o.tree===void 0){console.error("No tree to save");return}const[h,y]=ui(_.value),D={storage_path:a.value,filepath:p.value,tree:o.tree,allow_overwrite:h,allow_rename:y};n.save_tree_service.callService(D,$=>{if($.success)A({title:"Successfully saved tree!",text:$.file_path,type:"success"}),t("close");else{if(_.value!==rt.ASK||$.error_message!=="Overwrite not allowed"){A({title:"Failed to save tree!",text:$.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+a.value+"/"+p.value+"' ?")){A({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}D.allow_overwrite=!0,D.allow_rename=!1,n.save_tree_service.callService(D,w=>{w.success?(A({title:"Successfully saved tree!",text:w.file_path,type:"success"}),t("close")):A({title:"Failed to save tree!",text:w.error_message,type:"warn"})},w=>{A({title:"Failed to call SaveTree service!",text:w,type:"error"})})}},$=>{A({title:"Failed to call SaveTree service!",text:$,type:"error"})})}return(h,y)=>(b(),Z(E(xn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:Dt(()=>[z(qn,{location:"Folder",title:"Save Tree to Folder",onClose:y[3]||(y[3]=D=>t("close")),file_filter:i.value,search_term:d.value,onLocation:y[4]||(y[4]=D=>a.value=D),onSelect:y[5]||(y[5]=(D,$)=>f(D,$))},{default:Dt(()=>[u("div",Cv,[u("button",{class:"btn btn-primary me-2",onClick:m,disabled:!E(r).test(d.value)}," Save ",8,Ov),Be(u("select",{"onUpdate:modelValue":y[0]||(y[0]=D=>i.value=D),class:"form-select me-2"},[u("option",{value:E(r)},"Valid files",8,Nv),y[6]||(y[6]=u("option",{value:void 0},"All files",-1))],512),[[rs,i.value]]),Be(u("select",{"onUpdate:modelValue":y[1]||(y[1]=D=>_.value=D),class:"form-select"},[(b(!0),I(le,null,pe(Object.values(E(rt)),D=>(b(),I("option",{value:D},B(D),9,xv))),256))],512),[[rs,_.value]])]),u("div",$v,[y[7]||(y[7]=u("span",{class:"input-group-text"}," Name: ",-1)),Be(u("input",{"onUpdate:modelValue":y[2]||(y[2]=D=>d.value=D),type:"text",class:"form-control"},null,512),[[ls,d.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),Lv={class:"d-flex justify-content-between mb-3"},Iv=["disabled"],Rv=["value"],Pv={class:"input-group"},tr=re({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=me(),r=[],i=new RegExp(".(yaml)"),a=v(i),l=v(""),c=v([]),d=v(!0),p=v(""),f=oe(()=>(t.fromPackages?"package":"file")+"://"+l.value+"/"+c.value.join("/"));function _(h,y){c.value=h,d.value=y,y&&(p.value="")}function m(){o.load_tree_from_path_service.callService({path:f.value,permissive:!1},h=>{if(h.success)A({title:"Successfully loaded tree!",text:f.value,type:"success"}),n("close");else{if(A({title:"Error while calling LoadTree service!",text:h.error_message,type:"warn"}),!r.includes(h.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){A({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}o.load_tree_from_path_service.callService({path:f.value,permissive:!0},y=>{y.success?(A({title:"Successfully loaded tree in permissive mode!",text:f.value,type:"success"}),n("close")):A({title:"Error while calling LoadTree service in permissive mode!",text:y.error_message,type:"warn"})},y=>{A({title:"Failed to call LoadTree service!",text:y,type:"error"})})}},h=>{A({title:"Failed to call LoadTree service!",text:h,type:"error"})})}return(h,y)=>(b(),Z(E(xn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:Dt(()=>[z(qn,{onClose:y[2]||(y[2]=D=>n("close")),file_filter:a.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:p.value,onLocation:y[3]||(y[3]=D=>l.value=D),onSelect:y[4]||(y[4]=(D,$)=>_(D,$))},{default:Dt(()=>[u("div",Lv,[u("button",{class:"btn btn-primary me-2",disabled:d.value,onClick:m}," Load ",8,Iv),Be(u("select",{"onUpdate:modelValue":y[0]||(y[0]=D=>a.value=D),class:"form-select me-2 w-50"},[u("option",{value:E(i)},"Valid files",8,Rv),y[5]||(y[5]=u("option",{value:void 0},"All files",-1))],512),[[rs,a.value]]),u("div",Pv,[y[6]||(y[6]=u("span",{class:"input-group-text"}," Search: ",-1)),Be(u("input",{"onUpdate:modelValue":y[1]||(y[1]=D=>p.value=D),type:"text",class:"form-control"},null,512),[[ls,p.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Mv={class:"btn-group"},Fv=["disabled"],Vv={class:"btn-group btn-spaced",role:"group"},Hv=["disabled"],jv={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},Uv=["disabled"],Wv=["disabled"],Bv=["disabled"],zv=["disabled"],Kv=["disabled"],Gv=re({__name:"LoadSaveControls",setup(s){const e=me(),t=ve(),n=v(),o=new FileReader,r=Qs({component:tr,attrs:{fromPackages:!0,onClose(){r.close()}}}),i=Qs({component:tr,attrs:{fromPackages:!1,onClose(){i.close()}}}),a=Qs({component:Dv,attrs:{onClose(){a.close()}}});function l(){if(e.clear_tree_service===void 0){A({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},$=>{$.success?(console.log("called ClearTree service successfully"),A({title:"Created new tree successfully!",type:"success"})):A({title:"Could not create new tree!",type:"warn",text:$.error_message})},$=>{A({title:"ClearTree service call failed!",type:"error",text:$})})}function c(){r.open()}function d(){i.open()}function p(){if(e.control_tree_execution_service===void 0){A({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(de.SHUTDOWN),e.control_tree_execution_service.callService({command:de.SHUTDOWN},$=>{t.removeRunningCommand(de.SHUTDOWN),$.success?(A({title:"Tree shutdown successful!",type:"success"}),a.open()):A({title:"Failed to shutdown tree, cannot save now!",text:$.error_message,type:"warn"})},$=>{A({title:"Calling ControlTreeExecution ROS service failed!",text:$,type:"error"})})}function f($,w){const L=document.createElement("a");L.download=w,L.href=$,document.body.appendChild(L),L.click(),document.body.removeChild(L)}function _($){const w=$.target;if(o.onloadend=y,w.files===null){A({title:"File selection is null!",type:"error"});return}o.readAsText(w.files[0])}function m(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function h($){if(e.load_tree_service===void 0){A({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:$,permissive:!1},w=>{if(w.success)A({title:"Loaded tree successfully!",type:"success"});else{if((w.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||w.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(A({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){A({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:$,permissive:!0},L=>{L.success?A({title:"Loaded tree successfully!",type:"success"}):A({title:"Failed to load tree!",text:L.error_message,type:"warn"})},L=>{A({title:"Failed to call load tree service!",text:L,type:"error"})})}A({title:"Failed to load tree!",text:w.error_message,type:"error"})}},w=>{A({title:"Failed to call load tree service!",text:w,type:"error"})})}function y(){let $=[];try{if(o.result===null){A({title:"Content of selected reads as null!",type:"error"});return}const w=o.result;$=Zs.loadAll(w);let L=null;for(let P=0;P<$.length;P++)$[P]!=null&&(L=$[P]);h(L)}catch{if(e.fix_yaml_service===void 0){A({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},L=>{if(L.success){$=Zs.loadAll(L.fixed_yaml);let P=null;for(let H=0;H<$.length;H++)$[H]!=null&&(P=$[H]);h(P)}},L=>{A({title:"Failed to call FixYaml service!",text:L,type:"error"})})}}function D(){if(!e.connected){A({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(de.SHUTDOWN),e.control_tree_execution_service.callService({command:de.SHUTDOWN},$=>{if($.success){A({title:"Tree shutdown successful!",type:"success"});const w=t.tree;if(w===void 0){A({title:"Tree is undefined, cannot save!",type:"error"});return}for(const P in w.nodes){for(const H in w.nodes[P].inputs)w.nodes[P].inputs[H].serialized_value="null";for(const H in w.nodes[P].outputs)w.nodes[P].outputs[H].serialized_value="null"}const L=Zs.dump(w);f("data:text/plain,"+encodeURIComponent(L),"tree.yaml")}else A({title:"Failed to shutdown tree, cannot save now!",text:$.error_message,type:"error"})},$=>{A({title:"Calling ControlTreeExecution ROS service failed!",text:$,type:"error"})})}return($,w)=>{const L=Pe("font-awesome-icon");return b(),I("div",Mv,[u("button",{onClick:w[0]||(w[0]=()=>l()),class:"btn btn-primary",title:"New tree",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-file","aria-hidden":"true"}),w[6]||(w[6]=u("span",{class:"ms-1 hide-button-text"},"New",-1))],8,Fv),u("div",Vv,[u("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-folder","aria-hidden":"true"}),w[7]||(w[7]=u("span",{class:"ms-1 hide-button-text"},"Load",-1))],8,Hv),u("ul",jv,[u("li",null,[u("button",{onClick:w[1]||(w[1]=()=>c()),class:"dropdown-item btn btn-primary",title:"Load from package",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),w[8]||(w[8]=u("span",{class:"ms-1"},"Package",-1))],8,Uv)]),u("li",null,[u("button",{onClick:w[2]||(w[2]=()=>d()),class:"dropdown-item btn btn-primary",title:"Load from file",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),w[9]||(w[9]=u("span",{className:"ms-1"},"File",-1))],8,Wv)])])]),u("button",{onClick:w[3]||(w[3]=()=>p()),class:"btn btn-primary btn-spaced",title:"Save to remote",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-save","aria-hidden":"true"}),w[10]||(w[10]=u("span",{class:"ms-1 hide-button-text"},"Save",-1))],8,Bv),u("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:_},null,544),u("button",{onClick:w[4]||(w[4]=()=>m()),class:"btn btn-primary btn-spaced",title:"Upload",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),w[11]||(w[11]=u("span",{class:"ms-1 hide-button-text"},"Upload",-1))],8,zv),u("button",{onClick:w[5]||(w[5]=()=>D()),class:"btn btn-primary btn-spaced",title:"Download",disabled:E(t).selected_subtree.is_subtree},[z(L,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),w[12]||(w[12]=u("span",{class:"ms-1 hide-button-text"},"Download",-1))],8,Kv)])}}});const Yv=Yt(Gv,[["__scopeId","data-v-0bc16c9d"]]),qv={class:"d-flex align-items-center"},Xv={class:"input-group flex-nowrap me-2"},Jv=["value"],Qv={key:0,class:"input-group flex-nowrap me-2"},Zv=["value"],eh=["value"],th=re({__name:"NamespaceSelect",setup(s){const e=me(),t=ps(),n=Xs(),o=v(!1),r=v(e.url),i=oe(()=>e.connected?t.messages_available?n.packages_available?{class:"connected",title:"Connected"}:{class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."}:{class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."}:{class:"disconnected",title:"Disconnected"});function a(f){const _=f.target;e.changeNamespace(_.value)}function l(){if(e.services_for_type_service===void 0){A({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},f=>{const _=f.services.map(m=>m.substring(0,m.lastIndexOf("/"))+"/");_.length>0&&(e.setAvailableNamespaces(_),e.namespace===""&&e.changeNamespace(_[0]))})}function c(){o.value=!o.value}function d(f){const _=f.target;r.value=_.value}function p(){e.setUrl(r.value),e.connect(),o.value=!1}return jt(l),(f,_)=>{const m=Pe("font-awesome-icon");return b(),I("div",qv,[z(m,bn({icon:"fa-solid fa-wifi","aria-hidden":"true",class:"mx-2 fs-4"},i.value),null,16),u("div",Xv,[u("button",{type:"button",class:"btn btn-outline-contrast",onClick:c,title:"Edit rosbridge server"},[z(m,{"aria-hidden":"true",icon:"fa-solid "+(o.value?"fa-xmark":"fa-cog")},null,8,["icon"])]),o.value?(b(),I(le,{key:0},[_[0]||(_[0]=u("label",{class:"input-group-text"},"Rosbridge Server",-1)),u("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:r.value,onChange:d},null,40,Jv),u("button",{type:"button",onClick:p,class:"btn btn-primary"},"Save")],64)):be("",!0)]),o.value?be("",!0):(b(),I("div",Qv,[_[2]||(_[2]=u("label",{class:"input-group-text"},"Namespace",-1)),u("select",{class:"form-select w-auto",value:E(e).namespace,onChange:a},[(b(!0),I(le,null,pe(E(e).available_namespaces,h=>(b(),I("option",{key:h,value:h},B(h),9,eh))),128))],40,Zv),u("button",{type:"button",class:"btn btn-outline-contrast",onClick:l},[z(m,{icon:"fa-solid fa-sync","aria-hidden":"true"}),_[1]||(_[1]=u("span",{class:"sr-only"},"Refresh Namespaces",-1))])]))])}}});const sh=Yt(th,[["__scopeId","data-v-2c35d344"]]),nh={class:"btn-group"},oh=re({__name:"TickControls",setup(s){const e=ve(),t=me();function n(o){if(!t.connected){A({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},r=>{e.removeRunningCommand(o),r.success?A({title:"Running tree command",type:"success"}):A({title:"Running the tree command failed!",type:"error",text:r.error_message})})}return(o,r)=>{const i=Pe("font-awesome-icon");return b(),I("div",nh,[u("button",{onClick:r[0]||(r[0]=()=>n(E(de).TICK_ONCE)),class:"btn btn-primary",title:"Tick Once"},[E(e).running_commands.has(E(de).TICK_ONCE)?(b(),Z(i,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(b(),Z(i,{key:1,icon:"fas fa-check","aria-hidden":"true"})),r[6]||(r[6]=u("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),u("button",{onClick:r[1]||(r[1]=()=>n(E(de).TICK_PERIODICALLY)),class:"btn btn-primary btn-spaced",title:"Tick Periodically"},[E(e).running_commands.has(E(de).TICK_PERIODICALLY)?(b(),Z(i,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(b(),Z(i,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),r[7]||(r[7]=u("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),u("button",{onClick:r[2]||(r[2]=()=>n(E(de).TICK_UNTIL_RESULT)),class:"btn btn-primary btn-spaced",title:"Tick Until Result"},[E(e).running_commands.has(E(de).TICK_UNTIL_RESULT)?(b(),Z(i,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(b(),Z(i,{key:1,icon:"fas fa-play","aria-hidden":"true"})),r[8]||(r[8]=u("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),u("button",{onClick:r[3]||(r[3]=()=>n(E(de).STOP)),class:"btn btn-primary btn-spaced",title:"Stop"},[E(e).running_commands.has(E(de).STOP)?(b(),Z(i,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(b(),Z(i,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),r[9]||(r[9]=u("i",{class:"{stop_classes}"},null,-1)),r[10]||(r[10]=u("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),u("button",{onClick:r[4]||(r[4]=()=>n(E(de).RESET)),class:"btn btn-primary btn-spaced",title:"Reset"},[E(e).running_commands.has(E(de).RESET)?(b(),Z(i,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(b(),Z(i,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),r[11]||(r[11]=u("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),u("button",{onClick:r[5]||(r[5]=()=>n(E(de).SHUTDOWN)),class:"btn btn-primary btn-spaced",title:"Shutdown"},[E(e).running_commands.has(E(de).SHUTDOWN)?(b(),Z(i,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(b(),Z(i,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),r[12]||(r[12]=u("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),rh={key:0,class:"d-flex justify-content-between align-items-center p-2 top-bar"},ih={class:"row row-height"},ah={key:0,class:"col-3 d-flex flex-column h-100",id:"nodelist_container"},lh={class:"d-flex justify-content-between m-1 mt-2"},ch={class:"m-1"},uh={class:"border rounded"},dh={class:"input-group p-2"},_h=["value"],fh={class:"col d-flex flex-column",id:"main_pane"},ph={class:"row justify-content-between bg-secondary"},vh={class:"row edit_canvas flex-grow-1 pb-2"},hh={class:"row"},mh={class:"col-6"},gh={key:3,class:"d-flex flex-column"},yh={class:"col-6"},bh={key:1,class:"d-flex flex-column"},Eh=re({__name:"App",setup(s){const e=me(),t=ps(),n=Xs(),o=Gt(),r=ve(),i=De(),a=v(!1);os(a,k=>{k?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function l(k){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(k.packages)}function c(){e.packages_sub.subscribe(l)}function d(k){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(k.messages)}function p(){e.messages_sub.subscribe(d)}function f(k){r.tree=k}function _(){e.tree_sub.subscribe(f)}function m(k){r.subtree_states=k.subtree_states}function h(){e.subtree_info_sub.subscribe(m)}function y(k){const C=k.target;P.value=C.value,o.filterNodes(C.value)}function D(k){k.key=="Escape"&&(P.value="",o.clearFilteredNodes())}function $(){return r.tree?r.tree.nodes.filter(k=>k.max_children<0||k.child_names.length<k.max_children).sort(function(k,C){return k.name<C.name?-1:k.name>C.name?1:0}):[]}const w=v(!0),L=v(),P=v(""),H=v(!0);return e.$onAction(({name:k,after:C})=>{k!=="changeNamespace"&&k!="hasConnected"||C(()=>{_(),h(),p(),c()})}),jt(()=>{e.connect(),_(),h(),p(),c()}),(k,C)=>{const R=Pe("font-awesome-icon"),M=Pe("notifications");return b(),I(le,null,[H.value?(b(),I("header",rh,[z(sh),z(oh),z(Yv)])):be("",!0),u("main",null,[u("div",{class:Oe([E(r).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:C[5]||(C[5]=()=>E(r).stopDragging()),onMouseleave:C[6]||(C[6]=()=>E(r).stopDragging())},[u("div",ih,[w.value?(b(),I("div",ah,[u("div",lh,[u("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:C[0]||(C[0]=()=>{w.value=!w.value})},[z(R,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),u("button",{class:"btn btn-outline-primary",onClick:C[1]||(C[1]=Q=>a.value=!a.value),title:"Change window appearance"},[z(R,{class:Oe(a.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),z(R,{class:Oe(a.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),u("div",ch,[z(j_),u("div",uh,[u("div",dh,[C[7]||(C[7]=u("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),u("input",{id:"nodelist_search",type:"text",ref_key:"nodelist_input_ref",ref:L,class:"form-control",value:P.value,onInput:y,onKeydown:D},null,40,_h)])])]),z(rf,{style:{"min-height":"0"}})])):be("",!0),u("div",fh,[u("div",ph,[w.value?be("",!0):(b(),I("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:C[2]||(C[2]=()=>{w.value=!w.value})},[z(R,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),z(_f,{class:"col col-xl-3 order-xl-1"}),z(kv,{"exec-bar-visible":H.value,class:"col-auto order-xl-3",onShow:C[3]||(C[3]=()=>{H.value=!0,w.value=!0}),onHide:C[4]||(C[4]=()=>{H.value=!1,w.value=!1})},null,8,["exec-bar-visible"]),z(Tv,{class:"col-12 col-xl-6 order-xl-2"})]),u("div",vh,[z(Tf)]),u("div",hh,[u("div",mh,[E(i).last_seletion_source==="multiple"?(b(),Z(cp,{key:0})):E(i).last_seletion_source==="nodelist"?(b(),Z(lv,{key:E(e).namespace+(E(i).selected_node?E(i).selected_node.module+E(i).selected_node.node_class:""),parents:$()},null,8,["parents"])):E(i).last_seletion_source==="editor"?(b(),Z(hv,{key:E(e).namespace+(E(i).selected_node?E(i).selected_node.name:"")})):(b(),I("div",gh,"No Node Selected"))]),u("div",yh,[E(r).selected_edge!==void 0?(b(),Z(Df,{key:0})):(b(),I("div",bh,"No Edge Selected"))])])])])],34),z(M,{position:"bottom right",pauseOnHover:!0}),z(E(Si))])],64)}}});Hi.add(ji,Ui,Wi,Bi,zi,Ki,Gi,Yi,qi,Xi,Ji,Qi,Zi,ea,ta,sa,na,oa,ra,ia,aa,la,ca,ua,da,_a,fa,pa,va,ha,ma,ga,ya,ba);const vs=Ai(Eh),wh=ki(),_i=T_();_i.use(R_);vs.use(_i);vs.component("font-awesome-icon",Ea);vs.use(Ci,{velocity:Oi});vs.use(wh);vs.mount("#root");
