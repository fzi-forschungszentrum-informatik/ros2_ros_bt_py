import{e as Hr,r as A,m as Vr,a as vi,i as en,b as Br,t as hi,g as gi,o as mi,w as yt,n as yi,f as bi,c as z,j as wi,k as Ei,s as oe,E as L,d as se,l as we,p as I,q as v,u,v as ge,x as me,y as J,z as y,A as F,B as Y,F as le,C as be,D as Ue,G as Gn,H as Ne,I as _t,R as Is,J as Ks,K as Zs,L as ls,M as We,N as cs,O as Ti,P as Dt,Q as Ai,S as Yr,T as Ni,U as ki,W as Ci,V as Ii,X as Si,Y as xi,Z as Oi}from"./vue-extras-NKW5yYOm.js";import{d as Di,a as Q,p as Ge,g as Li}from"./roslib-CVfGsBJM.js";import{F as $e}from"./fusejs-Ch1WBRTM.js";import{s as ne,q as Mi,a as $i,f as Ri,l as Pi,b as ji,c as Fi,z as zi,p as $s,t as Ui,h as Wi}from"./d3-DNndPsJ1.js";import{f as Gr,a as Kr,b as Zr,c as Qr,d as Jr,e as Xr,l as Hi,g as Vi,h as Bi,i as Yi,j as Gi,k as Ki,m as Zi,n as Qi,o as Ji,p as Xi,q as qi,r as el,s as tl,t as sl,u as nl,v as ol,w as rl,x as al,y as il,z as ll,A as cl,B as ul,C as dl,D as _l,E as fl,F as pl,G as vl,H as hl,I as gl,J as ml,K as yl,L as bl,M as wl,N as El,O as Tl,P as Al,Q as Nl,R as kl,S as Cl,T as Il,U as Sl}from"./fontawesome-D1TAZLZx.js";import{r as xl}from"./jsoneditor-DvhDDJh-.js";import{j as En}from"./jsyaml-DW8Bub87.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var Re="top",He="bottom",Ve="right",Pe="left",un="auto",us=[Re,He,Ve,Pe],Lt="start",es="end",qr="clippingParents",fo="viewport",Gt="popper",ea="reference",Kn=us.reduce(function(s,e){return s.concat([e+"-"+Lt,e+"-"+es])},[]),po=[].concat(us,[un]).reduce(function(s,e){return s.concat([e,e+"-"+Lt,e+"-"+es])},[]),ta="beforeRead",sa="read",na="afterRead",oa="beforeMain",ra="main",aa="afterMain",ia="beforeWrite",la="write",ca="afterWrite",ua=[ta,sa,na,oa,ra,aa,ia,la,ca];function at(s){return s?(s.nodeName||"").toLowerCase():null}function Be(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function Mt(s){var e=Be(s).Element;return s instanceof e||s instanceof Element}function Qe(s){var e=Be(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function vo(s){if(typeof ShadowRoot>"u")return!1;var e=Be(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Ol(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];!Qe(r)||!at(r)||(Object.assign(r.style,n),Object.keys(o).forEach(function(i){var a=o[i];a===!1?r.removeAttribute(i):r.setAttribute(i,a===!0?"":a)}))})}function Dl(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],r=e.attributes[n]||{},i=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=i.reduce(function(l,d){return l[d]="",l},{});!Qe(o)||!at(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(l){o.removeAttribute(l)}))})}}const ho={name:"applyStyles",enabled:!0,phase:"write",fn:Ol,effect:Dl,requires:["computeStyles"]};function ot(s){return s.split("-")[0]}var Ot=Math.max,tn=Math.min,ts=Math.round;function Zn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function da(){return!/^((?!chrome|android).)*safari/i.test(Zn())}function ss(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,r=1;e&&Qe(s)&&(o=s.offsetWidth>0&&ts(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&ts(n.height)/s.offsetHeight||1);var i=Mt(s)?Be(s):window,a=i.visualViewport,l=!da()&&t,d=(n.left+(l&&a?a.offsetLeft:0))/o,c=(n.top+(l&&a?a.offsetTop:0))/r,_=n.width/o,p=n.height/r;return{width:_,height:p,top:c,right:d+_,bottom:c+p,left:d,x:d,y:c}}function go(s){var e=ss(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function _a(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&vo(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ft(s){return Be(s).getComputedStyle(s)}function Ll(s){return["table","td","th"].indexOf(at(s))>=0}function At(s){return((Mt(s)?s.ownerDocument:s.document)||window.document).documentElement}function dn(s){return at(s)==="html"?s:s.assignedSlot||s.parentNode||(vo(s)?s.host:null)||At(s)}function Lo(s){return!Qe(s)||ft(s).position==="fixed"?null:s.offsetParent}function Ml(s){var e=/firefox/i.test(Zn()),t=/Trident/i.test(Zn());if(t&&Qe(s)){var n=ft(s);if(n.position==="fixed")return null}var o=dn(s);for(vo(o)&&(o=o.host);Qe(o)&&["html","body"].indexOf(at(o))<0;){var r=ft(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function Ss(s){for(var e=Be(s),t=Lo(s);t&&Ll(t)&&ft(t).position==="static";)t=Lo(t);return t&&(at(t)==="html"||at(t)==="body"&&ft(t).position==="static")?e:t||Ml(s)||e}function mo(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function Ts(s,e,t){return Ot(s,tn(e,t))}function $l(s,e,t){var n=Ts(s,e,t);return n>t?t:n}function fa(){return{top:0,right:0,bottom:0,left:0}}function pa(s){return Object.assign({},fa(),s)}function va(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var Rl=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,pa(typeof e!="number"?e:va(e,us))};function Pl(s){var e,t=s.state,n=s.name,o=s.options,r=t.elements.arrow,i=t.modifiersData.popperOffsets,a=ot(t.placement),l=mo(a),d=[Pe,Ve].indexOf(a)>=0,c=d?"height":"width";if(!(!r||!i)){var _=Rl(o.padding,t),p=go(r),f=l==="y"?Re:Pe,b=l==="y"?He:Ve,m=t.rects.reference[c]+t.rects.reference[l]-i[l]-t.rects.popper[c],T=i[l]-t.rects.reference[l],E=Ss(r),k=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,N=m/2-T/2,C=_[f],P=k-p[c]-_[b],W=k/2-p[c]/2+N,M=Ts(C,W,P),x=l;t.modifiersData[n]=(e={},e[x]=M,e.centerOffset=M-W,e)}}function jl(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||_a(e.elements.popper,o)&&(e.elements.arrow=o))}const ha={name:"arrow",enabled:!0,phase:"main",fn:Pl,effect:jl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ns(s){return s.split("-")[1]}var Fl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zl(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:ts(t*o)/o||0,y:ts(n*o)/o||0}}function Mo(s){var e,t=s.popper,n=s.popperRect,o=s.placement,r=s.variation,i=s.offsets,a=s.position,l=s.gpuAcceleration,d=s.adaptive,c=s.roundOffsets,_=s.isFixed,p=i.x,f=p===void 0?0:p,b=i.y,m=b===void 0?0:b,T=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=T.x,m=T.y;var E=i.hasOwnProperty("x"),k=i.hasOwnProperty("y"),N=Pe,C=Re,P=window;if(d){var W=Ss(t),M="clientHeight",x="clientWidth";if(W===Be(t)&&(W=At(t),ft(W).position!=="static"&&a==="absolute"&&(M="scrollHeight",x="scrollWidth")),W=W,o===Re||(o===Pe||o===Ve)&&r===es){C=He;var O=_&&W===P&&P.visualViewport?P.visualViewport.height:W[M];m-=O-n.height,m*=l?1:-1}if(o===Pe||(o===Re||o===He)&&r===es){N=Ve;var j=_&&W===P&&P.visualViewport?P.visualViewport.width:W[x];f-=j-n.width,f*=l?1:-1}}var te=Object.assign({position:a},d&&Fl),ue=c===!0?zl({x:f,y:m},Be(t)):{x:f,y:m};if(f=ue.x,m=ue.y,l){var de;return Object.assign({},te,(de={},de[C]=k?"0":"",de[N]=E?"0":"",de.transform=(P.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",de))}return Object.assign({},te,(e={},e[C]=k?m+"px":"",e[N]=E?f+"px":"",e.transform="",e))}function Ul(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,r=t.adaptive,i=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,d={placement:ot(e.placement),variation:ns(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mo(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mo(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const yo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ul,data:{}};var Rs={passive:!0};function Wl(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,r=o===void 0?!0:o,i=n.resize,a=i===void 0?!0:i,l=Be(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&d.forEach(function(c){c.addEventListener("scroll",t.update,Rs)}),a&&l.addEventListener("resize",t.update,Rs),function(){r&&d.forEach(function(c){c.removeEventListener("scroll",t.update,Rs)}),a&&l.removeEventListener("resize",t.update,Rs)}}const bo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wl,data:{}};var Hl={left:"right",right:"left",bottom:"top",top:"bottom"};function Qs(s){return s.replace(/left|right|bottom|top/g,function(e){return Hl[e]})}var Vl={start:"end",end:"start"};function $o(s){return s.replace(/start|end/g,function(e){return Vl[e]})}function wo(s){var e=Be(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Eo(s){return ss(At(s)).left+wo(s).scrollLeft}function Bl(s,e){var t=Be(s),n=At(s),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,l=0;if(o){r=o.width,i=o.height;var d=da();(d||!d&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:i,x:a+Eo(s),y:l}}function Yl(s){var e,t=At(s),n=wo(s),o=(e=s.ownerDocument)==null?void 0:e.body,r=Ot(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Ot(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Eo(s),l=-n.scrollTop;return ft(o||t).direction==="rtl"&&(a+=Ot(t.clientWidth,o?o.clientWidth:0)-r),{width:r,height:i,x:a,y:l}}function To(s){var e=ft(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function ga(s){return["html","body","#document"].indexOf(at(s))>=0?s.ownerDocument.body:Qe(s)&&To(s)?s:ga(dn(s))}function As(s,e){var t;e===void 0&&(e=[]);var n=ga(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),r=Be(n),i=o?[r].concat(r.visualViewport||[],To(n)?n:[]):n,a=e.concat(i);return o?a:a.concat(As(dn(i)))}function Qn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Gl(s,e){var t=ss(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function Ro(s,e,t){return e===fo?Qn(Bl(s,t)):Mt(e)?Gl(e,t):Qn(Yl(At(s)))}function Kl(s){var e=As(dn(s)),t=["absolute","fixed"].indexOf(ft(s).position)>=0,n=t&&Qe(s)?Ss(s):s;return Mt(n)?e.filter(function(o){return Mt(o)&&_a(o,n)&&at(o)!=="body"}):[]}function Zl(s,e,t,n){var o=e==="clippingParents"?Kl(s):[].concat(e),r=[].concat(o,[t]),i=r[0],a=r.reduce(function(l,d){var c=Ro(s,d,n);return l.top=Ot(c.top,l.top),l.right=tn(c.right,l.right),l.bottom=tn(c.bottom,l.bottom),l.left=Ot(c.left,l.left),l},Ro(s,i,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ma(s){var e=s.reference,t=s.element,n=s.placement,o=n?ot(n):null,r=n?ns(n):null,i=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(o){case Re:l={x:i,y:e.y-t.height};break;case He:l={x:i,y:e.y+e.height};break;case Ve:l={x:e.x+e.width,y:a};break;case Pe:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var d=o?mo(o):null;if(d!=null){var c=d==="y"?"height":"width";switch(r){case Lt:l[d]=l[d]-(e[c]/2-t[c]/2);break;case es:l[d]=l[d]+(e[c]/2-t[c]/2);break}}return l}function os(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,r=t.strategy,i=r===void 0?s.strategy:r,a=t.boundary,l=a===void 0?qr:a,d=t.rootBoundary,c=d===void 0?fo:d,_=t.elementContext,p=_===void 0?Gt:_,f=t.altBoundary,b=f===void 0?!1:f,m=t.padding,T=m===void 0?0:m,E=pa(typeof T!="number"?T:va(T,us)),k=p===Gt?ea:Gt,N=s.rects.popper,C=s.elements[b?k:p],P=Zl(Mt(C)?C:C.contextElement||At(s.elements.popper),l,c,i),W=ss(s.elements.reference),M=ma({reference:W,element:N,placement:o}),x=Qn(Object.assign({},N,M)),O=p===Gt?x:W,j={top:P.top-O.top+E.top,bottom:O.bottom-P.bottom+E.bottom,left:P.left-O.left+E.left,right:O.right-P.right+E.right},te=s.modifiersData.offset;if(p===Gt&&te){var ue=te[o];Object.keys(j).forEach(function(de){var G=[Ve,He].indexOf(de)>=0?1:-1,U=[Re,He].indexOf(de)>=0?"y":"x";j[de]+=ue[U]*G})}return j}function Ql(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,r=t.rootBoundary,i=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,d=l===void 0?po:l,c=ns(n),_=c?a?Kn:Kn.filter(function(b){return ns(b)===c}):us,p=_.filter(function(b){return d.indexOf(b)>=0});p.length===0&&(p=_);var f=p.reduce(function(b,m){return b[m]=os(s,{placement:m,boundary:o,rootBoundary:r,padding:i})[ot(m)],b},{});return Object.keys(f).sort(function(b,m){return f[b]-f[m]})}function Jl(s){if(ot(s)===un)return[];var e=Qs(s);return[$o(s),e,$o(e)]}function Xl(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!0:i,l=t.fallbackPlacements,d=t.padding,c=t.boundary,_=t.rootBoundary,p=t.altBoundary,f=t.flipVariations,b=f===void 0?!0:f,m=t.allowedAutoPlacements,T=e.options.placement,E=ot(T),k=E===T,N=l||(k||!b?[Qs(T)]:Jl(T)),C=[T].concat(N).reduce(function(pe,ce){return pe.concat(ot(ce)===un?Ql(e,{placement:ce,boundary:c,rootBoundary:_,padding:d,flipVariations:b,allowedAutoPlacements:m}):ce)},[]),P=e.rects.reference,W=e.rects.popper,M=new Map,x=!0,O=C[0],j=0;j<C.length;j++){var te=C[j],ue=ot(te),de=ns(te)===Lt,G=[Re,He].indexOf(ue)>=0,U=G?"width":"height",X=os(e,{placement:te,boundary:c,rootBoundary:_,altBoundary:p,padding:d}),K=G?de?Ve:Pe:de?He:Re;P[U]>W[U]&&(K=Qs(K));var he=Qs(K),Te=[];if(r&&Te.push(X[ue]<=0),a&&Te.push(X[K]<=0,X[he]<=0),Te.every(function(pe){return pe})){O=te,x=!1;break}M.set(te,Te)}if(x)for(var je=b?3:1,q=function(ce){var Se=C.find(function(Ae){var Ee=M.get(Ae);if(Ee)return Ee.slice(0,ce).every(function(st){return st})});if(Se)return O=Se,"break"},Oe=je;Oe>0;Oe--){var Ye=q(Oe);if(Ye==="break")break}e.placement!==O&&(e.modifiersData[n]._skip=!0,e.placement=O,e.reset=!0)}}const ya={name:"flip",enabled:!0,phase:"main",fn:Xl,requiresIfExists:["offset"],data:{_skip:!1}};function Po(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function jo(s){return[Re,Ve,He,Pe].some(function(e){return s[e]>=0})}function ql(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,i=os(e,{elementContext:"reference"}),a=os(e,{altBoundary:!0}),l=Po(i,n),d=Po(a,o,r),c=jo(l),_=jo(d);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":_})}const ba={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ql};function ec(s,e,t){var n=ot(s),o=[Pe,Re].indexOf(n)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,i=r[0],a=r[1];return i=i||0,a=(a||0)*o,[Pe,Ve].indexOf(n)>=0?{x:a,y:i}:{x:i,y:a}}function tc(s){var e=s.state,t=s.options,n=s.name,o=t.offset,r=o===void 0?[0,0]:o,i=po.reduce(function(c,_){return c[_]=ec(_,e.rects,r),c},{}),a=i[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=i}const wa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tc};function sc(s){var e=s.state,t=s.name;e.modifiersData[t]=ma({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Ao={name:"popperOffsets",enabled:!0,phase:"read",fn:sc,data:{}};function nc(s){return s==="x"?"y":"x"}function oc(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!1:i,l=t.boundary,d=t.rootBoundary,c=t.altBoundary,_=t.padding,p=t.tether,f=p===void 0?!0:p,b=t.tetherOffset,m=b===void 0?0:b,T=os(e,{boundary:l,rootBoundary:d,padding:_,altBoundary:c}),E=ot(e.placement),k=ns(e.placement),N=!k,C=mo(E),P=nc(C),W=e.modifiersData.popperOffsets,M=e.rects.reference,x=e.rects.popper,O=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,j=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),te=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ue={x:0,y:0};if(W){if(r){var de,G=C==="y"?Re:Pe,U=C==="y"?He:Ve,X=C==="y"?"height":"width",K=W[C],he=K+T[G],Te=K-T[U],je=f?-x[X]/2:0,q=k===Lt?M[X]:x[X],Oe=k===Lt?-x[X]:-M[X],Ye=e.elements.arrow,pe=f&&Ye?go(Ye):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:fa(),Se=ce[G],Ae=ce[U],Ee=Ts(0,M[X],pe[X]),st=N?M[X]/2-je-Ee-Se-j.mainAxis:q-Ee-Se-j.mainAxis,jt=N?-M[X]/2+je+Ee+Ae+j.mainAxis:Oe+Ee+Ae+j.mainAxis,it=e.elements.arrow&&Ss(e.elements.arrow),gs=it?C==="y"?it.clientTop||0:it.clientLeft||0:0,Ft=(de=te==null?void 0:te[C])!=null?de:0,w=K+st-Ft-gs,g=K+jt-Ft,h=Ts(f?tn(he,w):he,K,f?Ot(Te,g):Te);W[C]=h,ue[C]=h-K}if(a){var S,$=C==="x"?Re:Pe,R=C==="x"?He:Ve,V=W[P],ee=P==="y"?"height":"width",Z=V+T[$],ae=V-T[R],_e=[Re,Pe].indexOf(E)!==-1,ie=(S=te==null?void 0:te[P])!=null?S:0,nt=_e?Z:V-M[ee]-x[ee]-ie+j.altAxis,vt=_e?V+M[ee]+x[ee]-ie-j.altAxis:ae,Ct=f&&_e?$l(nt,V,vt):Ts(f?nt:Z,V,f?vt:ae);W[P]=Ct,ue[P]=Ct-V}e.modifiersData[n]=ue}}const Ea={name:"preventOverflow",enabled:!0,phase:"main",fn:oc,requiresIfExists:["offset"]};function rc(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function ac(s){return s===Be(s)||!Qe(s)?wo(s):rc(s)}function ic(s){var e=s.getBoundingClientRect(),t=ts(e.width)/s.offsetWidth||1,n=ts(e.height)/s.offsetHeight||1;return t!==1||n!==1}function lc(s,e,t){t===void 0&&(t=!1);var n=Qe(e),o=Qe(e)&&ic(e),r=At(e),i=ss(s,o,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((at(e)!=="body"||To(r))&&(a=ac(e)),Qe(e)?(l=ss(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Eo(r))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function cc(s){var e=new Map,t=new Set,n=[];s.forEach(function(r){e.set(r.name,r)});function o(r){t.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&o(l)}}),n.push(r)}return s.forEach(function(r){t.has(r.name)||o(r)}),n}function uc(s){var e=cc(s);return ua.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function dc(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function _c(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Fo={placement:"bottom",modifiers:[],strategy:"absolute"};function zo(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function _n(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,r=o===void 0?Fo:o;return function(a,l,d){d===void 0&&(d=r);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fo,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},_=[],p=!1,f={state:c,setOptions:function(E){var k=typeof E=="function"?E(c.options):E;m(),c.options=Object.assign({},r,c.options,k),c.scrollParents={reference:Mt(a)?As(a):a.contextElement?As(a.contextElement):[],popper:As(l)};var N=uc(_c([].concat(n,c.options.modifiers)));return c.orderedModifiers=N.filter(function(C){return C.enabled}),b(),f.update()},forceUpdate:function(){if(!p){var E=c.elements,k=E.reference,N=E.popper;if(zo(k,N)){c.rects={reference:lc(k,Ss(N),c.options.strategy==="fixed"),popper:go(N)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(j){return c.modifiersData[j.name]=Object.assign({},j.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var P=c.orderedModifiers[C],W=P.fn,M=P.options,x=M===void 0?{}:M,O=P.name;typeof W=="function"&&(c=W({state:c,options:x,name:O,instance:f})||c)}}}},update:dc(function(){return new Promise(function(T){f.forceUpdate(),T(c)})}),destroy:function(){m(),p=!0}};if(!zo(a,l))return f;f.setOptions(d).then(function(T){!p&&d.onFirstUpdate&&d.onFirstUpdate(T)});function b(){c.orderedModifiers.forEach(function(T){var E=T.name,k=T.options,N=k===void 0?{}:k,C=T.effect;if(typeof C=="function"){var P=C({state:c,name:E,instance:f,options:N}),W=function(){};_.push(P||W)}})}function m(){_.forEach(function(T){return T()}),_=[]}return f}}var fc=_n(),pc=[bo,Ao,yo,ho],vc=_n({defaultModifiers:pc}),hc=[bo,Ao,yo,ho,wa,ya,Ea,ha,ba],No=_n({defaultModifiers:hc});const Ta=Object.freeze(Object.defineProperty({__proto__:null,afterMain:aa,afterRead:na,afterWrite:ca,applyStyles:ho,arrow:ha,auto:un,basePlacements:us,beforeMain:oa,beforeRead:ta,beforeWrite:ia,bottom:He,clippingParents:qr,computeStyles:yo,createPopper:No,createPopperBase:fc,createPopperLite:vc,detectOverflow:os,end:es,eventListeners:bo,flip:ya,hide:ba,left:Pe,main:ra,modifierPhases:ua,offset:wa,placements:po,popper:Gt,popperGenerator:_n,popperOffsets:Ao,preventOverflow:Ea,read:sa,reference:ea,right:Ve,start:Lt,top:Re,variationPlacements:Kn,viewport:fo,write:la},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const ht=new Map,Tn={set(s,e,t){ht.has(s)||ht.set(s,new Map);const n=ht.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return ht.has(s)&&ht.get(s).get(e)||null},remove(s,e){if(!ht.has(s))return;const t=ht.get(s);t.delete(e),t.size===0&&ht.delete(s)}},gc=1e6,mc=1e3,Jn="transitionend",Aa=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),yc=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),bc=s=>{do s+=Math.floor(Math.random()*gc);while(document.getElementById(s));return s},wc=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*mc)},Na=s=>{s.dispatchEvent(new Event(Jn))},ut=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),wt=s=>ut(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(Aa(s)):null,ds=s=>{if(!ut(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},Et=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",ka=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?ka(s.parentNode):null},sn=()=>{},xs=s=>{s.offsetHeight},Ca=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,An=[],Ec=s=>{document.readyState==="loading"?(An.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of An)e()}),An.push(s)):s()},Je=()=>document.documentElement.dir==="rtl",qe=s=>{Ec(()=>{const e=Ca();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},ze=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,Ia=(s,e,t=!0)=>{if(!t){ze(s);return}const o=wc(e)+5;let r=!1;const i=({target:a})=>{a===e&&(r=!0,e.removeEventListener(Jn,i),ze(s))};e.addEventListener(Jn,i),setTimeout(()=>{r||Na(e)},o)},ko=(s,e,t,n)=>{const o=s.length;let r=s.indexOf(e);return r===-1?!t&&n?s[o-1]:s[0]:(r+=t?1:-1,n&&(r=(r+o)%o),s[Math.max(0,Math.min(r,o-1))])},Tc=/[^.]*(?=\..*)\.|.*/,Ac=/\..*/,Nc=/::\d+$/,Nn={};let Uo=1;const Sa={mouseenter:"mouseover",mouseleave:"mouseout"},kc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function xa(s,e){return e&&`${e}::${Uo++}`||s.uidEvent||Uo++}function Oa(s){const e=xa(s);return s.uidEvent=e,Nn[e]=Nn[e]||{},Nn[e]}function Cc(s,e){return function t(n){return Co(n,{delegateTarget:s}),t.oneOff&&D.off(s,n.type,e),e.apply(s,[n])}}function Ic(s,e,t){return function n(o){const r=s.querySelectorAll(e);for(let{target:i}=o;i&&i!==this;i=i.parentNode)for(const a of r)if(a===i)return Co(o,{delegateTarget:i}),n.oneOff&&D.off(s,o.type,e,t),t.apply(i,[o])}}function Da(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function La(s,e,t){const n=typeof e=="string",o=n?t:e||t;let r=Ma(s);return kc.has(r)||(r=s),[n,o,r]}function Wo(s,e,t,n,o){if(typeof e!="string"||!s)return;let[r,i,a]=La(e,t,n);e in Sa&&(i=(b=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return b.call(this,m)})(i));const l=Oa(s),d=l[a]||(l[a]={}),c=Da(d,i,r?t:null);if(c){c.oneOff=c.oneOff&&o;return}const _=xa(i,e.replace(Tc,"")),p=r?Ic(s,t,i):Cc(s,i);p.delegationSelector=r?t:null,p.callable=i,p.oneOff=o,p.uidEvent=_,d[_]=p,s.addEventListener(a,p,r)}function Xn(s,e,t,n,o){const r=Da(e[t],n,o);r&&(s.removeEventListener(t,r,!!o),delete e[t][r.uidEvent])}function Sc(s,e,t,n){const o=e[t]||{};for(const[r,i]of Object.entries(o))r.includes(n)&&Xn(s,e,t,i.callable,i.delegationSelector)}function Ma(s){return s=s.replace(Ac,""),Sa[s]||s}const D={on(s,e,t,n){Wo(s,e,t,n,!1)},one(s,e,t,n){Wo(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,r,i]=La(e,t,n),a=i!==e,l=Oa(s),d=l[i]||{},c=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(d).length)return;Xn(s,l,i,r,o?t:null);return}if(c)for(const _ of Object.keys(l))Sc(s,l,_,e.slice(1));for(const[_,p]of Object.entries(d)){const f=_.replace(Nc,"");(!a||e.includes(f))&&Xn(s,l,i,p.callable,p.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=Ca(),o=Ma(e),r=e!==o;let i=null,a=!0,l=!0,d=!1;r&&n&&(i=n.Event(e,t),n(s).trigger(i),a=!i.isPropagationStopped(),l=!i.isImmediatePropagationStopped(),d=i.isDefaultPrevented());const c=Co(new Event(e,{bubbles:a,cancelable:!0}),t);return d&&c.preventDefault(),l&&s.dispatchEvent(c),c.defaultPrevented&&i&&i.preventDefault(),c}};function Co(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function Ho(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function kn(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const dt={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${kn(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${kn(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Ho(s.dataset[n])}return e},getDataAttribute(s,e){return Ho(s.getAttribute(`data-bs-${kn(e)}`))}};class Os{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=ut(t)?dt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...ut(t)?dt.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const r=e[n],i=ut(r)?"element":yc(r);if(!new RegExp(o).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${o}".`)}}}const xc="5.3.3";class tt extends Os{constructor(e,t){super(),e=wt(e),e&&(this._element=e,this._config=this._getConfig(t),Tn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Tn.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Ia(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Tn.get(wt(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return xc}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Cn=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Aa(t)).join(","):null},H={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!Et(t)&&ds(t))},getSelectorFromElement(s){const e=Cn(s);return e&&H.findOne(e)?e:null},getElementFromSelector(s){const e=Cn(s);return e?H.findOne(e):null},getMultipleElementsFromSelector(s){const e=Cn(s);return e?H.find(e):[]}},fn=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;D.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Et(this))return;const r=H.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(r)[e]()})},Oc="alert",Dc="bs.alert",$a=`.${Dc}`,Lc=`close${$a}`,Mc=`closed${$a}`,$c="fade",Rc="show";class pn extends tt{static get NAME(){return Oc}close(){if(D.trigger(this._element,Lc).defaultPrevented)return;this._element.classList.remove(Rc);const t=this._element.classList.contains($c);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),D.trigger(this._element,Mc),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=pn.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}fn(pn,"close");qe(pn);const Pc="button",jc="bs.button",Fc=`.${jc}`,zc=".data-api",Uc="active",Vo='[data-bs-toggle="button"]',Wc=`click${Fc}${zc}`;class vn extends tt{static get NAME(){return Pc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Uc))}static jQueryInterface(e){return this.each(function(){const t=vn.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}D.on(document,Wc,Vo,s=>{s.preventDefault();const e=s.target.closest(Vo);vn.getOrCreateInstance(e).toggle()});qe(vn);const Hc="swipe",_s=".bs.swipe",Vc=`touchstart${_s}`,Bc=`touchmove${_s}`,Yc=`touchend${_s}`,Gc=`pointerdown${_s}`,Kc=`pointerup${_s}`,Zc="touch",Qc="pen",Jc="pointer-event",Xc=40,qc={endCallback:null,leftCallback:null,rightCallback:null},eu={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class nn extends Os{constructor(e,t){super(),this._element=e,!(!e||!nn.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return qc}static get DefaultType(){return eu}static get NAME(){return Hc}dispose(){D.off(this._element,_s)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ze(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Xc)return;const t=e/this._deltaX;this._deltaX=0,t&&ze(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,Gc,e=>this._start(e)),D.on(this._element,Kc,e=>this._end(e)),this._element.classList.add(Jc)):(D.on(this._element,Vc,e=>this._start(e)),D.on(this._element,Bc,e=>this._move(e)),D.on(this._element,Yc,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Qc||e.pointerType===Zc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const tu="carousel",su="bs.carousel",Nt=`.${su}`,Ra=".data-api",nu="ArrowLeft",ou="ArrowRight",ru=500,ms="next",zt="prev",Kt="left",Js="right",au=`slide${Nt}`,In=`slid${Nt}`,iu=`keydown${Nt}`,lu=`mouseenter${Nt}`,cu=`mouseleave${Nt}`,uu=`dragstart${Nt}`,du=`load${Nt}${Ra}`,_u=`click${Nt}${Ra}`,Pa="carousel",Ps="active",fu="slide",pu="carousel-item-end",vu="carousel-item-start",hu="carousel-item-next",gu="carousel-item-prev",ja=".active",Fa=".carousel-item",mu=ja+Fa,yu=".carousel-item img",bu=".carousel-indicators",wu="[data-bs-slide], [data-bs-slide-to]",Eu='[data-bs-ride="carousel"]',Tu={[nu]:Js,[ou]:Kt},Au={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Nu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ds extends tt{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(bu,this._element),this._addEventListeners(),this._config.ride===Pa&&this.cycle()}static get Default(){return Au}static get DefaultType(){return Nu}static get NAME(){return tu}next(){this._slide(ms)}nextWhenVisible(){!document.hidden&&ds(this._element)&&this.next()}prev(){this._slide(zt)}pause(){this._isSliding&&Na(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){D.one(this._element,In,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){D.one(this._element,In,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?ms:zt;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&D.on(this._element,iu,e=>this._keydown(e)),this._config.pause==="hover"&&(D.on(this._element,lu,()=>this.pause()),D.on(this._element,cu,()=>this._maybeEnableCycle())),this._config.touch&&nn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of H.find(yu,this._element))D.on(n,uu,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Kt)),rightCallback:()=>this._slide(this._directionToOrder(Js)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ru+this._config.interval))}};this._swipeHelper=new nn(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Tu[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=H.findOne(ja,this._indicatorsElement);t.classList.remove(Ps),t.removeAttribute("aria-current");const n=H.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Ps),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===ms,r=t||ko(this._getItems(),n,o,this._config.wrap);if(r===n)return;const i=this._getItemIndex(r),a=f=>D.trigger(this._element,f,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:i});if(a(au).defaultPrevented||!n||!r)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=r;const c=o?vu:pu,_=o?hu:gu;r.classList.add(_),xs(r),n.classList.add(c),r.classList.add(c);const p=()=>{r.classList.remove(c,_),r.classList.add(Ps),n.classList.remove(Ps,_,c),this._isSliding=!1,a(In)};this._queueCallback(p,n,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(fu)}_getActive(){return H.findOne(mu,this._element)}_getItems(){return H.find(Fa,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Je()?e===Kt?zt:ms:e===Kt?ms:zt}_orderToDirection(e){return Je()?e===zt?Kt:Js:e===zt?Js:Kt}static jQueryInterface(e){return this.each(function(){const t=Ds.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(document,_u,wu,function(s){const e=H.getElementFromSelector(this);if(!e||!e.classList.contains(Pa))return;s.preventDefault();const t=Ds.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(dt.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});D.on(window,du,()=>{const s=H.find(Eu);for(const e of s)Ds.getOrCreateInstance(e)});qe(Ds);const ku="collapse",Cu="bs.collapse",Ls=`.${Cu}`,Iu=".data-api",Su=`show${Ls}`,xu=`shown${Ls}`,Ou=`hide${Ls}`,Du=`hidden${Ls}`,Lu=`click${Ls}${Iu}`,Sn="show",Jt="collapse",js="collapsing",Mu="collapsed",$u=`:scope .${Jt} .${Jt}`,Ru="collapse-horizontal",Pu="width",ju="height",Fu=".collapse.show, .collapse.collapsing",qn='[data-bs-toggle="collapse"]',zu={parent:null,toggle:!0},Uu={parent:"(null|element)",toggle:"boolean"};class ks extends tt{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=H.find(qn);for(const o of n){const r=H.getSelectorFromElement(o),i=H.find(r).filter(a=>a===this._element);r!==null&&i.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zu}static get DefaultType(){return Uu}static get NAME(){return ku}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Fu).filter(a=>a!==this._element).map(a=>ks.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||D.trigger(this._element,Su).defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove(Jt),this._element.classList.add(js),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(js),this._element.classList.add(Jt,Sn),this._element.style[n]="",D.trigger(this._element,xu)},i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,Ou).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,xs(this._element),this._element.classList.add(js),this._element.classList.remove(Jt,Sn);for(const o of this._triggerArray){const r=H.getElementFromSelector(o);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(js),this._element.classList.add(Jt),D.trigger(this._element,Du)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Sn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=wt(e.parent),e}_getDimension(){return this._element.classList.contains(Ru)?Pu:ju}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(qn);for(const t of e){const n=H.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=H.find($u,this._config.parent);return H.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(Mu,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=ks.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}D.on(document,Lu,qn,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of H.getMultipleElementsFromSelector(this))ks.getOrCreateInstance(e,{toggle:!1}).toggle()});qe(ks);const Bo="dropdown",Wu="bs.dropdown",$t=`.${Wu}`,Io=".data-api",Hu="Escape",Yo="Tab",Vu="ArrowUp",Go="ArrowDown",Bu=2,Yu=`hide${$t}`,Gu=`hidden${$t}`,Ku=`show${$t}`,Zu=`shown${$t}`,za=`click${$t}${Io}`,Ua=`keydown${$t}${Io}`,Qu=`keyup${$t}${Io}`,Zt="show",Ju="dropup",Xu="dropend",qu="dropstart",ed="dropup-center",td="dropdown-center",St='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',sd=`${St}.${Zt}`,Xs=".dropdown-menu",nd=".navbar",od=".navbar-nav",rd=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ad=Je()?"top-end":"top-start",id=Je()?"top-start":"top-end",ld=Je()?"bottom-end":"bottom-start",cd=Je()?"bottom-start":"bottom-end",ud=Je()?"left-start":"right-start",dd=Je()?"right-start":"left-start",_d="top",fd="bottom",pd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},vd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rt extends tt{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,Xs)[0]||H.prev(this._element,Xs)[0]||H.findOne(Xs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pd}static get DefaultType(){return vd}static get NAME(){return Bo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Et(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!D.trigger(this._element,Ku,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(od))for(const n of[].concat(...document.body.children))D.on(n,"mouseover",sn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zt),this._element.classList.add(Zt),D.trigger(this._element,Zu,e)}}hide(){if(Et(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!D.trigger(this._element,Yu,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))D.off(n,"mouseover",sn);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zt),this._element.classList.remove(Zt),this._element.setAttribute("aria-expanded","false"),dt.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,Gu,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ut(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Bo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Ta>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:ut(this._config.reference)?e=wt(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=No(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Zt)}_getPlacement(){const e=this._parent;if(e.classList.contains(Xu))return ud;if(e.classList.contains(qu))return dd;if(e.classList.contains(ed))return _d;if(e.classList.contains(td))return fd;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Ju)?t?id:ad:t?cd:ld}_detectNavbar(){return this._element.closest(nd)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(dt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ze(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=H.find(rd,this._menu).filter(o=>ds(o));n.length&&ko(n,t,e===Go,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=rt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Bu||e.type==="keyup"&&e.key!==Yo)return;const t=H.find(sd);for(const n of t){const o=rt.getInstance(n);if(!o||o._config.autoClose===!1)continue;const r=e.composedPath(),i=r.includes(o._menu);if(r.includes(o._element)||o._config.autoClose==="inside"&&!i||o._config.autoClose==="outside"&&i||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Yo||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:o._element};e.type==="click"&&(a.clickEvent=e),o._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Hu,o=[Vu,Go].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const r=this.matches(St)?this:H.prev(this,St)[0]||H.next(this,St)[0]||H.findOne(St,e.delegateTarget.parentNode),i=rt.getOrCreateInstance(r);if(o){e.stopPropagation(),i.show(),i._selectMenuItem(e);return}i._isShown()&&(e.stopPropagation(),i.hide(),r.focus())}}D.on(document,Ua,St,rt.dataApiKeydownHandler);D.on(document,Ua,Xs,rt.dataApiKeydownHandler);D.on(document,za,rt.clearMenus);D.on(document,Qu,rt.clearMenus);D.on(document,za,St,function(s){s.preventDefault(),rt.getOrCreateInstance(this).toggle()});qe(rt);const Wa="backdrop",hd="fade",Ko="show",Zo=`mousedown.bs.${Wa}`,gd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},md={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ha extends Os{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return gd}static get DefaultType(){return md}static get NAME(){return Wa}show(e){if(!this._config.isVisible){ze(e);return}this._append();const t=this._getElement();this._config.isAnimated&&xs(t),t.classList.add(Ko),this._emulateAnimation(()=>{ze(e)})}hide(e){if(!this._config.isVisible){ze(e);return}this._getElement().classList.remove(Ko),this._emulateAnimation(()=>{this.dispose(),ze(e)})}dispose(){this._isAppended&&(D.off(this._element,Zo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(hd),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=wt(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),D.on(e,Zo,()=>{ze(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Ia(e,this._getElement(),this._config.isAnimated)}}const yd="focustrap",bd="bs.focustrap",on=`.${bd}`,wd=`focusin${on}`,Ed=`keydown.tab${on}`,Td="Tab",Ad="forward",Qo="backward",Nd={autofocus:!0,trapElement:null},kd={autofocus:"boolean",trapElement:"element"};class Va extends Os{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Nd}static get DefaultType(){return kd}static get NAME(){return yd}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,on),D.on(document,wd,e=>this._handleFocusin(e)),D.on(document,Ed,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,on))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=H.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===Qo?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Td&&(this._lastTabNavDirection=e.shiftKey?Qo:Ad)}}const Jo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Xo=".sticky-top",Fs="padding-right",qo="margin-right";class eo{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fs,t=>t+e),this._setElementAttributes(Jo,Fs,t=>t+e),this._setElementAttributes(Xo,qo,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fs),this._resetElementAttributes(Jo,Fs),this._resetElementAttributes(Xo,qo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),r=i=>{if(i!==this._element&&window.innerWidth>i.clientWidth+o)return;this._saveInitialAttribute(i,t);const a=window.getComputedStyle(i).getPropertyValue(t);i.style.setProperty(t,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&dt.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const r=dt.getDataAttribute(o,t);if(r===null){o.style.removeProperty(t);return}dt.removeDataAttribute(o,t),o.style.setProperty(t,r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(ut(e)){t(e);return}for(const n of H.find(e,this._element))t(n)}}const Cd="modal",Id="bs.modal",Xe=`.${Id}`,Sd=".data-api",xd="Escape",Od=`hide${Xe}`,Dd=`hidePrevented${Xe}`,Ba=`hidden${Xe}`,Ya=`show${Xe}`,Ld=`shown${Xe}`,Md=`resize${Xe}`,$d=`click.dismiss${Xe}`,Rd=`mousedown.dismiss${Xe}`,Pd=`keydown.dismiss${Xe}`,jd=`click${Xe}${Sd}`,er="modal-open",Fd="fade",tr="show",xn="modal-static",zd=".modal.show",Ud=".modal-dialog",Wd=".modal-body",Hd='[data-bs-toggle="modal"]',Vd={backdrop:!0,focus:!0,keyboard:!0},Bd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class rs extends tt{constructor(e,t){super(e,t),this._dialog=H.findOne(Ud,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new eo,this._addEventListeners()}static get Default(){return Vd}static get DefaultType(){return Bd}static get NAME(){return Cd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||D.trigger(this._element,Ya,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(er),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||D.trigger(this._element,Od).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(tr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){D.off(window,Xe),D.off(this._dialog,Xe),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ha({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Va({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=H.findOne(Wd,this._dialog);t&&(t.scrollTop=0),xs(this._element),this._element.classList.add(tr);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,Ld,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,Pd,e=>{if(e.key===xd){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),D.on(window,Md,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,Rd,e=>{D.one(this._element,$d,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(er),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,Ba)})}_isAnimated(){return this._element.classList.contains(Fd)}_triggerBackdropTransition(){if(D.trigger(this._element,Dd).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(xn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(xn),this._queueCallback(()=>{this._element.classList.remove(xn),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Je()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Je()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=rs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}D.on(document,jd,Hd,function(s){const e=H.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),D.one(e,Ya,o=>{o.defaultPrevented||D.one(e,Ba,()=>{ds(this)&&this.focus()})});const t=H.findOne(zd);t&&rs.getInstance(t).hide(),rs.getOrCreateInstance(e).toggle(this)});fn(rs);qe(rs);const Yd="offcanvas",Gd="bs.offcanvas",pt=`.${Gd}`,Ga=".data-api",Kd=`load${pt}${Ga}`,Zd="Escape",sr="show",nr="showing",or="hiding",Qd="offcanvas-backdrop",Ka=".offcanvas.show",Jd=`show${pt}`,Xd=`shown${pt}`,qd=`hide${pt}`,rr=`hidePrevented${pt}`,Za=`hidden${pt}`,e_=`resize${pt}`,t_=`click${pt}${Ga}`,s_=`keydown.dismiss${pt}`,n_='[data-bs-toggle="offcanvas"]',o_={backdrop:!0,keyboard:!0,scroll:!1},r_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Tt extends tt{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return o_}static get DefaultType(){return r_}static get NAME(){return Yd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||D.trigger(this._element,Jd,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new eo().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nr);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(sr),this._element.classList.remove(nr),D.trigger(this._element,Xd,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||D.trigger(this._element,qd).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(or),this._backdrop.hide();const t=()=>{this._element.classList.remove(sr,or),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new eo().reset(),D.trigger(this._element,Za)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){D.trigger(this._element,rr);return}this.hide()},t=!!this._config.backdrop;return new Ha({className:Qd,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Va({trapElement:this._element})}_addEventListeners(){D.on(this._element,s_,e=>{if(e.key===Zd){if(this._config.keyboard){this.hide();return}D.trigger(this._element,rr)}})}static jQueryInterface(e){return this.each(function(){const t=Tt.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}D.on(document,t_,n_,function(s){const e=H.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Et(this))return;D.one(e,Za,()=>{ds(this)&&this.focus()});const t=H.findOne(Ka);t&&t!==e&&Tt.getInstance(t).hide(),Tt.getOrCreateInstance(e).toggle(this)});D.on(window,Kd,()=>{for(const s of H.find(Ka))Tt.getOrCreateInstance(s).show()});D.on(window,e_,()=>{for(const s of H.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&Tt.getOrCreateInstance(s).hide()});fn(Tt);qe(Tt);const a_=/^aria-[\w-]*$/i,Qa={"*":["class","dir","id","lang","role",a_],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},i_=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),l_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,c_=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?i_.has(t)?!!l_.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function u_(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...o.body.querySelectorAll("*"));for(const i of r){const a=i.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){i.remove();continue}const l=[].concat(...i.attributes),d=[].concat(e["*"]||[],e[a]||[]);for(const c of l)c_(c,d)||i.removeAttribute(c.nodeName)}return o.body.innerHTML}const d_="TemplateFactory",__={allowList:Qa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},f_={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},p_={entry:"(string|element|function|null)",selector:"(string|element)"};class v_ extends Os{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return __}static get DefaultType(){return f_}static get NAME(){return d_}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,r]of Object.entries(this._config.content))this._setContent(e,r,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},p_)}_setContent(e,t,n){const o=H.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(ut(t)){this._putElementInTemplate(wt(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?u_(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ze(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const h_="tooltip",g_=new Set(["sanitize","allowList","sanitizeFn"]),On="fade",m_="modal",zs="show",y_=".tooltip-inner",ar=`.${m_}`,ir="hide.bs.modal",ys="hover",Dn="focus",b_="click",w_="manual",E_="hide",T_="hidden",A_="show",N_="shown",k_="inserted",C_="click",I_="focusin",S_="focusout",x_="mouseenter",O_="mouseleave",D_={AUTO:"auto",TOP:"top",RIGHT:Je()?"left":"right",BOTTOM:"bottom",LEFT:Je()?"right":"left"},L_={allowList:Qa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},M_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fs extends tt{constructor(e,t){if(typeof Ta>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return L_}static get DefaultType(){return M_}static get NAME(){return h_}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(ar),ir,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=D.trigger(this._element,this.constructor.eventName(A_)),n=(ka(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(o),D.trigger(this._element,this.constructor.eventName(k_))),this._popper=this._createPopper(o),o.classList.add(zs),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))D.on(a,"mouseover",sn);const i=()=>{D.trigger(this._element,this.constructor.eventName(N_)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(i,this.tip,this._isAnimated())}hide(){if(!this._isShown()||D.trigger(this._element,this.constructor.eventName(E_)).defaultPrevented)return;if(this._getTipElement().classList.remove(zs),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))D.off(o,"mouseover",sn);this._activeTrigger[b_]=!1,this._activeTrigger[Dn]=!1,this._activeTrigger[ys]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName(T_)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(On,zs),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=bc(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(On),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new v_({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[y_]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(On)}_isShown(){return this.tip&&this.tip.classList.contains(zs)}_createPopper(e){const t=ze(this._config.placement,[this,e,this._element]),n=D_[t.toUpperCase()];return No(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ze(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...ze(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")D.on(this._element,this.constructor.eventName(C_),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==w_){const n=t===ys?this.constructor.eventName(x_):this.constructor.eventName(I_),o=t===ys?this.constructor.eventName(O_):this.constructor.eventName(S_);D.on(this._element,n,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusin"?Dn:ys]=!0,i._enter()}),D.on(this._element,o,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusout"?Dn:ys]=i._element.contains(r.relatedTarget),i._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(ar),ir,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=dt.getDataAttributes(this._element);for(const n of Object.keys(t))g_.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:wt(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=fs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}qe(fs);const $_="popover",R_=".popover-header",P_=".popover-body",j_={...fs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},F_={...fs.DefaultType,content:"(null|string|element|function)"};class So extends fs{static get Default(){return j_}static get DefaultType(){return F_}static get NAME(){return $_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[R_]:this._getTitle(),[P_]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=So.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}qe(So);const z_="scrollspy",U_="bs.scrollspy",xo=`.${U_}`,W_=".data-api",H_=`activate${xo}`,lr=`click${xo}`,V_=`load${xo}${W_}`,B_="dropdown-item",Ut="active",Y_='[data-bs-spy="scroll"]',Ln="[href]",G_=".nav, .list-group",cr=".nav-link",K_=".nav-item",Z_=".list-group-item",Q_=`${cr}, ${K_} > ${cr}, ${Z_}`,J_=".dropdown",X_=".dropdown-toggle",q_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ef={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hn extends tt{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return q_}static get DefaultType(){return ef}static get NAME(){return z_}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=wt(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,lr),D.on(this._config.target,lr,Ln,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=i=>this._targetLinks.get(`#${i.target.id}`),n=i=>{this._previousScrollData.visibleEntryTop=i.target.offsetTop,this._process(t(i))},o=(this._rootElement||document.documentElement).scrollTop,r=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const a=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(n(i),!o)return;continue}!r&&!a&&n(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=H.find(Ln,this._config.target);for(const t of e){if(!t.hash||Et(t))continue;const n=H.findOne(decodeURI(t.hash),this._element);ds(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ut),this._activateParents(e),D.trigger(this._element,H_,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(B_)){H.findOne(X_,e.closest(J_)).classList.add(Ut);return}for(const t of H.parents(e,G_))for(const n of H.prev(t,Q_))n.classList.add(Ut)}_clearActiveClass(e){e.classList.remove(Ut);const t=H.find(`${Ln}.${Ut}`,e);for(const n of t)n.classList.remove(Ut)}static jQueryInterface(e){return this.each(function(){const t=hn.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(window,V_,()=>{for(const s of H.find(Y_))hn.getOrCreateInstance(s)});qe(hn);const tf="tab",sf="bs.tab",Rt=`.${sf}`,nf=`hide${Rt}`,of=`hidden${Rt}`,rf=`show${Rt}`,af=`shown${Rt}`,lf=`click${Rt}`,cf=`keydown${Rt}`,uf=`load${Rt}`,df="ArrowLeft",ur="ArrowRight",_f="ArrowUp",dr="ArrowDown",Mn="Home",_r="End",xt="active",fr="fade",$n="show",ff="dropdown",Ja=".dropdown-toggle",pf=".dropdown-menu",Rn=`:not(${Ja})`,vf='.list-group, .nav, [role="tablist"]',hf=".nav-item, .list-group-item",gf=`.nav-link${Rn}, .list-group-item${Rn}, [role="tab"]${Rn}`,Xa='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Pn=`${gf}, ${Xa}`,mf=`.${xt}[data-bs-toggle="tab"], .${xt}[data-bs-toggle="pill"], .${xt}[data-bs-toggle="list"]`;class as extends tt{constructor(e){super(e),this._parent=this._element.closest(vf),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,cf,t=>this._keydown(t)))}static get NAME(){return tf}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?D.trigger(t,nf,{relatedTarget:e}):null;D.trigger(e,rf,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(xt),this._activate(H.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add($n);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),D.trigger(e,af,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(fr))}_deactivate(e,t){if(!e)return;e.classList.remove(xt),e.blur(),this._deactivate(H.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove($n);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),D.trigger(e,of,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(fr))}_keydown(e){if(![df,ur,_f,dr,Mn,_r].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!Et(o));let n;if([Mn,_r].includes(e.key))n=t[e.key===Mn?0:t.length-1];else{const o=[ur,dr].includes(e.key);n=ko(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),as.getOrCreateInstance(n).show())}_getChildren(){return H.find(Pn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=H.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(ff))return;const o=(r,i)=>{const a=H.findOne(r,n);a&&a.classList.toggle(i,t)};o(Ja,xt),o(pf,$n),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(xt)}_getInnerElement(e){return e.matches(Pn)?e:H.findOne(Pn,e)}_getOuterElement(e){return e.closest(hf)||e}static jQueryInterface(e){return this.each(function(){const t=as.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(document,lf,Xa,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!Et(this)&&as.getOrCreateInstance(this).show()});D.on(window,uf,()=>{for(const s of H.find(mf))as.getOrCreateInstance(s)});qe(as);const yf="toast",bf="bs.toast",kt=`.${bf}`,wf=`mouseover${kt}`,Ef=`mouseout${kt}`,Tf=`focusin${kt}`,Af=`focusout${kt}`,Nf=`hide${kt}`,kf=`hidden${kt}`,Cf=`show${kt}`,If=`shown${kt}`,Sf="fade",pr="hide",Us="show",Ws="showing",xf={animation:"boolean",autohide:"boolean",delay:"number"},Of={animation:!0,autohide:!0,delay:5e3};class gn extends tt{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Of}static get DefaultType(){return xf}static get NAME(){return yf}show(){if(D.trigger(this._element,Cf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Sf);const t=()=>{this._element.classList.remove(Ws),D.trigger(this._element,If),this._maybeScheduleHide()};this._element.classList.remove(pr),xs(this._element),this._element.classList.add(Us,Ws),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||D.trigger(this._element,Nf).defaultPrevented)return;const t=()=>{this._element.classList.add(pr),this._element.classList.remove(Ws,Us),D.trigger(this._element,kf)};this._element.classList.add(Ws),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Us),super.dispose()}isShown(){return this._element.classList.contains(Us)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,wf,e=>this._onInteraction(e,!0)),D.on(this._element,Ef,e=>this._onInteraction(e,!1)),D.on(this._element,Tf,e=>this._onInteraction(e,!0)),D.on(this._element,Af,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=gn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}fn(gn);qe(gn);/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let qa;const mn=s=>qa=s,ei=Symbol();function to(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Ns;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Ns||(Ns={}));function Df(){const s=Hr(!0),e=s.run(()=>A({}));let t=[],n=[];const o=Vr({install(r){mn(o),o._a=r,r.provide(ei,o),r.config.globalProperties.$pinia=o,n.forEach(i=>t.push(i)),n=[]},use(r){return this._a?t.push(r):n.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const ti=()=>{};function vr(s,e,t,n=ti){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&gi()&&mi(o),o}function Wt(s,...e){s.slice().forEach(t=>{t(...e)})}const Lf=s=>s(),hr=Symbol(),jn=Symbol();function so(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];to(o)&&to(n)&&s.hasOwnProperty(t)&&!en(n)&&!Br(n)?s[t]=so(o,n):s[t]=n}return s}const Mf=Symbol();function $f(s){return!to(s)||!s.hasOwnProperty(Mf)}const{assign:mt}=Object;function Rf(s){return!!(en(s)&&s.effect)}function Pf(s,e,t,n){const{state:o,actions:r,getters:i}=e,a=t.state.value[s];let l;function d(){a||(t.state.value[s]=o?o():{});const c=bi(t.state.value[s]);return mt(c,r,Object.keys(i||{}).reduce((_,p)=>(_[p]=Vr(z(()=>{mn(t);const f=t._s.get(s);return i[p].call(f,f)})),_),{}))}return l=si(s,d,e,t,n,!0),l}function si(s,e,t={},n,o,r){let i;const a=mt({actions:{}},t),l={deep:!0};let d,c,_=[],p=[],f;const b=n.state.value[s];!r&&!b&&(n.state.value[s]={}),A({});let m;function T(x){let O;d=c=!1,typeof x=="function"?(x(n.state.value[s]),O={type:Ns.patchFunction,storeId:s,events:f}):(so(n.state.value[s],x),O={type:Ns.patchObject,payload:x,storeId:s,events:f});const j=m=Symbol();yi().then(()=>{m===j&&(d=!0)}),c=!0,Wt(_,O,n.state.value[s])}const E=r?function(){const{state:O}=t,j=O?O():{};this.$patch(te=>{mt(te,j)})}:ti;function k(){i.stop(),_=[],p=[],n._s.delete(s)}const N=(x,O="")=>{if(hr in x)return x[jn]=O,x;const j=function(){mn(n);const te=Array.from(arguments),ue=[],de=[];function G(K){ue.push(K)}function U(K){de.push(K)}Wt(p,{args:te,name:j[jn],store:P,after:G,onError:U});let X;try{X=x.apply(this&&this.$id===s?this:P,te)}catch(K){throw Wt(de,K),K}return X instanceof Promise?X.then(K=>(Wt(ue,K),K)).catch(K=>(Wt(de,K),Promise.reject(K))):(Wt(ue,X),X)};return j[hr]=!0,j[jn]=O,j},C={_p:n,$id:s,$onAction:vr.bind(null,p),$patch:T,$reset:E,$subscribe(x,O={}){const j=vr(_,x,O.detached,()=>te()),te=i.run(()=>yt(()=>n.state.value[s],ue=>{(O.flush==="sync"?c:d)&&x({storeId:s,type:Ns.direct,events:f},ue)},mt({},l,O)));return j},$dispose:k},P=vi(C);n._s.set(s,P);const M=(n._a&&n._a.runWithContext||Lf)(()=>n._e.run(()=>(i=Hr()).run(()=>e({action:N}))));for(const x in M){const O=M[x];if(en(O)&&!Rf(O)||Br(O))r||(b&&$f(O)&&(en(O)?O.value=b[x]:so(O,b[x])),n.state.value[s][x]=O);else if(typeof O=="function"){const j=N(O,x);M[x]=j,a.actions[x]=O}}return mt(P,M),mt(hi(P),M),Object.defineProperty(P,"$state",{get:()=>n.state.value[s],set:x=>{T(O=>{mt(O,x)})}}),n._p.forEach(x=>{mt(P,i.run(()=>x({store:P,app:n._a,pinia:n,options:a})))}),b&&r&&t.hydrate&&t.hydrate(P.$state,b),d=!0,c=!0,P}/*! #__NO_SIDE_EFFECTS__ */function ps(s,e,t){let n;const o=typeof e=="function";n=o?t:e;function r(i,a){const l=Ei();return i=i||(l?wi(ei,null):null),i&&mn(i),i=qa,i._s.has(s)||(o?si(s,e,n,i):Pf(s,n,i)),i._s.get(s)}return r.$id=s,r}const jf=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ff=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,zf=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Uf(s,e){if(s==="__proto__"||s==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Wf(s);return}return e}function Wf(s){console.warn(`[destr] Dropping "${s}" key to prevent prototype pollution.`)}function Hf(s,e={}){if(typeof s!="string")return s;const t=s.trim();if(s[0]==='"'&&s.endsWith('"')&&!s.includes("\\"))return t.slice(1,-1);if(t.length<=9){const n=t.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!zf.test(s)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return s}try{if(jf.test(s)||Ff.test(s)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(s,Uf)}return JSON.parse(s)}catch(n){if(e.strict)throw n;return s}}function Vf(s,e){if(s==null)return;let t=s;for(let n=0;n<e.length;n++){if(t==null||t[e[n]]==null)return;t=t[e[n]]}return t}function Oo(s,e,t){if(t.length===0)return e;const n=t[0];return t.length>1&&(e=Oo(typeof s!="object"||s===null||!Object.prototype.hasOwnProperty.call(s,n)?Number.isInteger(Number(t[1]))?[]:{}:s[n],e,Array.prototype.slice.call(t,1))),Number.isInteger(Number(n))&&Array.isArray(s)?s.slice()[n]:Object.assign({},s,{[n]:e})}function ni(s,e){if(s==null||e.length===0)return s;if(e.length===1){if(s==null)return s;if(Number.isInteger(e[0])&&Array.isArray(s))return Array.prototype.slice.call(s,0).splice(e[0],1);const t={};for(const n in s)t[n]=s[n];return delete t[e[0]],t}if(s[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(s))return Array.prototype.concat.call([],s);const t={};for(const n in s)t[n]=s[n];return t}return Oo(s,ni(s[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function oi(s,e){return e.map(t=>t.split(".")).map(t=>[t,Vf(s,t)]).filter(t=>t[1]!==void 0).reduce((t,n)=>Oo(t,n[1],n[0]),{})}function ri(s,e){return e.map(t=>t.split(".")).reduce((t,n)=>ni(t,n),s)}function gr(s,{storage:e,serializer:t,key:n,debug:o,pick:r,omit:i,beforeHydrate:a,afterHydrate:l},d,c=!0){try{c&&(a==null||a(d));const _=e.getItem(n);if(_){const p=t.deserialize(_),f=r?oi(p,r):p,b=i?ri(f,i):f;s.$patch(b)}c&&(l==null||l(d))}catch(_){o&&console.error("[pinia-plugin-persistedstate]",_)}}function mr(s,{storage:e,serializer:t,key:n,debug:o,pick:r,omit:i}){try{const a=r?oi(s,r):s,l=i?ri(a,i):a,d=t.serialize(l);e.setItem(n,d)}catch(a){o&&console.error("[pinia-plugin-persistedstate]",a)}}function Bf(s,e,t){const{pinia:n,store:o,options:{persist:r=t}}=s;if(!r)return;if(!(o.$id in n.state.value)){const l=n._s.get(o.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(r)?r:r===!0?[{}]:[r]).map(e);o.$hydrate=({runHooks:l=!0}={})=>{a.forEach(d=>{gr(o,d,s,l)})},o.$persist=()=>{a.forEach(l=>{mr(o.$state,l)})},a.forEach(l=>{gr(o,l,s),o.$subscribe((d,c)=>mr(c,l),{detached:!0})})}function Yf(s={}){return function(e){Bf(e,t=>({key:(s.key?s.key:n=>n)(t.key??e.store.$id),debug:t.debug??s.debug??!1,serializer:t.serializer??s.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>Hf(n)},storage:t.storage??s.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),s.auto??!1)}}var Gf=Yf();const vs=ps("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=A([]),t=A(new $e([],s)),n=A(!1),o=structuredClone(s);o.keys=[];const r=structuredClone(s);r.keys=["name","type"];const i=A(new $e([],o)),a=A(new $e([],o)),l=A(new $e([],o)),d=A(new $e([],o)),c=A(new $e([],r)),_=A(new $e([],r)),p=A(new $e([],r));function f(N){n.value=N}function b(N){const C=N.split("/");C.length===3&&e.value.push(C[0]+"."+C[1]+"."+C[2])}function m(N){d.value.add(N+"_Request"),d.value.add(N+"_Response")}function T(N){d.value.add(N+"_Goal"),d.value.add(N+"_Result"),d.value.add(N+"_Feedback")}function E(N){e.value=[],i.value.setCollection(N.topics),a.value.setCollection(N.services),l.value.setCollection(N.actions),d.value.setCollection(N.topics),N.services.forEach(m),N.actions.forEach(T),N.topics.forEach(b),t.value.setCollection(e.value)}function k(N){c.value.setCollection(N.topics),_.value.setCollection(N.services),p.value.setCollection(N.actions)}return{messages:e,messages_fuse:t,messages_available:n,ros_topic_type_fuse:i,ros_service_type_fuse:a,ros_action_type_fuse:l,ros_all_messages_fuse:d,ros_topic_name_fuse:c,ros_service_name_fuse:_,ros_action_name_fuse:p,areMessagesAvailable:f,updateAvailableMessages:E,updateMessageChannels:k}}),yn=ps("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=oe([]),t=oe(new $e([],s)),n=A(!1);function o(i){n.value=i}function r(i){e.value=i,t.value=new $e(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:r}}),hs=ps("nodes",()=>{const s=ye(),e={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},t=oe([]),n=oe(new $e([],e)),o=oe([]);function r(d){t.value=d;const c=d.map(_=>(_.max_children<0?_.node_type="Flow control":_.max_children>0?_.node_type="Decorator":_.node_type="Leaf",_));n.value=new $e(c,e)}function i(d){if(d===""){o.value=[];return}o.value=n.value.search(d).map(c=>c.item)}function a(){o.value=[]}function l(d){s.get_available_nodes_service.callService({node_modules:[d]},c=>{c.success?(r(c.available_nodes),L({title:"Updated available BT nodes!",type:"success"})):L({title:"Failed to update available BT nodes!",text:c.error_message,type:"error"})},c=>{L({title:"Failed to call GetAvailableNodes service!",text:c,type:"error"})})}return{nodes:t,nodes_fuse:n,filtered_nodes:o,updateAvailableNode:r,filterNodes:i,clearFilteredNodes:a,getNodes:l}}),ve="00000000-0000-0000-0000-000000000000",Kf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function ai(s){return typeof s=="string"&&Kf.test(s)}const Ie=[];for(let s=0;s<256;++s)Ie.push((s+256).toString(16).slice(1));function Zf(s,e=0){return(Ie[s[e+0]]+Ie[s[e+1]]+Ie[s[e+2]]+Ie[s[e+3]]+"-"+Ie[s[e+4]]+Ie[s[e+5]]+"-"+Ie[s[e+6]]+Ie[s[e+7]]+"-"+Ie[s[e+8]]+Ie[s[e+9]]+"-"+Ie[s[e+10]]+Ie[s[e+11]]+Ie[s[e+12]]+Ie[s[e+13]]+Ie[s[e+14]]+Ie[s[e+15]]).toLowerCase()}let Fn;const Qf=new Uint8Array(16);function Jf(){if(!Fn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fn=crypto.getRandomValues.bind(crypto)}return Fn(Qf)}const Xf=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yr={randomUUID:Xf};function qf(s,e,t){var o;s=s||{};const n=s.random??((o=s.rng)==null?void 0:o.call(s))??Jf();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Zf(n)}function ii(s,e,t){return yr.randomUUID?yr.randomUUID():qf(s)}var Me=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))(Me||{});const xe=new Map,ep="ros_bt_py.custom_types.TypeWrapper",br="collections.OrderedDict";xe.set(br,{"py/reduce":[{"py/type":br},{"py/tuple":[[]]},null,null,null]});const wr="ros_bt_py.ros_helpers.LoggerLevel";xe.set(wr,{"py/object":wr,logger_level:"Debug"});const no="ros_bt_py.helpers.MathUnaryOperator";xe.set(no,{"py/object":no,operator:"sqrt"});const oo="ros_bt_py.helpers.MathBinaryOperator";xe.set(oo,{"py/object":oo,operator:"+"});const ro="ros_bt_py.helpers.MathOperandType";xe.set(ro,{"py/object":ro,operand_type:"float"});const ao="ros_bt_py.helpers.MathUnaryOperandType";xe.set(ao,{"py/object":ao,operand_type:"float"});const Er="ros_bt_py.ros_helpers.EnumValue";xe.set(Er,{"py/object":Er,enum_value:"",field_names:[]});const io="ros_bt_py.custom_types.FilePath";xe.set(io,{"py/object":io,path:""});const Cs="ros_bt_py.custom_types.RosTopicType";xe.set(Cs,{"py/object":Cs,type_str:"example_interfaces/msg/Empty"});const rn="ros_bt_py.custom_types.RosServiceType";xe.set(rn,{"py/object":rn,type_str:"example_interfaces/srv/Trigger"});const an="ros_bt_py.custom_types.RosActionType";xe.set(an,{"py/object":an,type_str:"example_interfaces/action/Fibonacci"});const lo="ros_bt_py.custom_types.RosTopicName";xe.set(lo,{"py/object":lo,name:""});const co="ros_bt_py.custom_types.RosServiceName";xe.set(co,{"py/object":co,name:""});const uo="ros_bt_py.custom_types.RosActionName";xe.set(uo,{"py/object":uo,name:""});function tp(s){return xe.has(s)}function sp(s){return structuredClone(xe.get(s))}var De=(s=>(s.RUNNING="RUNNING",s.IDLE="IDLE",s.SUCCEEDED="SUCCEEDED",s.FAILED="FAILED",s.SHUTDOWN="SHUTDOWN",s.UNINITIALIZED="UNINITIALIZED",s.UNASSIGNED="UNASSIGNED",s.ASSIGNED="ASSIGNED",s.BROKEN="BROKEN",s.PAUSED="PAUSED",s))(De||{}),Le=(s=>(s.IDLE="IDLE",s.EDITABLE="EDITABLE",s.TICKING="TICKING",s.WAITING_FOR_TICK="WAITING_FOR_TICK",s.STOP_REQUESTED="STOP_REQUESTED",s.ERROR="ERROR",s))(Le||{}),Fe=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))(Fe||{}),B=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.ROOT="root",s))(B||{}),ct=(s=>(s.FILE="file",s.DIR="directory",s))(ct||{});function re(s){if(!ai(s))throw TypeError(`Message ${s} is not a valid uuid`);return s}function et(s){if(!ai(s))throw TypeError(`String ${s} is not a valid uuid`);return s}function Xt(s,e){return re(s)===re(e)}function li(s,e){return s.nodes.find(t=>re(t.node_id)===e)}function Tr(s,e){if(s.node.data.node_id===e.node.data.node_id||s.kind===e.kind)return!1;const t=s.kind===Fe.OUTPUT?s:e,n=s.kind===Fe.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:Ce(t.type)===Ce(n.type)}const qs=["int","float","str","bytes","bool","list","dict","set","type"];function _o(s){return s.length%2!=0&&(s="0"+s),{"py/b64":Uint8Array.fromHex(s).toBase64()}}function ci(s){return Uint8Array.fromBase64(s["py/b64"]).toHex()}function Ce(s){const e=JSON.parse(s);if(e["py/type"]!==void 0)return e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"str").replace(/^unicode$/,"str");if(e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef")return"OptionRef("+e.option_key+")";if(e["py/object"]!==void 0&&e["py/object"]===ep){const t=e;return Ce(JSON.stringify(t.actual_type))+"("+t.info+")"}return e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function np(s){const e=JSON.parse(s);return e["py/b64"]!==void 0?"0x"+ci(e):e}function bn(s){let e;return s.startsWith("OptionRef(")?e=s.match(/(.*\(.*\))\((.*)\)/):e=s.match(/(.*)\((.*)\)/),e===null?[s,""]:[e[1],e[2]]}const is="unset_optionref";function ui(s,e=null){if(s.startsWith("OptionRef(")){const t=s.substring(10,s.length-1);if(e===null)return is;const n=e.find(o=>o.key===t);return n?n.serialized_value===""?qt(Ce(n.serialized_type)).value:Ce(n.serialized_value):is}else return s}function qt(s,e=null){const t=bn(s)[0];if(t==="type")return{type:s,value:"int"};if(t==="int")return{type:s,value:0};if(t==="str")return{type:s,value:"foo"};if(t==="bytes")return{type:s,value:_o("00")};if(t==="float")return{type:s,value:1.2};if(t==="bool")return{type:s,value:!0};if(t==="list")return{type:s,value:[]};if(t==="dict")return{type:s,value:{}};if(t.startsWith("OptionRef(")){const n=ui(t,e);if(n===is){const o=t.substring(10,t.length-1);return{type:is,value:'Ref to "'+o+'"'}}return qt(n,e)}else return tp(t)?{type:s,value:sp(t)||{}}:{type:"__"+s,value:{}}}function Do(s){return s.map(e=>{const t={key:e.key,serialized_value:"",serialized_type:""};if(e.value.type.startsWith("type"))qs.indexOf(e.value.value)>=0&&(e.value.value="builtins."+e.value.value),t.serialized_value=JSON.stringify({"py/type":e.value.value});else if(e.value.type.startsWith("__")){const n=e.value.value;n["py/object"]=e.value.type.substring(2),t.serialized_value=JSON.stringify(e.value.value)}else t.serialized_value=JSON.stringify(e.value.value);return t})}function ln(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}var bt=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(bt||{});function di(s){let e,t;switch(s){case"Ask before overwrite":e=!1,t=!1;break;case"Overwrite file":e=!0,t=!1;break;case"Rename file":e=!1,t=!0;break;default:console.warn("Improper state for name conflict resolution strategy",s),e=!1,t=!1;break}return[e,t]}var cn=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(cn||{});const fe=ps("editor",()=>{const s=A([]),e=A([]),t=A([]),n=A(!1),o=A(!1),r=A(!1),i=A(new Set);let a=0;const l=200,d=A(),c=A(),_=A(),p=z(()=>d.value!==void 0||c.value!==void 0||_.value!==void 0),f=A(!0),b=A("darkmode"),m=A({own_id:ve,parent_id:ve}),T=z(()=>m.value.own_id!==ve),E=z(()=>({structure:s.value.find(q=>re(q.tree_id)===m.value.own_id),state:e.value.find(q=>re(q.tree_id)===m.value.own_id),data:t.value.find(q=>re(q.tree_id)===m.value.own_id)})),k=A(""),N=A(void 0),C=A(!1);function P(q){n.value=q}function W(q){r.value=q}function M(q){i.value.add(q)}function x(q){i.value.delete(q)}function O(q){a=setTimeout(()=>d.value=q,l)}function j(q){a=setTimeout(()=>c.value=q,l)}function te(q){_.value=q}function ue(){clearTimeout(a),d.value=void 0,c.value=void 0,_.value=void 0}function de(){_.value=void 0}function G(q){f.value=q}function U(){switch(b.value){case"darkmode":b.value="lightmode";return;case"lightmode":b.value="darkmode";return;default:b.value="darkmode";return}}function X(q){q.startsWith("file://")?k.value=q:k.value="file://"+q}function K(){k.value=""}function he(q){N.value=q}function Te(){N.value=void 0}function je(q){return s.value.find(Oe=>re(Oe.tree_id)===q)}return{selected_tree:m,has_selected_subtree:T,current_tree:E,publish_subtrees:n,publish_data:o,debug:r,tree_structure_list:s,findTree:je,tree_state_list:e,tree_data_list:t,running_commands:i,dragging_new_node:d,dragging_existing_node:c,data_edge_endpoint:_,is_dragging:p,is_layer_mode:C,runNewCommand:M,removeRunningCommand:x,enableSubtreePublishing:P,enableDebugging:W,startDraggingNewNode:O,startDraggingExistingNode:j,startDrawingDataEdge:te,stopDragging:ue,stopDrawingDataEdge:de,show_data_graph:f,enableShowDataGraph:G,skin:b,cycleEditorSkin:U,selected_edge:N,selectEdge:he,unselectEdge:Te,quick_save_location:k,setQuickSaveLocation:X,resetQuickSaveLocation:K}},{persist:{pick:["publish_data","publish_subtrees","quick_save_location"],storage:sessionStorage}}),ye=ps("ros",()=>{const s=vs(),e=yn(),t=hs(),n=fe(),o=oe(new Di({})),r=A(!1),i=A("ws://"+window.location.hostname+":9090"),a=A(""),l=A(["/"]);function d(){console.log("Start connect attempt"),o.value.connect(i.value)}const c=A(!0);let _=0;function p(){console.log("Start connect timeout"),clearTimeout(_),c.value&&(_=setTimeout(()=>{console.log("Connect callback"),c.value&&d()},1e3))}function f(){c.value=!c.value,c.value&&p()}const b=oe(new Q({ros:o.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),m=oe(new Q({ros:o.value,name:a.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),T=oe(new Q({ros:o.value,name:a.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),E=oe(new Q({ros:o.value,name:a.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),k=oe(new Q({ros:o.value,name:a.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),N=oe(new Q({ros:o.value,name:a.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),C=oe(new Q({ros:o.value,name:a.value+"debug/set_publish_data",serviceType:"std_srvs/srv/SetBool"})),P=oe(new Ge({ros:o.value,name:a.value+"tree_structure_list",messageType:"ros_bt_py_interfaces/msg/TreeStructureList",latch:!0,reconnect_on_close:!0})),W=oe(new Ge({ros:o.value,name:a.value+"tree_state_list",messageType:"ros_bt_py_interfaces/msg/TreeStateList",latch:!0,reconnect_on_close:!0})),M=oe(new Ge({ros:o.value,name:a.value+"tree_data_list",messageType:"ros_bt_py_interfaces/msg/TreeDataList",latch:!0,reconnect_on_close:!0})),x=oe(new Ge({ros:o.value,name:a.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),O=oe(new Ge({ros:o.value,name:a.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0})),j=oe(new Ge({ros:o.value,name:a.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0})),te=oe(new Q({ros:o.value,name:a.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),ue=oe(new Q({ros:o.value,name:a.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),de=oe(new Q({ros:o.value,name:a.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),G=oe(new Q({ros:o.value,name:a.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),U=oe(new Q({ros:o.value,name:a.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),X=oe(new Q({ros:o.value,name:a.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),K=oe(new Q({ros:o.value,name:a.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),he=oe(new Q({ros:o.value,name:a.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),Te=oe(new Q({ros:o.value,name:a.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),je=oe(new Q({ros:o.value,name:a.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),q=oe(new Q({ros:o.value,name:a.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),Oe=oe(new Q({ros:o.value,name:a.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),Ye=oe(new Q({ros:o.value,name:a.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),pe=oe(new Q({ros:o.value,name:a.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),ce=oe(new Q({ros:o.value,name:a.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),Se=oe(new Q({ros:o.value,name:a.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),Ae=oe(new Q({ros:o.value,name:a.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));o.value.on("connection",()=>{jt()}),o.value.on("close",()=>{it()}),o.value.on("error",()=>{L({title:"ROS connection error!",type:"error"})});function Ee(){P.value.unsubscribe(),P.value.removeAllListeners(),P.value=new Ge({ros:o.value,name:a.value+"tree_structure_list",messageType:"ros_bt_py_interfaces/msg/TreeStructureList",latch:!0,reconnect_on_close:!0}),W.value.unsubscribe(),W.value.removeAllListeners(),W.value=new Ge({ros:o.value,name:a.value+"tree_state_list",messageType:"ros_bt_py_interfaces/msg/TreeStateList",latch:!0,reconnect_on_close:!0}),M.value.unsubscribe(),M.value.removeAllListeners(),M.value=new Ge({ros:o.value,name:a.value+"tree_data_list",messageType:"ros_bt_py_interfaces/msg/TreeDataList",latch:!0,reconnect_on_close:!0}),O.value.unsubscribe(),O.value.removeAllListeners(),O.value=new Ge({ros:o.value,name:a.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0}),x.value.unsubscribe(),x.value.removeAllListeners(),x.value=new Ge({ros:o.value,name:a.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),j.value.unsubscribe(),j.value.removeAllListeners(),j.value=new Ge({ros:o.value,name:a.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0}),N.value=new Q({ros:o.value,name:a.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),C.value=new Q({ros:o.value,name:a.value+"debug/set_publish_data",serviceType:"std_srvs/srv/SetBool"}),b.value=new Q({ros:o.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),m.value=new Q({ros:o.value,name:a.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),T.value=new Q({ros:o.value,name:a.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),E.value=new Q({ros:o.value,name:a.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),k.value=new Q({ros:o.value,name:a.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),te.value=new Q({ros:o.value,name:a.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),ue.value=new Q({ros:o.value,name:a.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),de.value=new Q({ros:o.value,name:a.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),G.value=new Q({ros:o.value,name:a.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),U.value=new Q({ros:o.value,name:a.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"}),X.value=new Q({ros:o.value,name:a.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),K.value=new Q({ros:o.value,name:a.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),q.value=new Q({ros:o.value,name:a.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),je.value=new Q({ros:o.value,name:a.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),Te.value=new Q({ros:o.value,name:a.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),he.value=new Q({ros:o.value,name:a.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),Oe.value=new Q({ros:o.value,name:a.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),Ye.value=new Q({ros:o.value,name:a.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),pe.value=new Q({ros:o.value,name:a.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),ce.value=new Q({ros:o.value,name:a.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),Se.value=new Q({ros:o.value,name:a.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),Ae.value=new Q({ros:o.value,name:a.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}),t.getNodes("")}function st(w){i.value=w,o.value.close()}function jt(){r.value=!0,clearTimeout(_),L({title:"ROS connection established!",type:"success"})}function it(){r.value=!1,s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),n.enableSubtreePublishing(!1),n.publish_data=!1,p(),L({title:"ROS connection closed!",type:"warn"})}function gs(w){a.value=w,l.value.indexOf(w)===-1&&l.value.push(a.value),Ee()}function Ft(w){l.value=w}return{ros:o,connected:r,url:i,namespace:a,available_namespaces:l,connect:d,auto_connect:c,toggleAutoConnect:f,services_for_type_service:b,load_tree_service:m,fix_yaml_service:T,control_tree_execution_service:E,clear_tree_service:k,get_available_nodes_service:te,get_message_fields_service:ue,unwire_data_service:de,remove_node_service:G,morph_node_service:K,set_options_service:X,move_node_service:he,replace_node_service:U,wire_data_service:je,add_node_at_index_service:Te,generate_subtree_service:q,set_publish_subtrees_service:N,set_publish_data_service:C,get_storage_folders_service:Oe,get_folder_structure_service:Ye,get_package_structure_service:pe,save_tree_service:ce,change_tree_name_service:Se,load_tree_from_path_service:Ae,tree_structure_sub:P,tree_state_sub:W,tree_data_sub:M,packages_sub:x,messages_sub:O,channels_sub:j,startConnectTimeout:p,setUrl:st,changeNamespace:gs,setAvailableNamespaces:Ft,hasConnected:jt,hasDisconnected:it,updateROSServices:Ee}},{persist:{pick:["namespace","url","available_namespaces","auto_connect"],storage:localStorage,afterHydrate:s=>{s.store.updateROSServices(),s.store.connect()}}}),op={class:"border rounded mb-2"},rp={key:0,class:"m-2"},ap={class:"d-grid gap-2 mb-2"},ip={class:"input-group mb-3"},lp=["value"],cp=se({__name:"PackageLoader",setup(s){const e=hs(),t=A(!0),n=A("ros_bt_py.nodes.sequence");function o(){t.value=!t.value}function r(i){const a=i.target;n.value=a.value}return(i,a)=>{const l=we("FontAwesomeIcon");return v(),I("div",op,[u("div",{class:"text-center cursor-pointer font-weight-bold m-2",onClick:o},[a[2]||(a[2]=me(" Package Loader ")),t.value?(v(),J(l,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(v(),J(l,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),t.value?ge("",!0):(v(),I("div",rp,[u("div",ap,[u("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:a[0]||(a[0]=()=>y(e).getNodes(""))}," Refresh ")]),u("div",ip,[u("input",{id:"loadPackageForm",type:"text",class:"form-control","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:n.value,onChange:r},null,40,lp),u("button",{id:"loadPackageFormConfirm",type:"button",className:"btn btn-block btn-outline-primary",onClick:a[1]||(a[1]=()=>y(e).getNodes(n.value))}," Load package ")])]))])}}});function Ht(s,e){return{key:s.key,type:ui(Ce(s.serialized_type),e)}}const ke=ps("edit_node",()=>{const s=fe(),e=hs(),t=A(!1),n=A(!1),o=A(void 0),r=A(void 0),i=A([]),a=A("none"),l=A(""),d=A(""),c=A(""),_=A([]),p=A([]),f=A([]),b=A(!1),m=A(!1),T=z(()=>e.nodes.filter(G=>G.max_children==-1)),E=z(()=>T.value.filter(G=>c.value===G.module&&d.value===G.node_class).length>0),k=A(!1);function N(){n.value=!0}function C(){n.value=!1}function P(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,i.value=[],a.value="none"}function W(G){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=G,k.value=!1,t.value=!0,i.value=[],a.value="nodelist",l.value=G.node_class,d.value=G.node_class,c.value=G.module,b.value=!0,m.value=!1,_.value=G.options.map(U=>({key:U.key,value:qt(Ce(U.serialized_type),G.options)})),p.value=G.inputs.map(U=>Ht(U,G.options)),f.value=G.outputs.map(U=>Ht(U,G.options))}function M(G){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const U=s.current_tree.structure.nodes.find(K=>re(K.node_id)===G);if(U===void 0){console.error("Could not find node in tree"),P();return}const X=e.nodes.find(K=>K.node_class===U.node_class&&K.module===U.module);X===void 0&&console.error("Cannot recover node information"),o.value=U,r.value=X,k.value=!0,t.value=!1,i.value=[G],a.value="editor",l.value=U.name,d.value=U.node_class,c.value=U.module,b.value=!0,m.value=!1,_.value=U.options.map(K=>{const he=Ce(K.serialized_type);let Te=JSON.parse(K.serialized_value);return he.startsWith("type")&&(Te=Ce(K.serialized_value)),{key:K.key,value:{type:he,value:Te}}}),p.value=U.inputs.map(K=>Ht(K,U.options)),f.value=U.outputs.map(K=>Ht(K,U.options))}function x(G){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,a.value="multiple",i.value.forEach(U=>{const X=G.indexOf(U);X===-1?G.push(U):G.splice(X,1)}),i.value=G}function O(G){k.value=G}function j(G){n.value=!0,l.value=G}function te(G){const U=T.value.find(X=>X.module+X.node_class===G);if(U===void 0){console.warn("Can't locate node morph target");return}r.value=U,d.value=U.node_class,c.value=U.module,_.value=U.options.map(X=>({key:X.key,value:qt(Ce(X.serialized_type),U.options)})),p.value=U.inputs.map(X=>Ht(X,U.options)),f.value=U.outputs.map(X=>Ht(X,U.options)),n.value=!0,m.value=!0}function ue(G,U,X){n.value=!0;function K(he){return he.key===U?{key:U,value:{type:he.value.type,value:X}}:he}if(G==="options"){let he=function(pe){return pe.filter(ce=>Ce(ce.serialized_type).startsWith("OptionRef(")).map(ce=>[ce.key,Ce(ce.serialized_type).substring(10,Ce(ce.serialized_type).length-1)]).filter(ce=>ce[1]===U)},Te=function(pe,ce){const Se=pe.find(Ae=>Ae[0]===ce.key);if(Se){const Ae=_.value.find(Ee=>Ee.key===Se[1]);if(Ae){const Ee=Ae.value.value;return{key:ce.key,value:qt(Ee)}}}return ce},je=function(pe,ce){const Se=pe.find(Ae=>Ae[0]===ce.key);if(Se){const Ae=_.value.find(Ee=>Ee.key===Se[1]);if(Ae){const Ee=Ae.value.value;return{key:ce.key,type:Ee}}}return ce};if(r.value===void 0){console.error("Cannot recover node information");return}const q=he(r.value.options),Oe=he(r.value.inputs),Ye=he(r.value.outputs);_.value=_.value.map(K),_.value=_.value.map(pe=>Te(q,pe)),Oe.length>0&&(p.value=p.value.map(pe=>je(Oe,pe))),Ye.length>0&&(f.value=f.value.map(pe=>je(Ye,pe)))}}function de(){return{node_id:et(ii()),name:l.value,module:c.value,node_class:d.value,version:"",max_children:0,child_ids:[],options:Do(_.value),inputs:[],outputs:[]}}return{selected_node:o,reference_node:r,selected_node_ids:i,last_seletion_source:a,node_has_changed:n,copy_node_mode:k,node_is_valid:b,node_is_morphed:m,new_node_name:l,new_node_class:d,new_node_module:c,new_node_options:_,new_node_inputs:p,new_node_outputs:f,flow_control_nodes:T,is_flow_control_node:E,nodeListSelectionChange:W,editorSelectionChange:M,selectMultipleNodes:x,clearSelection:P,setNodeHasChanged:N,clearNodeHasChanged:C,changeCopyMode:O,changeNodeName:j,changeNodeClass:te,updateParamValue:ue,buildNodeMsg:de}}),up={class:"list-group-item"},dp={class:"d-flex w-100"},_p={class:"fs-5"},fp={class:"text-truncate"},pp={class:"text-truncate text-muted ms-2 mb-2"},zn=se({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){const e=A(!0);return(t,n)=>{const o=we("FontAwesomeIcon");return v(),I("div",up,[u("div",dp,[u("div",_p,Y(t.title),1),F(o,{icon:"fa-solid "+(e.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:n[0]||(n[0]=()=>e.value=!e.value)},null,8,["icon"])]),e.value?(v(!0),I(le,{key:0},be(t.io_node_data,r=>(v(),I(le,{key:t.title+r.key},[u("div",fp,Y(r.key),1),u("div",pp,Y(y(Ce)(r.serialized_type)),1)],64))),128)):ge("",!0)])}}}),vp={class:"d-flex w-100"},hp={class:"text-truncate fs-4"},gp={class:"text-muted mx-2 my-auto"},mp={class:"text-muted"},yp={key:0,class:"mt-3"},bp={class:"list-group"},wp={key:0,class:"list-group-item"},Ep={class:"d-flex w-100"},Tp={key:0},Ap=se({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=fe(),n=ke(),o=z(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),r=z(()=>o.value?"border-primary":"grab"),i=z(()=>e.node.max_children>0?"fa-link":e.node.max_children===0?"fa-leaf":"fa-network-wired"),a=A(!1),l=A(!0);function d(){n.nodeListSelectionChange(e.node)}return(c,_)=>{const p=we("FontAwesomeIcon");return v(),I("div",{class:Ne(["border rounded p-2 m-2",r.value]),tabindex:"0",onClick:d,onMousedown:_[2]||(_[2]=Gn(()=>y(t).startDraggingNewNode(c.node),["stop","prevent"])),onKeydown:_[3]||(_[3]=Ue(f=>y(n).nodeListSelectionChange(c.node),["enter"]))},[u("div",vp,[u("div",hp,Y(c.node.node_class),1),u("div",gp,[F(p,{icon:"fa-solid "+i.value},null,8,["icon"]),me(" "+Y(c.node.max_children>0?"("+c.node.max_children+")":""),1)]),F(p,{icon:"fa-solid "+(a.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto p-1",onClick:_[0]||(_[0]=Gn(()=>a.value=!a.value,["stop"]))},null,8,["icon"])]),u("div",mp,Y(c.node.module),1),a.value?(v(),I("div",yp,[u("div",bp,[y(ln)(c.node.doc)!==""?(v(),I("div",wp,[u("div",Ep,[_[4]||(_[4]=u("div",{class:"fs-5"},"Description",-1)),F(p,{icon:"fa-solid "+(l.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:_[1]||(_[1]=()=>l.value=!l.value)},null,8,["icon"])]),l.value?(v(),I("div",Tp,Y(y(ln)(c.node.doc)),1)):ge("",!0)])):ge("",!0),c.node.options.length>0?(v(),J(zn,{key:1,title:"Options",io_node_data:c.node.options},null,8,["io_node_data"])):ge("",!0),c.node.inputs.length>0?(v(),J(zn,{key:2,title:"Inputs",io_node_data:c.node.inputs},null,8,["io_node_data"])):ge("",!0),c.node.outputs.length>0?(v(),J(zn,{key:3,title:"Outputs",io_node_data:c.node.outputs},null,8,["io_node_data"])):ge("",!0)])])):ge("",!0)],34)}}}),Pt=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},Np=Pt(Ap,[["__scopeId","data-v-85486fcf"]]),kp={class:"border rounded m-1 pb-2 d-flex flex-column"},Cp={key:0,class:"scroll-col flex-shrink-1"},Ip=se({__name:"NodeList",setup(s){const e=A(!1),t=hs(),n=function(i,a){return i.node_class<a.node_class?-1:i.node_class>a.node_class?1:0},o=function(i,a){return i.module<a.module?-1:i.module>a.module?1:n(i,a)},r=z(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let i=[...t.nodes].sort(n);return i=i.sort(o),i}});return(i,a)=>{const l=we("FontAwesomeIcon");return v(),I("div",kp,[u("div",{class:"text-center cursor-pointer m-2",onClick:a[0]||(a[0]=d=>e.value=!e.value)},[a[1]||(a[1]=me(" Node List ")),F(l,{icon:"fa-solid "+(e.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),e.value?ge("",!0):(v(),I("div",Cp,[(v(!0),I(le,null,be(r.value,d=>(v(),J(Np,{key:d.node_class+d.module,node:d},null,8,["node"]))),128))]))])}}}),Sp=Pt(Ip,[["__scopeId","data-v-8b862e14"]]),xp={class:"ms-4 mt-1 mb-2"},Op={class:"btn-group w-100"},Dp={key:0},Lp=se({__name:"ListSubtrees",props:{tree_id:{},parent_id:{}},emits:["close"],setup(s,{emit:e}){const t=fe(),n=s,o=e,r=A(!0),i=z(()=>t.findTree(n.tree_id)),a=z(()=>{if(i.value===void 0)return new Set;const _=new Set(i.value.nodes.map(f=>re(f.node_id))),p=new Set(t.tree_structure_list.map(f=>re(f.tree_id)));return _.intersection(p)}),l=z(()=>i.value===void 0?"UNKNOWN":i.value.name),d=z(()=>{if(n.tree_id===ve)return"Main Tree";const _=t.findTree(n.parent_id);if(_===void 0)return"UNKNOWN";const p=li(_,n.tree_id);return p===void 0?"UNKNOWN":p.name});function c(){t.selected_tree={own_id:n.tree_id,parent_id:n.parent_id},o("close")}return(_,p)=>{const f=we("FontAwesomeIcon"),b=we("ListSubtrees",!0);return v(),I("div",xp,[u("div",Op,[u("button",{class:Ne(["btn btn-outline-contrast text-start w-100",{active:_.tree_id===y(re)(y(t).current_tree.structure.tree_id)}]),onClick:c},[F(f,{icon:"fa-solid fa-share-nodes",class:"me-1"}),me(" "+Y(d.value)+" ("+Y(l.value)+") ",1)],2),a.value.size>0?(v(),I("button",{key:0,class:"btn btn-outline-contrast",onClick:p[0]||(p[0]=m=>r.value=!r.value)},[F(f,{icon:"fa-solid "+(r.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto p-1"},null,8,["icon"])])):ge("",!0)]),r.value?(v(),I("div",Dp,[(v(!0),I(le,null,be(a.value,m=>(v(),J(b,{key:m,parent_id:n.tree_id,tree_id:m,onClose:p[1]||(p[1]=T=>o("close"))},null,8,["parent_id","tree_id"]))),128))])):ge("",!0)])}}}),Mp={class:"m-4"},$p={class:"overflow-auto",style:{"max-height":"80vh"}},Rp=se({__name:"SelectSubtreeModal",emits:["close"],setup(s,{emit:e}){const t=e;return(n,o)=>{const r=we("FontAwesomeIcon");return v(),J(y(Is),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:_t(()=>[u("button",{class:"btn float-end",onClick:o[0]||(o[0]=i=>t("close"))},[F(r,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),u("div",Mp,[o[2]||(o[2]=u("h1",{class:"fs-1 mb-3"},"Select Tree to Display",-1)),u("div",$p,[F(Lp,{parent_id:ve,tree_id:ve,onClose:o[1]||(o[1]=i=>t("close"))},null,8,["parent_id","tree_id"])])])]),_:1})}}}),Pp={class:"input-group my-2"},jp=["checked"],Ar="publish_subtrees",Fp=se({__name:"SelectSubtree",setup(s){const e=fe(),t=ye(),n=z(()=>{if(e.selected_tree.own_id===ve)return"Main Tree";const i=e.findTree(e.selected_tree.parent_id);if(i===void 0)return"UNKNOWN";const a=li(i,e.selected_tree.own_id);return a===void 0?"UNKNOWN":a.name});function o(i){const a=i.target;if(!t.connected){L({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}t.set_publish_subtrees_service.callService({data:a.checked},l=>{l.success?(L({title:(a.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(a.checked)):L({title:"Failed to toggle subtree publishing",text:l.message,type:"warn"})},l=>{L({title:"Failed to call setPublishSubtrees service",text:l,type:"error"})})}const r=Ks({component:Rp,attrs:{onClose(){r.close()}}});return(i,a)=>{const l=we("FontAwesomeIcon");return v(),I("div",Pp,[a[1]||(a[1]=u("label",{class:"input-group-text"}," Tree ",-1)),u("button",{class:"btn btn-contrast dropdown-toggle",onClick:a[0]||(a[0]=(...d)=>y(r).open&&y(r).open(...d))},Y(n.value),1),u("input",{id:Ar,type:"checkbox",class:"btn-check",autocomplete:"off",checked:y(e).publish_subtrees,onChange:o},null,40,jp),u("label",{class:"btn btn-primary",for:Ar,title:"Publish subtrees"},[F(l,{class:Ne(y(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])}}});function Qt(s,e,t,n=!0){const o=ye();let r;return n?r=L:r=i=>console.log(i),new Promise((i,a)=>{o.add_node_at_index_service.callService({parent_node_id:et(e),node:s,new_child_index:t},l=>{l.success?(r({title:"Added node "+s.name,type:"success"}),i(re(l.node_id))):(r({title:"Failed to add node "+s.name,text:l.error_message,type:"warn"}),a(l.error_message))},l=>{r({title:"Failed to call addNodeAtIndex service",text:l,type:"error"}),a(l)})})}function Vt(s,e,t,n,o=!0){const r=ye();let i;return o?i=L:i=a=>console.log(a),new Promise((a,l)=>{r.move_node_service.callService({node_id:et(s),parent_node_id:et(t),new_child_index:n},d=>{d.success?(i({title:"Moved node "+e,type:"success"}),a()):(i({title:"Failed to move node "+e,text:d.error_message,type:"warn"}),l(d.error_message))},d=>{i({title:"Failed to call moveNode service",text:d,type:"error"}),l(d)})})}function _i(s,e,t,n=!0){const o=ye();let r;return n?r=L:r=i=>console.log(i),new Promise((i,a)=>{o.remove_node_service.callService({node_id:et(s),remove_children:t},l=>{l.success?(r({title:"Removed node "+e,type:"success"}),i()):(r({title:"Failed to remove node "+e,text:l.error_message,type:"warn"}),a(l.error_message))},l=>{r({title:"Failed to call removeNode service",text:l,type:"error"}),a(l)})})}function Nr(s,e,t,n,o=!0){const r=ye();let i;return o?i=L:i=a=>console.log(a),new Promise((a,l)=>{r.replace_node_service.callService({old_node_id:et(s),new_node_id:et(t)},d=>{d.success?(i({title:"Replaced node "+e,text:"with node "+n,type:"success"}),a()):(i({title:"Failed to replace node",text:d.error_message,type:"warn"}),l(d.error_message))},d=>{i({title:"Failed to call ReplaceNode service",text:d,type:"error"}),l(d)})})}const zp=["visibility"],Up=["href"],Wp=["href"],Hp=["href"],Vp=["visibility"],Bp=["fill"],Yp=30,Ke=50,Hs=10,Ze=15,bs=10,kr=20,Gp=50,Kp=.02,Un=5,Wn=1e-4,It=10,lt=80,Cr=20,Zp=3,Qp=25,Vs=30,Ir=40,Jp=30,Sr=150,ws="node",Bt="btnode",xr="node_name",Or="class_name",Dr="state_icon",Lr="link",Bs="drop_target",Es="gripper-group",Mr="gripper",Yt="label",$r="label-type",Ys="data-link",Rr="hightlightEdge",Hn="highlightV1",Pr="highlightV2",gt="data-hover",Vn="compatible",Xp="node-selected",Gs="data-select",qp=se({__name:"D3BehaviorTreeEditor",setup(s){const e=fe(),t=ke(),n=ye(),o=A(),r=A(),i=A(),a=A(),l=A(),d=A(),c=A(),_=A(),p=A(),f=A();let b,m=!1,T=!1,E=0,k=0;const N=A([]);let C,P=[0,0];const W=new RegExp("[a-z0-9][A-Z]|[_\\- ][a-zA-Z]","dg");let M;function x(){if(o.value===void 0||r.value===void 0||b===void 0){L({title:"Element reference undefined!",type:"error"});return}const w=ne(o.value),g=w.node().getBoundingClientRect().height,h=Ui(o.value).k,S=g*.5/h-60;w.call(b.translateTo,0,S)}function O(w){const g=w.options.map(h=>({key:h.key,value:qt(Ce(h.serialized_type),w.options)}));return{node_id:et(ii()),name:w.node_class,module:w.module,node_class:w.node_class,version:"",max_children:0,child_ids:[],options:Do(g),inputs:[],outputs:[]}}function j(w){if(o.value===void 0)return;if(!e.is_dragging){C!==void 0&&(window.clearInterval(C),P=[]);return}const g=o.value.getBoundingClientRect().width,h=o.value.getBoundingClientRect().height,S=$s(w,o.value);let $=!1;if(P=[0,0],S[0]<Ke){$=!0;const R=(Ke-S[0])/Ke;P[0]=Hs*R}else if(S[0]>g-Ke){$=!0;const R=(Ke-(g-S[0]))/Ke;P[0]=-1*Hs*R}if(S[1]<Ke){$=!0;const R=(Ke-S[1])/Ke;P[1]=Hs*R}else if(S[1]>h-Ke){$=!0;const R=(Ke-(h-S[1]))/Ke;P[1]=-1*Hs*R}if(!$&&C!==void 0){window.clearInterval(C),C=void 0;return}C===void 0&&(C=window.setInterval(te,1e3/Yp))}function te(){if(!e.is_dragging&&C){window.clearInterval(C),C=void 0;return}ne(o.value).call(b.translateBy,P[0],P[1])}yt([()=>e.current_tree.structure,()=>e.is_layer_mode],ue,{immediate:!0});function ue(){if(r.value===void 0||i.value===void 0){console.warn("DOM is broken");return}if(e.current_tree.structure===void 0){console.warn("Nothing to draw");return}M=ne(r.value).transition("tree-transition").duration(100).ease(Mi);const w=Z=>({key:Z.key,serialized_type:Z.serialized_type}),g=e.current_tree.structure.nodes.map(Z=>({node_id:re(Z.node_id),name:Z.name,node_class:Z.node_class,module:Z.module,max_children:Z.max_children,child_ids:Z.child_ids.map(re),options:Z.options.map(w),inputs:Z.inputs.map(w),outputs:Z.outputs.map(w),size:{width:1,height:1},offset:{x:0,y:0}})),h={node_id:ve,name:"",node_class:"",module:"",max_children:-1,child_ids:[],inputs:[],outputs:[],options:[],size:{width:0,height:0},offset:{x:0,y:0}};g.findIndex(Z=>Z.node_id===ve)<0&&g.push(h);const S={};for(const Z in g){const ae=g[Z];for(const _e in ae.child_ids)S[ae.child_ids[_e]]=ae.node_id}const $=$i().id(Z=>Z.node_id).parentId(Z=>Z.node_id in S?S[Z.node_id]:Z.node_id===h.node_id?void 0:(h.child_ids.push(Z.node_id),h.node_id))(g);$.sort(function(Z,ae){if(Z.depth!==ae.depth)return ae.depth-Z.depth;for(;Z.parent!==ae.parent;)Z=Z.parent,ae=ae.parent;const _e=Z.parent.data.child_ids;return _e.findIndex(ie=>ie===Z.data.node_id)-_e.findIndex(ie=>ie===ae.data.node_id)});const V=ne(i.value).selectAll("."+ws).data($.descendants().filter(Z=>Z.data.node_id!==ve),Z=>Z.id).join(de).call(X);K();const ee=he(V,$);Te(ee),je(ee),Se(ee,e.current_tree.structure.data_wirings)}function de(w){const g=w.append("g").classed(ws,!0).classed("node--internal",h=>h.children!==void 0&&h.children.length>0).classed("node--leaf",h=>h.children===void 0||h.children.length==0).on("click.select",(h,S)=>{h.shiftKey?t.selectMultipleNodes([S.data.node_id]):t.editorSelectionChange(S.data.node_id),h.stopPropagation()});return e.has_selected_subtree||g.on("mousedown.dragdrop",(h,S)=>{e.startDraggingExistingNode(S),h.stopPropagation()}),g.append("rect").classed(Bt,!0),g.append("text").classed(xr,!0),g.append("text").classed(Or,!0),g.append("svg").classed(Dr,!0).attr("width",Vs).attr("height",Vs).append("path"),g}function G(w){switch(w){case De.RUNNING:return Xr.icon;case De.IDLE:return Jr.icon;case De.SUCCEEDED:return Qr.icon;case De.FAILED:return Zr.icon;case De.BROKEN:return Kr.icon;case De.SHUTDOWN:default:return Gr.icon}}function U(w,g){let h=0;const S=ne(w),$=S.select("."+xr),R=S.select("."+Or),V=g.data.name,ee=g.data.node_class;$.selectAll("tspan").remove(),R.selectAll("tspan").remove();let Z=0,ae=[0];for(const ie of V.matchAll(W))ae.push(ie.index+1);ae.push(V.length),ae.reverse();let _e=0;for(;_e<V.length;){const ie=$.append("tspan");ie.attr("x",0),_e>0&&ie.attr("dy",Ir);let nt=ae.findIndex(Ct=>_e===0?Ct<Cr-Zp:Ct<_e+Cr);ae[nt]===_e&&(nt-=1);const vt=ae[nt];ie.text(V.slice(_e,vt)),_e===0?h=ie.node().getComputedTextLength()+Vs+It:h=Math.max(h,ie.node().getComputedTextLength()),_e=vt,Z+=1}R.attr("y",Z*Ir),ae=[0];for(const ie of ee.matchAll(W))ae.push(ie.index+1);for(ae.push(ee.length),ae.reverse(),_e=0;_e<ee.length;){const ie=R.append("tspan");ie.attr("x",0),_e>0&&ie.attr("dy",Jp);let nt=ae.findIndex(Ct=>Ct<_e+Qp);ae[nt]===_e&&(nt-=1);const vt=ae[nt];ie.text(ee.slice(_e,vt)),h=Math.max(h,ie.node().getComputedTextLength()),_e=vt}return h}function X(w){return w.each(function(g){g.data.size.width=U(this,g)}),w.select("."+Bt).attr("x",null).attr("y",null).attr("width",null).attr("height",null),w.each(function(g){const h=g.data.inputs||[],S=g.data.outputs||[],$=Math.max(h.length,S.length),R=Ze*$+bs*($+1),V=this.getBBox();g.data.offset.x=V.x-It,g.data.offset.y=V.y-.5*It,g.data.size.width+=2*It,g.data.size.height=Math.max(V.height+1.5*It,R)}),w.select("."+Bt).attr("x",g=>g.data.offset.x).attr("y",g=>g.data.offset.y).attr("width",g=>g.data.size.width).attr("height",g=>g.data.size.height),w}yt(()=>e.current_tree.state,K);function K(){if(i.value===void 0){console.warn("DOM is broken");return}const g=ne(i.value).selectAll("."+ws).each(h=>{if(e.current_tree.state===void 0){console.warn("No state to update");return}const S=e.current_tree.state.node_states.find($=>re($.node_id)===h.data.node_id);S!==void 0&&(h.data.state=S.state)});g.select("."+Bt).style("stroke",h=>{switch(h.data.state){case De.RUNNING:return"var(--node-color-running)";case De.IDLE:return"var(--node-color-idle)";case De.SUCCEEDED:return"var(--node-color-succeeded)";case De.FAILED:case De.BROKEN:return"var(--node-color-failed)";case De.SHUTDOWN:return"var(--node-color-shutdown)";case De.UNINITIALIZED:default:return"var(--node-color-default)"}}).style("fill",h=>h.data.state==De.BROKEN?"var(--node-bg-broken)":"var(--node-bg-default)"),g.select("."+Dr).attr("viewBox",h=>{const S=G(h.data.state);return"0 0 "+S[0]+" "+S[1]}).attr("x",h=>h.data.size.width-Vs-2*It).attr("y",h=>h.data.offset.y+It).select("path").attr("d",h=>{const S=G(h.data.state);return typeof S[4]=="string"?S[4]:(console.warn("Potentially unhandled multivalue path",S[4]),S[4].join(""))})}function he(w,g){const h=Array(g.height+1).fill(0);w.each($=>{h[$.depth]=Math.max($.data.size.height,h[$.depth])});const S=Ri({nodeSize:$=>{let R;return e.is_layer_mode?R=h[$.depth]:R=$.data.size.height,R+=$.depth>0?lt:0,[$.data.size.width,R]},spacing:($,R)=>e.is_layer_mode?lt:$.parent!==R.parent?2*lt:lt})(g);return w.data(S.descendants().filter($=>$.data.node_id!==ve),$=>$.id).transition(M).attr("transform",$=>{const R=$.x-$.data.size.width/2,V=$.y;return"translate("+R+", "+V+")"}),S}function Te(w){if(a.value===void 0){console.warn("DOM is broken");return}ne(a.value).selectAll("."+Lr).data(w.links().filter(g=>g.source.data.node_id!==ve),g=>g.source.id+"###"+g.target.id).join("path").classed(Lr,!0).transition(M).attr("d",Pi().source(g=>{const h=g.source;return[h.x+h.data.offset.x,h.y+h.data.offset.y+h.data.size.height]}).target(g=>{const h=g.target;return[h.x+h.data.offset.x,h.y+h.data.offset.y]}))}function je(w){if(_.value===void 0){console.warn("DOM is broken");return}const g=[];e.has_selected_subtree||w.each(h=>{h.data.node_id!==ve&&(g.push({node:h,position:B.LEFT}),g.push({node:h,position:B.CENTER}),g.push({node:h,position:B.RIGHT}),g.push({node:h,position:B.TOP}),(h.data.max_children===-1||h.data.max_children>h.data.child_ids.length)&&g.push({node:h,position:B.BOTTOM}))}),g.length===0&&g.push({node:w,position:B.ROOT}),ne(_.value).selectAll("."+Bs).data(g,h=>h.node.id+"###"+h.position).join("rect").classed(Bs,!0).attr("width",h=>{switch(h.position){case B.LEFT:case B.RIGHT:return lt;case B.TOP:case B.BOTTOM:case B.CENTER:return h.node.data.size.width;case B.ROOT:return Sr;default:return 0}}).attr("height",h=>{switch(h.position){case B.LEFT:case B.RIGHT:case B.CENTER:return h.node.data.size.height;case B.TOP:case B.BOTTOM:return .5*lt;case B.ROOT:return Sr;default:return 0}}).attr("x",h=>{if(h.position===B.ROOT)return-150/2;let S=h.node.x+h.node.data.offset.x;return h.position===B.RIGHT?S+=.5*h.node.data.size.width:(S-=.5*h.node.data.size.width,h.position===B.LEFT&&(S-=lt)),S}).attr("y",h=>{if(h.position===B.ROOT)return-.5*lt;let S=h.node.y+h.node.data.offset.y;return h.position===B.TOP&&(S-=.5*lt),h.position===B.BOTTOM&&(S+=h.node.data.size.height),S}).attr("opacity",.2).on("mouseover.highlight",function(){ne(this).attr("opacity",.8)}).on("mouseout.highlight",function(){ne(this).attr("opacity",.2)}).on("mouseup.dragdrop",(h,S)=>{e.dragging_new_node?pe(S):e.dragging_existing_node?Oe(S):console.warn("Unintended drag release")})}function q(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}async function Oe(w){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const g=e.dragging_existing_node.data.node_id,h=e.dragging_existing_node.data.name;if(!w.node.parent){console.error("A tree with an existing node should never show the root target");return}if(w.position===B.BOTTOM){await Vt(g,h,w.node.data.node_id,0);return}if(w.position===B.LEFT||w.position===B.RIGHT){const S=w.node.parent.data.node_id;let $=w.node.parent.children.indexOf(w.node);w.position===B.RIGHT&&$++,S===e.dragging_existing_node.parent.data.node_id&&$>w.node.parent.children.findIndex(R=>R.data.node_id===g)&&$--,await Vt(g,h,S,$);return}if(w.position===B.TOP){const S=w.node.parent.data.node_id;let $=w.node.parent.children.indexOf(w.node);S===e.dragging_existing_node.parent.data.node_id&&$>w.node.parent.children.findIndex(R=>R.data.node_id===g)&&$--,await Vt(w.node.data.node_id,w.node.data.name,g,-1),await Vt(g,h,S,$);return}if(w.position===B.CENTER){await Nr(w.node.data.node_id,w.node.data.name,g,h);return}console.warn("Couldn't identify drop target position, this should never happen")}Zs(Ye);function Ye(){if(_.value===void 0){console.warn("DOM is broken");return}const w=ne(_.value).selectAll("."+Bs).attr("visibility",null);e.dragging_existing_node!==void 0&&(w.filter(g=>e.dragging_existing_node.descendants().find(h=>h.data.node_id===g.node.data.node_id)!==void 0).attr("visibility","hidden"),w.filter(g=>{switch(g.position){case B.CENTER:return e.dragging_existing_node.data.max_children!==-1&&g.node.data.child_ids.length+e.dragging_existing_node.data.child_ids.length>e.dragging_existing_node.data.max_children;case B.TOP:return e.dragging_existing_node.data.max_children!==-1&&e.dragging_existing_node.data.child_ids.length>=e.dragging_existing_node.data.max_children;case B.BOTTOM:return g.node.data.max_children!==-1&&g.node.data.node_id!==e.dragging_existing_node.parent.data.node_id&&g.node.data.child_ids.length>=g.node.data.max_children;case B.LEFT:case B.RIGHT:return g.node.parent.data.max_children!==-1&&g.node.parent.data.node_id!==e.dragging_existing_node.parent.data.node_id&&g.node.parent.data.child_ids.length>=g.node.parent.data.max_children;case B.ROOT:default:return!0}}).attr("visibility","hidden"))}async function pe(w){if(e.dragging_new_node===void 0){console.warn("Tried to add new node by dragging but none selected");return}const g=O(e.dragging_new_node);if(w.position===B.ROOT){await Qt(g,ve,0);return}if(!w.node.parent){console.error("All non-root targets should have a set parent node");return}if(w.position===B.BOTTOM){const h=w.node.data.node_id;await Qt(g,h,0);return}if(w.position===B.LEFT||w.position===B.RIGHT){const h=w.node.parent.data.node_id;let S=w.node.parent.children.indexOf(w.node);w.position===B.RIGHT&&S++,await Qt(g,h,S);return}if(w.position===B.TOP){const h=w.node.parent.data.node_id,S=w.node.parent.children.indexOf(w.node),$=await Qt(g,ve,-1);await Vt(w.node.data.node_id,w.node.data.name,$,0),await Vt($,g.name,h,S);return}if(w.position===B.CENTER){const h=await Qt(g,ve,-1);await Nr(w.node.data.node_id,w.node.data.name,h,g.name);return}console.warn("Couldn't identify drop target position, this should never happen")}Zs(ce);function ce(){if(_.value===void 0){console.warn("DOM is broken");return}const w=ne(_.value).selectAll("."+Bs).attr("visibility",null);e.dragging_new_node!==void 0&&w.filter(g=>{switch(g.position){case B.CENTER:return e.dragging_new_node.max_children!==-1&&g.node.data.child_ids.length>e.dragging_new_node.max_children;case B.TOP:return e.dragging_new_node.max_children===0;case B.BOTTOM:return g.node.data.max_children!==-1&&g.node.data.child_ids.length>=g.node.data.max_children;case B.LEFT:case B.RIGHT:return g.node.parent.data.max_children!==-1&&g.node.parent.data.child_ids.length>=g.node.parent.data.max_children;case B.ROOT:return!1;default:return!0}}).attr("visibility","hidden")}function Se(w,g){if(l.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const h=[];w.each($=>{$.data.node_id!==ve&&($.data.inputs.map((R,V)=>{h.push({node:$,index:V,kind:Fe.INPUT,key:R.key,type:R.serialized_type,x:$.x+$.data.offset.x-$.data.size.width*.5-Ze,y:$.y+$.data.offset.y+bs+V*(Ze+bs)})}),$.data.outputs.map((R,V)=>{h.push({node:$,index:V,kind:Fe.OUTPUT,key:R.key,type:R.serialized_type,x:$.x+$.data.offset.x+$.data.size.width*.5,y:$.y+$.data.offset.y+bs+V*(Ze+bs)})}))});const S=ne(c.value).selectAll("."+Es).data(h,$=>$.node.id+"###"+$.kind+"###"+$.key).join(Ae);e.has_selected_subtree||S.select("."+Mr).on("mousedown.drawedge",($,R)=>{e.startDrawingDataEdge(R)}).on("mouseup.drawedge",($,R)=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!Tr(R,e.data_edge_endpoint)){console.warn("Invalid edge");return}R.kind===Fe.INPUT?it(e.data_edge_endpoint,R):it(R,e.data_edge_endpoint)}),S.select("."+Yt).select("."+$r).text($=>"(type: "+Ce($.type)+")"),S.transition(M).attr("transform",$=>"translate("+$.x+", "+$.y+")"),Ee(h,S,g)}function Ae(w){const g=w.append("g").classed(Es,!0).on("mouseover.highlight",function(){if(e.is_dragging){const S=ne(this).classed(Vn);ne(this).classed(gt,S),ne(p.value).classed(gt,S)}else ne(this).classed(gt,!0).attr("id",Hn).select("."+Yt).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?(ne(this).classed(gt,!1),ne(p.value).classed(gt,!1)):ne(this).classed(gt,!1).attr("id",null).select("."+Yt).attr("visibility","hidden")});return g.append("rect").classed(Mr,!0).attr("width",Ze).attr("height",Ze),g.append("text").classed(Yt,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",S=>S.kind===Fe.INPUT?"end":"start").text(S=>S.key).attr("x",S=>{switch(S.kind){case Fe.INPUT:return-5;case Fe.OUTPUT:return Ze+5;case Fe.OTHER:default:return 0}}).attr("y",.5*Ze).append("tspan").classed($r,!0).attr("x",function(){return ne(this.parentElement).attr("x")}).attr("dy","1em"),g}function Ee(w,g,h){if(l.value===void 0||c.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const S=[];function $(R,V){return re(R.node_id)===V.node.data.node_id&&R.data_kind===V.kind&&R.data_key===V.key}h.forEach(R=>{const V=w.find(Z=>$(R.source,Z)),ee=w.find(Z=>$(R.target,Z));if(V===void 0||ee===void 0){console.warn("Bad data edge",V,ee);return}V.kind===Fe.INPUT?S.push({source:ee,target:V,wiring:R}):S.push({source:V,target:ee,wiring:R})}),ne(d.value).selectAll("."+Ys).data(S,R=>R.source.node.id+"###"+R.source.kind+"###"+R.source.index+"#####"+R.target.node.id+"###"+R.target.kind+"###"+R.target.index).join("path").classed(Ys,!0).on("click.select",(R,V)=>{e.selectEdge(V.wiring),R.stopPropagation()}).on("mouseover.highlight",function(R,V){e.is_dragging||(g.filter(ee=>ee===V.source||ee===V.target).dispatch("mouseover").attr("id",ee=>ee.kind===Fe.INPUT?Pr:Hn).select("."+Yt).attr("visibility",ee=>ee.kind===Fe.INPUT?"hidden":"visible"),ne(this).classed(gt,!0).attr("id",Rr))}).on("mouseout.highlight",function(R,V){e.is_dragging||(g.filter(ee=>ee===V.source||ee===V.target).dispatch("mouseout"),ne(this).classed(gt,!1).attr("id",null))}).transition(M).attr("d",R=>st(R.source,R.target))}function st(w,g){const h=ji().x(ee=>ee.x+Ze/2).y(ee=>ee.y+Ze/2).curve(Fi.alpha(.9));let S=0;Math.abs(w.y-g.y)<Gp&&(S=Math.min(w.y,g.y)-Kp*Math.abs(w.x-g.x));const $={x:w.x+kr,y:w.y},R={x:g.x-kr,y:g.y},V={x:(w.x+g.x)/2,y:S||(w.y+g.y)/2};if(w.x>g.x)if(S===0)$.y+=Wn*(g.y-w.y)+Math.sign(g.y-w.y)*Un,R.y+=Wn*(w.y-g.y)+Math.sign(w.y-g.y)*Un;else{const ee=Un+Wn*Math.abs(w.x-g.x);$.y-=ee,V.y-=ee*4,R.y-=ee}return h([w,$,V,R,g])}Zs(jt);function jt(){if(c.value===void 0||p.value===void 0){console.warn("DOM is broken");return}const w=ne(c.value).selectAll("."+Es).classed(Vn,!1);w.select("."+Yt).attr("visibility","hidden");const g=ne(p.value).attr("d",null);e.data_edge_endpoint!==void 0&&(w.filter(h=>Tr(h,e.data_edge_endpoint)).classed(Vn,!0),g.attr("d",()=>st(e.data_edge_endpoint,e.data_edge_endpoint)))}function it(w,g){n.wire_data_service.callService({wirings:[{source:{node_id:et(w.node.data.node_id),data_kind:w.kind,data_key:w.key},target:{node_id:et(g.node.data.node_id),data_kind:g.kind,data_key:g.key}}],ignore_failure:!1},h=>{const S=e.current_tree.structure.nodes.find(R=>re(R.node_id)===w.node.data.node_id).name,$=e.current_tree.structure.nodes.find(R=>re(R.node_id)===g.node.data.node_id).name;h.success?L({title:"Added data edge: "+S+" -> "+$+"!",type:"success"}):L({title:"Failed to add data edge: "+S+" -> "+$+"!",text:h.error_message,type:"warn"})},h=>{L({title:"Failed to call dataWiring service",text:h,type:"error"})})}yt(()=>[t.selected_node_ids,N.value],()=>gs());function gs(){if(i.value===void 0){console.warn("DOM is broken");return}const w=t.selected_node_ids.filter(S=>!N.value.includes(S)),g=N.value.filter(S=>!t.selected_node_ids.includes(S)),h=w.concat(g);ne(i.value).selectAll("."+ws).select("."+Bt).classed(Xp,S=>h.includes(S.data.node_id))}yt(()=>e.selected_edge,()=>{Ft()});function Ft(){if(d.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const w=ne(d.value),g=ne(c.value);if(w.selectAll("."+Ys).classed(Gs,!1),g.selectAll("."+Es).classed(Gs,!1),e.selected_edge!==void 0){const h=w.selectAll("."+Ys).filter(S=>S.wiring===e.selected_edge).classed(Gs,!0).datum();g.selectAll("."+Es).filter(S=>S===h.source||S===h.target).classed(Gs,!0)}}return ls(()=>{if(o.value===void 0||r.value===void 0){L({title:"Element reference undefined!",type:"error"});return}const w=ne(o.value);b=zi(),b.scaleExtent([.3,1]);const g=ne(r.value);w.call(b.on("zoom",h=>{g.attr("transform",h.transform)})),b.filter(h=>!h.shiftKey&&(!e.is_dragging||h.type==="wheel")),x(),w.on("mousemove.pan_if_drag",j),w.on("click.unselect",h=>{h.shiftKey||(t.clearSelection(),e.unselectEdge())}),m=!1,T=!1,w.on("mousedown.drawselect",h=>{if(r.value===void 0){console.warn("DOM is broken");return}if(h.shiftKey){m=!0;const[S,$]=$s(h,r.value);E=S,k=$}}),w.on("mousemove.drawselect",h=>{if(r.value===void 0||i.value===void 0||f.value===void 0){console.warn("DOM is broken");return}if(h.shiftKey&&m){T=!0;const S=ne(f.value),[$,R]=$s(h,r.value),V=Math.min($,E),ee=Math.min(R,k),Z=Math.abs($-E),ae=Math.abs(R-k);S.attr("x",V).attr("y",ee),S.attr("width",Z).attr("height",ae);const _e=[];ne(i.value).selectAll("."+ws).select("."+Bt).each(ie=>{ie.x-ie.data.size.width/2>=V&&ie.x+ie.data.size.width/2<=V+Z&&ie.y>=ee&&ie.y+ie.data.size.height<=ee+ae&&_e.push(ie.data.node_id)}),N.value=_e}}),w.on("mouseup.drawselect",()=>{if(i.value===void 0||f.value===void 0){console.warn("DOM is broken");return}m&&T&&(m=!1,T=!1,ne(f.value).attr("width",0).attr("height",0),t.selectMultipleNodes(N.value),N.value=[])}),w.on("mousemove.drawedge",h=>{if(r.value===void 0||p.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[S,$]=$s(h,r.value),R={x:S-Ze/2,y:$-Ze/2};ne(p.value).attr("d",()=>e.data_edge_endpoint.kind===Fe.INPUT?st(R,e.data_edge_endpoint):st(e.data_edge_endpoint,R))}),w.on("mouseup.drawedge",()=>{if(p.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),ne(p.value).attr("d",null)})}),(w,g)=>(v(),I("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:Ne(["reactive-svg",y(e).skin])},[u("g",{id:"container",ref_key:"svg_g_ref",ref:r},[u("g",{ref_key:"g_edges_ref",ref:a,class:"edges"},null,512),u("g",{ref_key:"g_vertices_ref",ref:i,class:"vertices"},null,512),u("g",{ref_key:"g_data_graph_ref",ref:l,class:"data_graph",visibility:y(e).show_data_graph?"visible":"hidden"},[u("g",{ref_key:"g_data_edges_ref",ref:d,class:"data_edges"},null,512),u("g",{ref_key:"g_data_vertices_ref",ref:c,class:"data_vertices"},null,512),u("use",{href:"#"+Hn,"pointer-events":"none"},null,8,Up),u("use",{href:"#"+Pr,"pointer-events":"none"},null,8,Wp),u("use",{href:"#"+Rr,"pointer-events":"none"},null,8,Hp)],8,zp),u("g",{ref_key:"g_drop_targets_ref",ref:_,class:"drop_targets",visibility:q()},null,8,Vp),u("path",{ref_key:"draw_indicator_ref",ref:p,class:"drawing-indicator"},null,512),u("rect",{ref_key:"selection_rect_ref",ref:f,class:"selection"},null,512)],512),u("text",{x:"10",y:"20",fill:y(e).skin===y(cn).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:x}," Reset View ",8,Bp)],2))}}),ev={class:"d-flex flex-column"},tv={class:"btn-group d-flex mb-2",role:"group"},sv=["disabled"],nv={class:"d-flex justify-content-between align-items-center mb-3"},ov={class:""},rv={class:"text-primary"},av={class:""},iv={class:"text-primary"},lv={key:0,class:"mx-auto text-center"},cv=se({__name:"BehaviorTreeEdge",setup(s){const e=ye(),t=fe(),n=ke(),o=z(()=>{if(t.selected_edge===void 0)return"";const c=t.current_tree.structure.nodes.find(_=>re(_.node_id)===re(t.selected_edge.source.node_id));return c===void 0?"":c.name}),r=z(()=>{if(t.selected_edge===void 0)return"";const c=t.current_tree.structure.nodes.find(_=>re(_.node_id)===re(t.selected_edge.target.node_id));return c===void 0?"":c.name}),i=z(()=>{if(t.selected_edge===void 0||t.current_tree.data===void 0)return;const c=t.selected_edge;return t.current_tree.data.wiring_data.find(_=>{const p=_.wiring;return Xt(p.source.node_id,c.source.node_id)&&p.source.data_kind===c.source.data_kind&&p.source.data_key===c.source.data_key&&Xt(p.target.node_id,c.target.node_id)&&p.target.data_kind===c.target.data_kind&&p.target.data_key===c.target.data_key})});function a(){const c=t.selected_edge;e.unwire_data_service.callService({wirings:[{source:c.source,target:c.target}]},_=>{const p=t.current_tree.structure.nodes.find(b=>Xt(c.source.node_id,b.node_id)).name,f=t.current_tree.structure.nodes.find(b=>Xt(c.target.node_id,b.node_id)).name;_.success?(L({title:"Removed data edge: "+p+" -> "+f+"!",type:"success"}),t.unselectEdge()):L({title:"Failed to remove data edge: "+p+" -> "+f+"!",text:_.error_message,type:"warn"})},_=>{L({title:"Failed to call UnwireNodeData service",text:_,type:"error"})})}function l(){n.editorSelectionChange(re(t.selected_edge.source.node_id))}function d(){n.editorSelectionChange(re(t.selected_edge.target.node_id))}return(c,_)=>(v(),I("div",ev,[u("div",tv,[u("button",{class:"btn btn-danger w-100",disabled:y(t).has_selected_subtree,onClick:_[0]||(_[0]=()=>a())}," Delete Edge ",8,sv)]),u("div",nv,[u("div",ov,[u("button",{class:"btn btn-outline-contrast",onClick:_[1]||(_[1]=()=>l())},[u("span",rv,Y(o.value),1),_[3]||(_[3]=u("br",null,null,-1)),me(" "+Y(y(t).selected_edge.source.data_key),1)])]),_[5]||(_[5]=u("hr",{class:"flex-fill connector"},null,-1)),u("div",av,[u("button",{class:"btn btn-outline-contrast",onClick:_[2]||(_[2]=()=>d())},[u("span",iv,Y(r.value),1),_[4]||(_[4]=u("br",null,null,-1)),me(" "+Y(y(t).selected_edge.target.data_key),1)])])]),i.value!==void 0?(v(),I("div",lv,[me(" Value: "+Y(y(np)(i.value.serialized_data))+" ",1),_[6]||(_[6]=u("br",null,null,-1)),me(" of type: "+Y(y(Ce)(i.value.serialized_type))+" ",1),_[7]||(_[7]=u("br",null,null,-1)),me(" expected type: "+Y(y(Ce)(i.value.serialized_expected_type)),1)])):ge("",!0)]))}}),uv=Pt(cv,[["__scopeId","data-v-422c9be3"]]),dv={class:"fs-1 mb-3 mt-4 mx-4"},_v={key:0,class:"mx-4 mb-4"},fv={class:"input-group mb-3"},pv={class:"input-group-text"},vv=["disabled","placeholder"],hv={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},gv=["onClick"],mv={key:1},yv={class:"input-group mb-3"},bv=["disabled"],wv=["onClick"],Ev={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},Tv=["onClick"],Av={key:2},Nv={key:1},wn=se({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=ye(),r=yn(),i=RegExp("config|hook|cmake|environment"),a=A(null),l=A([]),d=A(""),c=A(new $e([],{keys:["package","path"]})),_=z(()=>{let M;return t.fromPackages?d.value===""?M=r.packages:M=r.packages_fuse.search(d.value).map(x=>x.item):d.value===""?M=l.value:M=c.value.search(d.value).map(x=>x.item),M.sort((x,O)=>x.package.localeCompare(O.package))}),p=z(()=>t.fromPackages&&r.packages_available||l.value.length>0),f=A(null),b=A(null),m=A(new $e([],{keys:["data.name"]})),T=z(()=>{var x;let M=[];return t.search_term===""?M=((x=f.value)==null?void 0:x.children)||[]:M=m.value.search(t.search_term).map(O=>O.item),M=M.filter(O=>{var j;switch(O.data.type){case ct.DIR:return t.fromPackages&&(f.value===void 0||((j=f.value)==null?void 0:j.parent)===null)?!i.test(O.data.name):!0;case ct.FILE:return t.file_filter===void 0?!0:t.file_filter.test(O.data.name);default:return!1}}),M.sort((O,j)=>O.data.type===j.data.type?O.data.name.localeCompare(j.data.name):O.data.type===ct.DIR?-1:1)});function E(){o.get_storage_folders_service.callService({},M=>{l.value=M.storage_folders.map(x=>({package:x,path:x})),c.value.setCollection(l.value)},M=>{L({title:"Failed to call GetStorageFolders service!",text:M,type:"error"})})}function k(M){f.value=Wi(JSON.parse(M)),m.value.setCollection(f.value.children||[])}function N(){o.get_folder_structure_service.callService({storage_folder:a.value.package,show_hidden:!0},M=>{M.success?k(M.storage_folder_structure):L({title:"Error when calling GetFolderStructure service!",text:M.error_message,type:"warn"})},M=>{L({title:"Failed to call GetFolderStructure service!",text:M,type:"error"})})}function C(){o.get_package_structure_service.callService({package:a.value.package,show_hidden:!0},M=>{M.success?k(M.package_structure):L({title:"Error when calling GetPackageStructure service!",text:M.error_message,type:"error"})},M=>{L({title:"Failed to call GetPackageStructure service!",text:M,type:"error"})})}function P(M){M===null?(a.value=null,d.value="",f.value=null,b.value=null,n("location",""),n("select",[],!0)):(a.value=M,d.value=M.package,t.fromPackages?C():N(),n("location",M.package))}function W(M){switch(M.data.type){case ct.DIR:f.value=M,m.value.setCollection(M.children||[]);break;case ct.FILE:b.value=M;break}n("select",M.ancestors().slice(0,-1).reverse().map(x=>x.data.name),M.data.type===ct.DIR)}return ls(()=>{t.fromPackages||E()}),(M,x)=>{const O=we("FontAwesomeIcon");return v(),I(le,null,[u("button",{class:"btn float-end",onClick:x[0]||(x[0]=j=>n("close"))},[F(O,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),u("h1",dv,Y(t.title),1),p.value?(v(),I("div",_v,[u("div",fv,[u("span",pv,Y(t.location)+": ",1),We(u("input",{"onUpdate:modelValue":x[1]||(x[1]=j=>d.value=j),disabled:a.value!==null,type:"text",class:"form-control",placeholder:"Search "+t.location+" Name"},null,8,vv),[[cs,d.value]]),u("button",{class:"btn btn-outline-secondary",onClick:x[2]||(x[2]=j=>P(null))},[F(O,{icon:"fa-solid fa-xmark"})])]),a.value===null?(v(),I("div",hv,[(v(!0),I(le,null,be(_.value,j=>(v(),I("button",{key:j.path,class:"btn btn-outline-contrast ms-4 mb-3 text-start",onClick:te=>P(j)},[F(O,{icon:"fa-solid fa-cubes",class:"me-1"}),me(" "+Y(j.package),1)],8,gv))),128))])):f.value!==null?(v(),I("div",mv,[Ti(M.$slots,"default",{},()=>[x[4]||(x[4]=me("Control Buttons, Selects, ..."))]),u("div",yv,[u("button",{disabled:f.value.parent===null,class:"btn btn-outline-secondary",onClick:x[3]||(x[3]=j=>W(f.value.parent))},[F(O,{icon:"fa-solid fa-angle-up"})],8,bv),(v(!0),I(le,null,be(f.value.ancestors().slice(0,-1).reverse(),j=>(v(),I("button",{key:j.data.item_id,class:"btn btn-outline-secondary",onClick:te=>W(j)},Y(j.data.name),9,wv))),128))]),u("div",Ev,[(v(!0),I(le,null,be(T.value,j=>{var te;return v(),I("button",{key:j.data.item_id,class:Ne(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:j.data.item_id===((te=b.value)==null?void 0:te.data.item_id)}]),onClick:ue=>W(j)},[j.data.type===y(ct).DIR?(v(),J(O,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):ge("",!0),j.data.type===y(ct).FILE?(v(),J(O,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):ge("",!0),me(" "+Y(j.data.name),1)],10,Tv)}),128))])])):(v(),I("div",Av,"Loading content of storage location"))])):(v(),I("div",Nv,"Loading possible storage locations"))],64)}}}),kv={class:"d-flex justify-content-between mb-3"},Cv=["disabled"],Iv=["value"],Sv={class:"input-group mb-3"},xv=se({__name:"SelectLocationModal",emits:["select","close"],setup(s,{emit:e}){const t=e,n=/\.(yaml)$/,o=A(n),r=A(""),i=A([]),a=A(!0),l=A(""),d=A(bt.ASK),c=z(()=>a.value?[...i.value,l.value].join("/"):[...i.value.slice(0,-1),l.value].join("/"));function _(p,f){i.value=p,a.value=f,f?l.value="":l.value=p[p.length-1]}return(p,f)=>(v(),J(y(Is),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:_t(()=>[F(wn,{location:"Folder",title:"Save Tree to Folder",file_filter:o.value,search_term:l.value,onClose:f[4]||(f[4]=b=>t("close")),onLocation:f[5]||(f[5]=b=>r.value=b),onSelect:f[6]||(f[6]=(b,m)=>_(b,m))},{default:_t(()=>[u("div",kv,[u("button",{class:"btn btn-primary me-2",disabled:!n.test(l.value),onClick:f[0]||(f[0]=b=>t("select",r.value,c.value,d.value))}," Select ",8,Cv),We(u("select",{"onUpdate:modelValue":f[1]||(f[1]=b=>o.value=b),class:"form-select me-2"},[u("option",{value:n},"Valid files"),f[7]||(f[7]=u("option",{value:void 0},"All files",-1))],512),[[Dt,o.value]]),We(u("select",{"onUpdate:modelValue":f[2]||(f[2]=b=>d.value=b),class:"form-select"},[(v(!0),I(le,null,be(Object.values(y(bt)),b=>(v(),I("option",{key:b,value:b},Y(b),9,Iv))),128))],512),[[Dt,d.value]])]),u("div",Sv,[f[8]||(f[8]=u("span",{class:"input-group-text"}," Name: ",-1)),We(u("input",{"onUpdate:modelValue":f[3]||(f[3]=b=>l.value=b),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[cs,l.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),Ov={class:"d-flex flex-column"},Dv={class:"row g-2 mb-3"},Lv={class:"btn-group col-8"},Mv=["disabled"],$v={class:"input-group mb-3"},Rv=["value"],Pv=["value"],jv={class:"d-flex flex-column"},Fv={class:"input-group mb-3"},zv=se({__name:"MultipleSelection",setup(s){const e=ye(),t=fe(),n=ke();let o=n.selected_node_ids.join("_");o.length===0&&(o="Subtree");const r=A(o),i=A(""),a=A(""),l=A(!1),d=A(bt.ASK);async function c(){if(!window.confirm("Really delete all selected nodes ("+n.selected_node_ids.join(", ")+")?"))return;const m=[];n.selected_node_ids.forEach(T=>{const E=t.current_tree.structure.nodes.find(N=>re(N.node_id)===T);let k=T;E!==void 0&&(k=E.name),m.push(_i(T,k,!1).then(()=>{n.selected_node_ids=n.selected_node_ids.filter(N=>N!==T)}))}),await Promise.all(m)}function _(){l.value=!0}function p(m,T,E){l.value=!1,i.value=m,a.value=T,d.value=E}function f(){e.generate_subtree_service.callService({node_ids:n.selected_node_ids.map(m=>et(m))},m=>{m.success?(L({title:"Generated subtree successfully!",type:"success"}),b(m.tree)):L({title:"Failed to generate subtree!",text:m.error_message,type:"warn"})},m=>{L({title:"Failed to call GenerateSubtree service!",text:m,type:"error"})})}function b(m){m.name=r.value;const[T,E]=di(d.value),k={storage_path:i.value,filepath:a.value,tree:m,allow_overwrite:T,allow_rename:E};e.save_tree_service.callService(k,N=>{if(N.success)L({title:"Successfully saved subtree!",text:N.file_path,type:"success"});else{if(d.value!==bt.ASK||N.error_message!=="Overwrite not allowed"){L({title:"Failed to save subtree!",text:N.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+i.value+"/"+a.value+"' ?")){L({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}k.allow_overwrite=!0,k.allow_rename=!1,e.save_tree_service.callService(k,C=>{C.success?L({title:"Successfully saved subtree!",text:C.file_path,type:"success"}):L({title:"Failed to save subtree!",text:C.error_message,type:"warn"})},C=>{L({title:"Failed to call SaveTree service!",text:C,type:"error"})})}},N=>{L({title:"Failed to call SaveTree service!",text:N,type:"error"})})}return(m,T)=>(v(),I(le,null,[F(xv,{modelValue:l.value,"onUpdate:modelValue":T[0]||(T[0]=E=>l.value=E),onClose:T[1]||(T[1]=E=>l.value=!1),onSelect:p},null,8,["modelValue"]),u("div",Ov,[u("div",Dv,[u("div",Lv,[u("button",{class:"btn btn-primary",onClick:_},"Select Location"),u("button",{class:"btn btn-primary",disabled:i.value===""||a.value==="",onClick:f}," Save Subtree ",8,Mv)]),u("div",{class:"btn-group col-4"},[u("button",{class:"btn btn-danger",onClick:c},"Delete Nodes")])]),u("div",$v,[T[3]||(T[3]=u("span",{class:"input-group-text"},"Location:",-1)),u("input",{class:"form-control overflow-x-auto",type:"text",value:i.value,placeholder:"Storage Folder","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Rv),u("input",{class:"form-control overflow-x-auto",type:"text",value:a.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Pv)]),u("div",jv,[u("div",Fv,[T[4]||(T[4]=u("span",{class:"input-group-text"},"Name:",-1)),We(u("input",{"onUpdate:modelValue":T[2]||(T[2]=E=>r.value=E),class:"form-control",type:"text",placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name"},null,512),[[cs,r.value]])])])])],64))}}),Uv={key:0,class:"form-group"},Wv={class:"d-block"},Hv=["value"],Vv={key:1},Bv=se({__name:"BytesParam",props:{category:{},data_key:{}},setup(s){const e=ke(),t=s,n=z(()=>e.new_node_options.find(a=>a.key===t.data_key)),o=z(()=>{if(n.value===void 0)return"";const a=n.value.value.value;return ci(a)});function r(a){if(n.value===void 0){console.error("Undefined parameter");return}const l=a.target;try{_o(l.value)}catch{l.classList.add("is-invalid");return}l.classList.remove("is-invalid")}function i(a){if(n.value===void 0){console.error("Undefined parameter");return}const l=a.target;let d;try{d=_o(l.value)}catch{return}e.updateParamValue(t.category,n.value.key,d)}return(a,l)=>n.value!==void 0?(v(),I("div",Uv,[u("label",Wv,Y(n.value.key),1),u("input",{class:"form-control",type:"text",value:o.value,onChange:i,onInput:r},null,40,Hv)])):(v(),I("div",Vv,"Error loading param data"))}}),Yv={key:0,class:"form-group"},Gv={class:"d-block"},Kv=["value","disabled"],Zv={class:"mb-2 search-results"},Qv=["onClick","onKeyup"],Jv={key:1},Xv=se({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=fe(),n=ke(),o=vs(),r=A([]),i=z(()=>n.new_node_options.find(k=>k.key===e.data_key)),a=z(()=>i.value===void 0?o.messages_fuse:bn(i.value.value.type)[1]==="builtin"?new $e(qs):o.messages_fuse),l=z(()=>{if(i.value===void 0)return"";let k=i.value.value.value;return qs.includes(k)&&(k="builtins."+k),k}),d=A(!0),c=A(!1);function _(k){if(i.value===void 0){console.error("Undefined parameter");return}let C=k.target.value||"";C=C.replace("__builtin__.","").replace("builtins.","");const P=a.value.search(C);r.value=P.map(W=>W.item),n.updateParamValue(e.category,e.data_key,C)}function p(k){n.updateParamValue(e.category,e.data_key,k),E()}function f(k){return qs.includes(k)&&(k="builtins."+k),k.replace(/\./g,".")}function b(){n.changeCopyMode(!1),d.value=!1}function m(){d.value=!0}function T(){c.value=!0}function E(){c.value=!1}return(k,N)=>i.value!==void 0?(v(),I("div",Yv,[u("label",Gv,[me(Y(i.value.key)+" ",1),u("input",{type:"text",class:"form-control mt-2",value:l.value,disabled:y(t).has_selected_subtree,onInput:_,onFocus:b,onBlur:m,onKeyup:N[0]||(N[0]=Ue(()=>{m(),E()},["esc"])),onKeydown:Ue(T,["tab"])},null,40,Kv)]),u("div",Zv,[u("div",{class:Ne(["list-group rounded-top-0",{"d-none":d.value&&!c.value}]),onMouseenter:T,onMouseleave:E},[(v(!0),I(le,null,be(r.value,C=>(v(),I("div",{key:C,class:"list-group-item search-result",tabindex:"0",onClick:()=>p(C),onKeyup:[Ue(()=>p(C),["enter"]),Ue(E,["esc"])]},Y(f(C)),41,Qv))),128))],34)])])):(v(),I("div",Jv,"Error loading param data"))}});var qv=xl();const eh=Li(qv),th={class:"d-flex align-items-center justify-content-between mb-1"},sh=se({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){const e=ke(),t=ye(),n=s,o=z(()=>e.new_node_options.find(f=>f.key===n.data_key)),r=A(!0),i=A();let a;const l=z(()=>o.value===void 0?!1:o.value.value.type==="dict(ros)"),d=z(()=>{if(l.value)return e.new_node_options.find(f=>f.value.type===Cs)});function c(){e.changeCopyMode(!1)}function _(){if(a!==void 0)try{const f=a.get();r.value=!0,e.updateParamValue(n.category,n.data_key,f)}catch(f){console.debug(f),r.value=!1}}function p(){if(d.value===void 0){console.warn("Nothing to fetch");return}const f=d.value.value.value.type_str;console.log(f),t.get_message_fields_service.callService({message_type:f},b=>{if(console.log(b),b.success){const m=JSON.parse(b.fields);a!==void 0&&a.update(m),e.updateParamValue(n.category,n.data_key,m),L({title:"Successfully loaded message fields!",text:"",type:"success"})}else L({title:"Failed to load message fields!",text:b.error_message,type:"warn"})},b=>{L({title:"Failed to call GetMessageFields service!",text:b,type:"error"})}),console.log("Sent message fields request")}return yt(()=>o.value===void 0?"":o.value.value.type,()=>{a===void 0||o.value===void 0||a.update(o.value.value.value)}),ls(()=>{i.value!==void 0&&(a=new eh(i.value,{mode:"code",onChange:()=>_()}),a.aceEditor.setOptions({maxLines:100}),a.aceEditor.resize(),o.value!==void 0&&a.update(o.value.value.value))}),Ai(()=>{a!==void 0&&a.destroy()}),(f,b)=>{var m;return v(),I(le,null,[u("div",th,[u("label",null,Y((m=o.value)==null?void 0:m.key),1),d.value?(v(),I("button",{key:0,class:"btn btn-primary btn-sm",onClick:p}," Fetch default message fields ")):ge("",!0)]),u("div",{id:"editor",ref_key:"editor_ref",ref:i,onFocus:c},null,544)],64)}}}),nh={key:0,class:"form-group"},oh={class:"d-block"},rh=["value","disabled"],ah=["value"],ih={key:1},jr=se({__name:"MathOperatorParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=fe(),t=ke(),n=s,o=z(()=>t.new_node_options.find(a=>a.key===n.data_key));function r(a){if(o.value===void 0){console.error("Undefined parameter");return}const l=a.target,d=o.value.value.value;d.operator=l.value,t.updateParamValue(n.category,o.value.key,d)}const i={unary:["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"],binary:["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"]};return(a,l)=>o.value!==void 0?(v(),I("div",nh,[u("label",oh,Y(o.value.key),1),u("select",{class:"form-select",value:o.value.value.value.operator,disabled:y(e).has_selected_subtree,onChange:r},[(v(!0),I(le,null,be(i[n.op_type],d=>(v(),I("option",{key:d,value:d},Y(d),9,ah))),128))],40,rh)])):(v(),I("div",ih,"Error loading param data"))}}),lh={key:0,class:"form-group"},ch={class:"d-block"},uh=["value","disabled"],dh=["value"],_h={key:1},Fr=se({__name:"MathOperandParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=fe(),t=ke(),n=s,o=z(()=>t.new_node_options.find(a=>a.key===n.data_key));function r(a){if(o.value===void 0){console.error("Undefined parameter");return}const l=a.target,d=o.value.value.value;d.operand_type=l.value,t.updateParamValue(n.category,o.value.key,d)}const i={unary:["int","float"],binary:["int","float","bool"]};return(a,l)=>o.value!==void 0?(v(),I("div",lh,[u("label",ch,Y(o.value.key),1),u("select",{class:"form-select",value:o.value.value.value.operand_type,disabled:y(e).has_selected_subtree,onChange:r},[(v(!0),I(le,null,be(i[n.op_type],d=>(v(),I("option",{key:d,value:d},Y(d),9,dh))),128))],40,uh)])):(v(),I("div",_h,"Error loading param data"))}}),fh={class:"d-flex justify-content-between mb-3"},ph=["disabled"],vh={class:"input-group"},hh=se({__name:"SelectFileModal",props:{fromPackages:{type:Boolean}},emits:["select","close"],setup(s,{emit:e}){const t=s,n=e,o=/\.(yaml)$/,r=A(o),i=A(""),a=A([]),l=A(!0),d=A(""),c=z(()=>(t.fromPackages?"package":"file")+"://"+i.value+"/"+a.value.join("/"));function _(p,f){a.value=p,l.value=f,f&&(d.value="")}return(p,f)=>(v(),J(y(Is),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:_t(()=>[F(wn,{file_filter:r.value,"from-packages":t.fromPackages,title:"Select File from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:d.value,onClose:f[3]||(f[3]=b=>n("close")),onLocation:f[4]||(f[4]=b=>i.value=b),onSelect:f[5]||(f[5]=(b,m)=>_(b,m))},{default:_t(()=>[u("div",fh,[u("button",{class:"btn btn-primary me-2",disabled:l.value,onClick:f[0]||(f[0]=b=>n("select",c.value))}," Select ",8,ph),We(u("select",{"onUpdate:modelValue":f[1]||(f[1]=b=>r.value=b),class:"form-select me-2 w-50"},[u("option",{value:o},"Valid files"),f[6]||(f[6]=u("option",{value:void 0},"All files",-1))],512),[[Dt,r.value]]),u("div",vh,[f[7]||(f[7]=u("span",{class:"input-group-text"}," Search: ",-1)),We(u("input",{"onUpdate:modelValue":f[2]||(f[2]=b=>d.value=b),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[cs,d.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),gh={key:0,class:"form-group"},mh={class:"d-block"},yh={class:"input-group"},bh=["value"],wh={key:1},Eh=se({__name:"FilePathParam",props:{category:{},data_key:{}},setup(s){const e=ke(),t=s,n=z(()=>e.new_node_options.find(d=>d.key===t.data_key)),o=A(!1),r=A(!1);function i(){r.value=!0,o.value=!0}function a(){r.value=!1,o.value=!0}function l(d){if(n.value===void 0){console.error("Undefined parameter");return}const c=n.value.value.value;c.path=d,e.updateParamValue(t.category,n.value.key,c),o.value=!1}return(d,c)=>{const _=we("FontAwesomeIcon");return v(),I(le,null,[F(hh,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=p=>o.value=p),"from-packages":r.value,onClose:c[1]||(c[1]=p=>o.value=!1),onSelect:l},null,8,["modelValue","from-packages"]),n.value!==void 0?(v(),I("div",gh,[u("label",mh,Y(n.value.key),1),u("div",yh,[u("input",{type:"text",class:"form-control",value:n.value.value.value.path,disabled:""},null,8,bh),u("button",{class:"btn btn-primary",onClick:i},[F(_,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),c[2]||(c[2]=u("span",{class:"ms-1"},"Package",-1))]),u("button",{class:"btn btn-primary",onClick:a},[F(_,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),c[3]||(c[3]=u("span",{className:"ms-1"},"File",-1))])])])):(v(),I("div",wh,"Error loading param data"))],64)}}}),Th={key:0,class:"form-group"},Ah={class:"d-block"},Nh=["value","disabled"],kh={class:"mb-2 search-results"},Ch=["onClick","onKeyup"],Ih={key:1},Bn=se({__name:"RosTypeParam",props:{category:{},data_key:{},type:{}},setup(s){const e=ke(),t=fe(),n=vs(),o=s,r=A([]),i=z(()=>e.new_node_options.find(E=>E.key===o.data_key)),a=z(()=>{if(i.value!==void 0&&bn(i.value.value.type)[1]==="full")return n.ros_all_messages_fuse;switch(o.type){case"topic":return n.ros_topic_type_fuse;case"service":return n.ros_service_type_fuse;case"action":return n.ros_action_type_fuse;default:return}}),l=A(!0),d=A(!1);function c(E){if(i.value===void 0||a.value===void 0){console.error("Undefined parameter");return}const N=E.target.value||"",C=a.value.search(N);r.value=C.map(P=>P.item),_(N)}function _(E){if(i.value===void 0){console.error("Undefined parameter");return}const k=i.value.value.value;k.type_str=E,e.updateParamValue(o.category,o.data_key,k)}function p(E){_(E),T()}function f(){e.changeCopyMode(!1),l.value=!1}function b(){l.value=!0}function m(){d.value=!0}function T(){d.value=!1}return(E,k)=>i.value!==void 0?(v(),I("div",Th,[u("label",Ah,[me(Y(i.value.key)+" ",1),u("input",{type:"text",class:"form-control mt-2",value:i.value.value.value.type_str,disabled:y(t).has_selected_subtree,onInput:c,onFocus:f,onBlur:b,onKeyup:k[0]||(k[0]=Ue(()=>{b(),T()},["esc"])),onKeydown:Ue(m,["tab"])},null,40,Nh)]),u("div",kh,[u("div",{class:Ne(["list-group rounded-top-0",{"d-none":l.value&&!d.value}]),onMouseenter:m,onMouseleave:T},[(v(!0),I(le,null,be(r.value,N=>(v(),I("div",{key:N,class:"list-group-item search-result",tabindex:"0",onClick:()=>p(N),onKeyup:[Ue(()=>p(N),["enter"]),Ue(T,["esc"])]},Y(N),41,Ch))),128))],34)])])):(v(),I("div",Ih,"Error loading param data"))}}),Sh={key:0,class:"form-group"},xh={class:"d-block"},Oh=["value","disabled"],Dh={class:"mb-2 search-results"},Lh=["onClick","onKeyup"],Mh={key:1},Yn=se({__name:"RosNameParam",props:{category:{},data_key:{},type:{}},setup(s){const e=ke(),t=fe(),n=vs(),o=s,r=A([]),i=z(()=>e.new_node_options.find(N=>N.key===o.data_key)),a=z(()=>{let N;switch(o.type){case"topic":N=Cs;break;case"service":N=rn;break;case"action":N=an;break;default:return}return e.new_node_options.find(C=>C.value.type===N)}),l=z(()=>{switch(o.type){case"topic":return n.ros_topic_name_fuse;case"service":return n.ros_service_name_fuse;case"action":return n.ros_action_name_fuse;default:return}}),d=A(!0),c=A(!1);function _(N){if(i.value===void 0||l.value===void 0){console.error("Undefined parameter");return}const P=N.target.value||"",W=l.value.search({name:P});r.value=W.map(M=>M.item),p(P)}function p(N){if(i.value===void 0){console.error("Undefined parameter");return}const C=i.value.value.value;C.name=N,e.updateParamValue(o.category,o.data_key,C)}function f(N){if(a.value===void 0)return;const C=a.value.value.value;C.type_str=N,e.updateParamValue(o.category,a.value.key,C)}function b(N){p(N.name),f(N.type),k()}function m(){e.changeCopyMode(!1),d.value=!1}function T(){d.value=!0}function E(){c.value=!0}function k(){c.value=!1}return(N,C)=>i.value!==void 0?(v(),I("div",Sh,[u("label",xh,[me(Y(i.value.key)+" ",1),u("input",{type:"text",class:"form-control mt-2",value:i.value.value.value.name,disabled:y(t).has_selected_subtree,onInput:_,onFocus:m,onBlur:T,onKeyup:C[0]||(C[0]=Ue(()=>{T(),k()},["esc"])),onKeydown:Ue(E,["tab"])},null,40,Oh)]),u("div",Dh,[u("div",{class:Ne(["list-group rounded-top-0",{"d-none":d.value&&!c.value}]),onMouseenter:E,onMouseleave:k},[(v(!0),I(le,null,be(r.value,P=>(v(),I("div",{key:P.name,class:"list-group-item search-result",tabindex:"0",onClick:()=>b(P),onKeyup:[Ue(()=>b(P),["enter"]),Ue(k,["esc"])]},[me(Y(P.name),1),C[1]||(C[1]=u("br",null,null,-1)),u("small",null,Y(P.type),1)],40,Lh))),128))],34)])])):(v(),I("div",Mh,"Error loading param data"))}}),$h={key:0,class:"list-group-item"},Rh={key:0,class:"form-group"},Ph={class:"d-block"},jh={key:14,class:"form-group position-relative"},Fh={key:1},zh=se({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=ke(),n=fe(),o=z(()=>t.new_node_options.find(c=>c.key===e.data_key)),r=z(()=>o.value===void 0?"":bn(o.value.value.type)[0]),i=["int","float","bool","str",is],a=z(()=>{if(o.value===void 0||!i.includes(r.value))return;let c,_,p="any",f=["form-control"],b=!1,m=n.has_selected_subtree;switch(r.value){case"int":p=1;case"float":c="number",_=o.value.value.value;break;case"bool":c="checkbox",b=o.value.value.value,f=["form-check-input","d-block"];break;case is:m=!0;case"str":c="text",_=o.value.value.value;break;default:c="hidden";break}return{type:c,value:_,class:f,step:p,checked:b,disabled:m}});function l(c){if(o.value===void 0)return;const _=c.target;let p;switch(o.value.value.type){case"int":p=parseInt(_.value),isNaN(p)&&(p=0);break;case"float":p=parseFloat(_.value),isNaN(p)&&(p=0);break;case"bool":p=_.checked;break;default:p=_.value;break}t.updateParamValue(e.category,e.data_key,p)}function d(){t.changeCopyMode(!1)}return(c,_)=>o.value!==void 0?(v(),I("div",$h,[a.value!==void 0?(v(),I("div",Rh,[u("label",Ph,Y(o.value.key),1),u("input",Yr(a.value,{onChange:l,onFocus:d}),null,16)])):r.value==="bytes"?(v(),J(Bv,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):r.value==="type"?(v(),J(Xv,{key:2,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):r.value===y(no)?(v(),J(jr,{key:3,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):r.value===y(ao)?(v(),J(Fr,{key:4,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):r.value===y(oo)?(v(),J(jr,{key:5,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):r.value===y(ro)?(v(),J(Fr,{key:6,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):r.value===y(io)?(v(),J(Eh,{key:7,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):r.value===y(Cs)?(v(),J(Bn,{key:8,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):r.value===y(lo)?(v(),J(Yn,{key:9,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):r.value===y(rn)?(v(),J(Bn,{key:10,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):r.value===y(co)?(v(),J(Yn,{key:11,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):r.value===y(an)?(v(),J(Bn,{key:12,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):r.value===y(uo)?(v(),J(Yn,{key:13,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):(v(),I("div",jh,[F(sh,{category:e.category,data_key:e.data_key},null,8,["category","data_key"])]))])):(v(),I("div",Fh,"Error loading param data"))}}),Uh={key:0,class:"list-group-item"},Wh={class:"h5"},Hh={className:"text-muted"},Vh={key:0,class:"d-flex flex-wrap m-1"},Bh=["onClick"],Yh={key:1},zr=se({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=fe(),n=ke(),o=z(()=>{switch(e.category){case"inputs":return n.new_node_inputs.find(l=>l.key===e.data_key);case"outputs":return n.new_node_outputs.find(l=>l.key===e.data_key);default:return}}),r=z(()=>t.current_tree.structure===void 0?[]:t.current_tree.structure.data_wirings.filter(l=>i(l.source)||i(l.target)));function i(l){return n.selected_node===void 0?!1:l.data_key===e.data_key&&l.data_kind===e.category&&Xt(l.node_id,n.selected_node.node_id)}function a(l){let d=null;if(i(l.source)&&(d=l.target),i(l.target)&&(d=l.source),d===null)return"Other Endpoint";const c=t.current_tree.structure.nodes.find(_=>Xt(_.node_id,d.node_id));return c===void 0?"Other Endpoint":c.name+"."+d.data_key}return(l,d)=>o.value!==void 0?(v(),I("div",Uh,[u("div",Wh,[me(Y(o.value.key+" ")+" ",1),u("span",Hh,"(type: "+Y(o.value.type)+")",1)]),r.value?(v(),I("div",Vh,[(v(!0),I(le,null,be(r.value,c=>(v(),I("button",{class:"btn btn-outline-primary m-1",onClick:_=>y(t).selectEdge(c)},Y(a(c)),9,Bh))),256))])):ge("",!0)])):(v(),I("div",Yh,"Error loading param data"))}}),Gh={class:"d-flex flex-column overflow-auto pb-3",style:{"max-height":"40vh"}},Kh=["value","disabled"],Zh={class:"d-flex align-items-baseline mb-2"},Qh={class:"text-muted"},Jh={key:0},Xh=["value","disabled"],qh=["value"],eg={key:0,class:"mb-3"},tg={key:0,class:"mx-2"},sg={class:"mb-3"},ng={class:"list-group"},og={class:"mb-3"},rg={class:"list-group"},ag={className:"mb-3"},ig={class:"list-group"},fi=se({__name:"EditableNode",setup(s){const e=fe(),t=ke(),n=A(!1);return(o,r)=>{const i=we("FontAwesomeIcon");return v(),I("div",Gh,[u("input",{class:"form-control-lg mb-2",type:"text",value:y(t).new_node_name,disabled:y(e).has_selected_subtree,onFocus:r[0]||(r[0]=()=>y(t).changeCopyMode(!1)),onChange:r[1]||(r[1]=a=>y(t).changeNodeName(a.target.value))},null,40,Kh),u("div",Zh,[u("h4",Qh,[y(t).is_flow_control_node?(v(),I("select",{key:1,class:"form-select",value:y(t).new_node_module+y(t).new_node_class,disabled:y(e).has_selected_subtree,onChange:r[2]||(r[2]=a=>y(t).changeNodeClass(a.target.value))},[(v(!0),I(le,null,be(y(t).flow_control_nodes,a=>(v(),I("option",{key:a.module+a.node_class,value:a.module+a.node_class},[me(Y(a.node_class)+" ",1),u("small",null,"("+Y(a.module)+")",1)],8,qh))),128))],40,Xh)):(v(),I("div",Jh,[me(Y(y(t).new_node_class)+" ",1),u("small",null,"("+Y(y(t).new_node_module)+")",1)]))])]),y(t).reference_node&&y(ln)(y(t).reference_node.doc)!==""?(v(),I("div",eg,[u("div",{class:"d-flex align-items-baseline cursor-pointer",onClick:r[3]||(r[3]=()=>n.value=!n.value)},[r[4]||(r[4]=u("h5",null,"Description",-1)),F(i,{icon:"fa-solid "+(n.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"ms-2"},null,8,["icon"])]),n.value?(v(),I("div",tg,Y(y(ln)(y(t).reference_node.doc)),1)):ge("",!0)])):ge("",!0),u("div",sg,[r[5]||(r[5]=u("h5",null,"Options",-1)),u("div",ng,[(v(!0),I(le,null,be(y(t).new_node_options,a=>(v(),J(zh,{key:"option_"+a.key,data_key:a.key,category:"options"},null,8,["data_key"]))),128))])]),u("div",og,[r[6]||(r[6]=u("h5",null,"Input",-1)),u("div",rg,[(v(!0),I(le,null,be(y(t).new_node_inputs,a=>(v(),J(zr,{key:"input_"+a.key,data_key:a.key,category:"inputs"},null,8,["data_key"]))),128))])]),u("div",ag,[r[7]||(r[7]=u("h5",null,"Output",-1)),u("div",ig,[(v(!0),I(le,null,be(y(t).new_node_outputs,a=>(v(),J(zr,{key:"output_"+a.key,data_key:a.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),lg={class:"d-flex flex-column"},cg=["disabled"],ug={class:"pt-2 pb-2"},dg=["disabled"],_g=["value"],fg=se({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=ke(),n=A(e.parents.length>0?e.parents[0]:null);async function o(){if(t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}const r=await Qt(t.buildNodeMsg(),n.value!==null?re(n.value.node_id):ve,-1);t.clearNodeHasChanged(),t.editorSelectionChange(r)}return(r,i)=>(v(),I("div",lg,[u("button",{class:"btn btn-block btn-primary",disabled:!y(t).node_is_valid,onClick:o}," Add to Tree ",8,cg),u("label",ug,[i[1]||(i[1]=me(" Parent ")),We(u("select",{"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a),class:"custom-select d-block",disabled:r.parents.length===0},[(v(!0),I(le,null,be(r.parents,a=>(v(),I("option",{key:y(re)(a.node_id),value:a},Y(a.name),9,_g))),128))],8,dg),[[Dt,n.value]])]),F(fi)]))}}),pg={class:"d-flex flex-column"},vg={class:"row g-2 mb-3"},hg={class:"btn-group col-4"},gg=["disabled"],mg={class:"btn-group col-8"},yg=["disabled"],bg=["disabled"],wg=se({__name:"SelectedNode",setup(s){const e=ye(),t=fe(),n=ke();async function o(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&(await _i(re(n.selected_node.node_id),n.selected_node.name,!1),n.clearSelection())}function r(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_id:n.selected_node.node_id,remove_children:!0},l=>{l.success?(L({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):L({title:"Failed to remove node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function i(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_id:n.selected_node.node_id,rename_node:!0,new_name:n.new_node_name,options:Do(n.new_node_options)},l=>{l.success?(L({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged()):L({title:"Failed to update node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function a(){if(n.node_is_morphed){if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_id:n.selected_node.node_id,new_node:n.buildNodeMsg()},l=>{l.success?(L({title:"Morphed node "+n.new_node_name+" successfully!",type:"success"}),n.node_is_morphed=!1,i()):L({title:"Failed to morph node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}else i()}return(l,d)=>(v(),I("div",pg,[u("div",vg,[u("div",hg,[u("button",{class:"btn btn-primary",disabled:!y(n).node_is_valid||y(t).has_selected_subtree,onClick:a}," Update Node ",8,gg)]),u("div",mg,[u("button",{class:"btn btn-danger",disabled:y(t).has_selected_subtree,onClick:o}," Delete Node ",8,yg),u("button",{class:"btn btn-danger",disabled:y(t).has_selected_subtree,onClick:r}," Delete Node + Children ",8,bg)])]),F(fi)]))}}),Eg={class:"row my-2"},Tg={class:"col"},Ag={class:"input-group"},Ng=["disabled","value"],kg=["disabled"],Cg={class:"col-auto"},Ig={class:"input-group state-display"},Sg=se({__name:"TreeNameStateDisplay",setup(s){const e=fe(),t=ye(),n=z(()=>e.current_tree.structure!==void 0?e.current_tree.structure.name:""),o=A(n.value),r=z(()=>{const c=e.tree_state_list.find(_=>re(_.tree_id)===ve);return c!==void 0?c.state:Le.EDITABLE}),i=z(()=>{let c="";switch(r.value){case Le.ERROR:c="--bg-color-error";break;case Le.IDLE:c="--bg-color-idle";break;case Le.STOP_REQUESTED:c="--bg-color-stop-requested";break;case Le.TICKING:c="--bg-color-ticking";break;case Le.WAITING_FOR_TICK:c="--bg-color-waiting-for-tick";break;case Le.EDITABLE:default:c="--bg-color-default";break}return{backgroundColor:"var("+c+")"}}),a=z(()=>{let c;switch(r.value){case Le.ERROR:c="fa-exclamation";break;case Le.IDLE:c="fa-pause";break;case Le.STOP_REQUESTED:c="fa-pause";break;case Le.TICKING:c="fa-bolt";break;case Le.WAITING_FOR_TICK:c="fa-hourglass-half";break;case Le.EDITABLE:c="fa-pen";break;default:c="";break}return"fa-solid "+c});Zs(l);function l(){r.value===Le.ERROR&&window.alert("There has been an error while running the tree")}function d(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},c=>{c.success?L({title:"Successfully renamed tree!",text:o.value,type:"success"}):L({title:"Failed to rename tree!",text:c.error_message,type:"warn"})},c=>{L({title:"Failed to call ChangeTreeName service!",text:c,type:"error"})})}return(c,_)=>{const p=we("FontAwesomeIcon");return v(),I("div",Eg,[u("div",Tg,[u("div",Ag,[_[1]||(_[1]=u("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),u("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:y(e).has_selected_subtree,value:n.value,onInput:_[0]||(_[0]=f=>o.value=f.target.value)},null,40,Ng),u("button",{class:"btn btn-primary",disabled:y(e).has_selected_subtree,onClick:d}," Save ",8,kg)])]),u("div",Cg,[u("div",Ig,[_[2]||(_[2]=u("label",{class:"input-group-text"}," State ",-1)),u("label",{class:"input-group-text",style:Ni([i.value,{width:"12em"}])},[F(p,{icon:a.value,class:"me-2"},null,8,["icon"]),me(" "+Y(r.value),1)],4)])])])}}}),xg=Pt(Sg,[["__scopeId","data-v-60e2ce2f"]]),Og={class:"d-flex align-items-center h-100"},Dg={class:"btn-group"},Lg=se({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=fe();return(r,i)=>{const a=we("FontAwesomeIcon");return v(),I("div",Og,[u("div",Dg,[u("button",{class:"btn btn-primary",title:"Toggle Data Graph",onClick:i[0]||(i[0]=l=>y(o).enableShowDataGraph(!y(o).show_data_graph))},[F(a,{class:Ne(y(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(v(),I("button",{key:0,class:"btn btn-primary btn-spaced",title:"Hide User Interface",onClick:i[1]||(i[1]=l=>n("hide"))},[F(a,{icon:"fa-solid fa-window-maximize"})])):(v(),I("button",{key:1,class:"btn btn-primary btn-spaced",title:"Show User Interface",onClick:i[2]||(i[2]=l=>n("show"))},[F(a,{icon:"fa-solid fa-window-restore"})])),u("button",{class:"btn btn-primary btn-spaced",title:"Change tree layout (layers/subtrees)",onClick:i[3]||(i[3]=()=>y(o).is_layer_mode=!y(o).is_layer_mode)},[F(a,{class:Ne(y(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),F(a,{class:Ne(y(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),u("button",{class:"btn btn-primary btn-spaced",title:"Change editor appearance",onClick:i[4]||(i[4]=(...l)=>y(o).cycleEditorSkin&&y(o).cycleEditorSkin(...l))},[F(a,{class:Ne(y(o).skin===y(cn).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),F(a,{class:Ne(y(o).skin===y(cn).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),Mg=["disabled"],$g=["disabled"],Rg=se({__name:"LoadSaveClient",setup(s){const e=ye(),t=fe(),n=A(),o=new FileReader;function r(_){const p=_.target;if(o.onloadend=d,p.files===null){L({title:"File selection is null!",type:"error"});return}o.readAsText(p.files[0])}function i(_,p){const f=document.createElement("a");f.download=p,f.href=_,document.body.appendChild(f),f.click(),document.body.removeChild(f)}function a(_){if(e.load_tree_service===void 0){L({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:_,permissive:!1},p=>{if(p.success)L({title:"Loaded tree successfully!",type:"success"}),t.resetQuickSaveLocation();else{if((p.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||p.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(L({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){L({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:_,permissive:!0},f=>{f.success?(L({title:"Loaded tree successfully!",type:"success"}),t.resetQuickSaveLocation()):L({title:"Failed to load tree!",text:f.error_message,type:"warn"})},f=>{L({title:"Failed to call load tree service!",text:f,type:"error"})})}L({title:"Failed to load tree!",text:p.error_message,type:"error"})}},p=>{L({title:"Failed to call load tree service!",text:p,type:"error"})})}function l(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function d(){let _=[];try{if(o.result===null){L({title:"Content of selected reads as null!",type:"error"});return}const p=o.result;_=En.loadAll(p);let f=null;for(let b=0;b<_.length;b++)_[b]!=null&&(f=_[b]);a(f)}catch(p){if(console.warn(p),e.fix_yaml_service===void 0){L({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},f=>{if(f.success){_=En.loadAll(f.fixed_yaml);let b=null;for(let m=0;m<_.length;m++)_[m]!=null&&(b=_[m]);a(b)}},f=>{L({title:"Failed to call FixYaml service!",text:f,type:"error"})})}}function c(){if(!e.connected){L({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(Me.SHUTDOWN),e.control_tree_execution_service.callService({command:Me.SHUTDOWN},_=>{if(_.success){L({title:"Tree shutdown successful!",type:"success"});const p=t.tree_structure_list.find(b=>re(b.tree_id)===ve);if(p===void 0){L({title:"Tree is undefined, cannot save!",type:"error"});return}const f=En.dump(p);i("data:text/plain,"+encodeURIComponent(f),"tree.yaml")}else L({title:"Failed to shutdown tree, cannot save now!",text:_.error_message,type:"error"})},_=>{L({title:"Calling ControlTreeExecution ROS service failed!",text:_,type:"error"})})}return(_,p)=>{const f=we("FontAwesomeIcon");return v(),I(le,null,[u("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:r},null,544),u("button",{class:"btn btn-primary btn-spaced",title:"Upload",disabled:y(t).has_selected_subtree,onClick:l},[F(f,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),p[0]||(p[0]=u("span",{class:"ms-1 hide-button-text"},"Upload",-1))],8,Mg),u("button",{class:"btn btn-primary btn-spaced",title:"Download",disabled:y(t).has_selected_subtree,onClick:c},[F(f,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),p[1]||(p[1]=u("span",{class:"ms-1 hide-button-text"},"Download",-1))],8,$g)],64)}}}),Pg=Pt(Rg,[["__scopeId","data-v-cc58d44f"]]),jg={class:"d-flex justify-content-between mb-3"},Fg=["disabled"],zg=["value"],Ug={class:"input-group mb-3"},Wg=se({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=ye(),o=fe(),r=/\.(yaml)$/,i=A(r),a=A(""),l=A([]),d=A(!0),c=A(""),_=z(()=>o.tree_structure_list.find(T=>re(T.tree_id)===ve)),p=z(()=>d.value?[...l.value,c.value].join("/"):[...l.value.slice(0,-1),c.value].join("/"));function f(T,E){l.value=T,d.value=E,E?c.value="":c.value=T[T.length-1]}const b=A(bt.ASK);function m(){if(!r.test(p.value)){console.error("Path is of improper format: ",p);return}if(_.value===void 0){console.error("No tree to save");return}const[T,E]=di(b.value),k={storage_path:a.value,filepath:p.value,tree:_.value,allow_overwrite:T,allow_rename:E};n.save_tree_service.callService(k,N=>{if(N.success)L({title:"Successfully saved tree!",text:N.file_path,type:"success"}),o.setQuickSaveLocation(N.file_path),t("close");else{if(b.value!==bt.ASK||N.error_message!=="Overwrite not allowed"){L({title:"Failed to save tree!",text:N.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+a.value+"/"+p.value+"' ?")){L({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}k.allow_overwrite=!0,k.allow_rename=!1,n.save_tree_service.callService(k,C=>{C.success?(L({title:"Successfully saved tree!",text:C.file_path,type:"success"}),o.setQuickSaveLocation(C.file_path),t("close")):L({title:"Failed to save tree!",text:C.error_message,type:"warn"})},C=>{L({title:"Failed to call SaveTree service!",text:C,type:"error"})})}},N=>{L({title:"Failed to call SaveTree service!",text:N,type:"error"})})}return(T,E)=>(v(),J(y(Is),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:_t(()=>[F(wn,{location:"Folder",title:"Save Tree to Folder",file_filter:i.value,search_term:c.value,onClose:E[3]||(E[3]=k=>t("close")),onLocation:E[4]||(E[4]=k=>a.value=k),onSelect:E[5]||(E[5]=(k,N)=>f(k,N))},{default:_t(()=>[u("div",jg,[u("button",{class:"btn btn-primary me-2",disabled:!r.test(c.value),onClick:m}," Save ",8,Fg),We(u("select",{"onUpdate:modelValue":E[0]||(E[0]=k=>i.value=k),class:"form-select me-2"},[u("option",{value:r},"Valid files"),E[6]||(E[6]=u("option",{value:void 0},"All files",-1))],512),[[Dt,i.value]]),We(u("select",{"onUpdate:modelValue":E[1]||(E[1]=k=>b.value=k),class:"form-select"},[(v(!0),I(le,null,be(Object.values(y(bt)),k=>(v(),I("option",{key:k,value:k},Y(k),9,zg))),128))],512),[[Dt,b.value]])]),u("div",Ug,[E[7]||(E[7]=u("span",{class:"input-group-text"}," Name: ",-1)),We(u("input",{"onUpdate:modelValue":E[2]||(E[2]=k=>c.value=k),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[cs,c.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),Hg={class:"d-flex justify-content-between mb-3"},Vg=["disabled"],Bg={class:"input-group"},Ur=se({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=fe(),r=ye(),i=[],a=/\.(yaml)$/,l=A(a),d=A(""),c=A([]),_=A(!0),p=A(""),f=z(()=>(t.fromPackages?"package":"file")+"://"+d.value+"/"+c.value.join("/"));function b(T,E){c.value=T,_.value=E,E&&(p.value="")}function m(){r.load_tree_from_path_service.callService({path:f.value,permissive:!1},T=>{if(T.success)L({title:"Successfully loaded tree!",text:f.value,type:"success"}),o.resetQuickSaveLocation(),n("close");else{if(L({title:"Error while calling LoadTree service!",text:T.error_message,type:"warn"}),!i.includes(T.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){L({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}r.load_tree_from_path_service.callService({path:f.value,permissive:!0},E=>{E.success?(L({title:"Successfully loaded tree in permissive mode!",text:f.value,type:"success"}),o.resetQuickSaveLocation(),n("close")):L({title:"Error while calling LoadTree service in permissive mode!",text:E.error_message,type:"warn"})},E=>{L({title:"Failed to call LoadTree service!",text:E,type:"error"})})}},T=>{L({title:"Failed to call LoadTree service!",text:T,type:"error"})})}return(T,E)=>(v(),J(y(Is),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:_t(()=>[F(wn,{file_filter:l.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:p.value,onClose:E[2]||(E[2]=k=>n("close")),onLocation:E[3]||(E[3]=k=>d.value=k),onSelect:E[4]||(E[4]=(k,N)=>b(k,N))},{default:_t(()=>[u("div",Hg,[u("button",{class:"btn btn-primary me-2",disabled:_.value,onClick:m}," Load ",8,Vg),We(u("select",{"onUpdate:modelValue":E[0]||(E[0]=k=>l.value=k),class:"form-select me-2 w-50"},[u("option",{value:a},"Valid files"),E[5]||(E[5]=u("option",{value:void 0},"All files",-1))],512),[[Dt,l.value]]),u("div",Bg,[E[6]||(E[6]=u("span",{class:"input-group-text"}," Search: ",-1)),We(u("input",{"onUpdate:modelValue":E[1]||(E[1]=k=>p.value=k),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[cs,p.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Yg=["disabled"],Gg={class:"btn-group btn-spaced",role:"group"},Kg=["disabled"],Zg={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},Qg=["disabled"],Jg=["disabled"],Xg=["disabled"],qg=["disabled"],em=se({__name:"LoadSaveServer",setup(s){const e=ye(),t=fe(),n=A([]),o=z(()=>{let m=t.quick_save_location;const T=t.tree_structure_list.find(k=>re(k.tree_id)===ve);if(m===""&&T!==void 0&&(m=T.path),m===""||!m.startsWith("file://"))return["",""];m=m.replace("file://","");const E=n.value.find(k=>m.startsWith(k+"/"));return E===void 0?["",""]:[E,m.replace(E+"/","")]}),r=z(()=>o.value[0]===""||o.value[1]===""),i=Ks({component:Ur,attrs:{fromPackages:!0,onClose(){i.close()}}}),a=Ks({component:Ur,attrs:{fromPackages:!1,onClose(){a.close()}}}),l=Ks({component:Wg,attrs:{onClose(){l.close()}}});function d(){if(e.clear_tree_service===void 0){L({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},m=>{m.success?(console.log("called ClearTree service successfully"),L({title:"Created new tree successfully!",type:"success"}),t.resetQuickSaveLocation()):L({title:"Could not create new tree!",type:"warn",text:m.error_message})},m=>{L({title:"ClearTree service call failed!",type:"error",text:m})})}function c(){i.open()}function _(){a.open()}function p(){l.open()}function f(){if(r.value||!window.confirm(`Do you want to overwrite ${o.value[0]}/${o.value[1]}?`))return;const m=t.tree_structure_list.find(T=>re(T.tree_id)===ve);e.save_tree_service.callService({storage_path:o.value[0],filepath:o.value[1],tree:m,allow_overwrite:!0,allow_rename:!1},T=>{T.success?L({title:"Successfully saved tree to",text:T.file_path,type:"success"}):L({title:"Quick save failed",text:T.error_message,type:"warn"})},T=>{L({title:"Failed to call SaveTree service",text:T,type:"error"})})}function b(){e.get_storage_folders_service.callService({},m=>{n.value=m.storage_folders},m=>{L({title:"Failed to call GetStorageFolders service!",text:m,type:"error"})})}return ls(()=>{b()}),(m,T)=>{const E=we("FontAwesomeIcon");return v(),I(le,null,[u("button",{class:"btn btn-primary",title:"New tree",disabled:y(t).has_selected_subtree,onClick:d},[F(E,{icon:"fa-solid fa-file","aria-hidden":"true"}),T[0]||(T[0]=u("span",{class:"ms-1 hide-button-text"},"New",-1))],8,Yg),u("div",Gg,[u("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:y(t).has_selected_subtree},[F(E,{icon:"fa-solid fa-folder","aria-hidden":"true"}),T[1]||(T[1]=u("span",{class:"ms-1 hide-button-text"},"Load",-1))],8,Kg),u("ul",Zg,[u("li",null,[u("button",{class:"dropdown-item btn btn-primary",title:"Load from package",disabled:y(t).has_selected_subtree,onClick:c},[F(E,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),T[2]||(T[2]=u("span",{class:"ms-1"},"Package",-1))],8,Qg)]),u("li",null,[u("button",{class:"dropdown-item btn btn-primary",title:"Load from file",disabled:y(t).has_selected_subtree,onClick:_},[F(E,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),T[3]||(T[3]=u("span",{className:"ms-1"},"File",-1))],8,Jg)])])]),u("button",{class:"btn btn-primary btn-spaced",title:"Quick Save to remote",disabled:y(t).has_selected_subtree||r.value,onClick:f},[F(E,{icon:"fa-solid fa-bookmark"}),T[4]||(T[4]=u("span",{class:"ms-1 hide-button-text"},"Quick Save",-1))],8,Xg),u("button",{class:"btn btn-primary btn-spaced",title:"Save to remote",disabled:y(t).has_selected_subtree,onClick:p},[F(E,{icon:"fa-solid fa-save","aria-hidden":"true"}),T[5]||(T[5]=u("span",{class:"ms-1 hide-button-text"},"Save",-1))],8,qg)],64)}}}),tm={class:"form-check form-switch my-3 fs-5"},sm=["checked"],nm={class:"input-group flex-nowrap my-3"},om=["value"],rm=["value"],am={class:"input-group flex-nowrap my-3"},im=["value"],lm=se({__name:"NamespaceSelect",setup(s){const e=ye(),t=A(!1),n=A(e.url);function o(l){const d=l.target;e.changeNamespace(d.value)}function r(){if(e.services_for_type_service===void 0){L({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},l=>{const d=l.services.map(c=>c.substring(0,c.lastIndexOf("/"))+"/");d.length>0&&(e.setAvailableNamespaces(d),e.namespace===""&&e.changeNamespace(d[0]))})}function i(l){const d=l.target;n.value=d.value}function a(){e.setUrl(n.value),t.value=!1}return ls(r),(l,d)=>{const c=we("FontAwesomeIcon");return v(),I("div",null,[d[4]||(d[4]=u("div",{class:"h4 my-3"},"Connection Settings",-1)),u("div",tm,[u("input",{type:"checkbox",class:"form-check-input",checked:y(e).auto_connect,onClick:d[0]||(d[0]=(..._)=>y(e).toggleAutoConnect&&y(e).toggleAutoConnect(..._))},null,8,sm),d[1]||(d[1]=u("label",{class:"form-check-label ms-2"}," Automatic reconnect ",-1))]),u("div",nm,[d[2]||(d[2]=u("label",{class:"input-group-text"},"Namespace",-1)),u("select",{class:"form-select w-auto",value:y(e).namespace,onChange:o},[(v(!0),I(le,null,be(y(e).available_namespaces,_=>(v(),I("option",{key:_,value:_},Y(_),9,rm))),128))],40,om),u("button",{type:"button",class:"btn btn-outline-secondary",onClick:r},[F(c,{icon:"fa-solid fa-sync","aria-hidden":"true"})])]),u("div",am,[d[3]||(d[3]=u("label",{class:"input-group-text"},"Rosbridge Server",-1)),u("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:n.value,onChange:i},null,40,im),u("button",{type:"button",class:"btn btn-primary",onClick:a},"Save")])])}}}),cm={class:"btn-group"},um=se({__name:"TickControls",setup(s){const e=fe(),t=ye();function n(o){if(!t.connected){L({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},r=>{e.removeRunningCommand(o),r.success?L({title:"Running tree command",type:"success"}):L({title:"Running the tree command failed!",type:"error",text:r.error_message})})}return(o,r)=>{const i=we("FontAwesomeIcon");return v(),I("div",cm,[u("button",{class:"btn btn-primary",title:"Tick Once",onClick:r[0]||(r[0]=()=>n(y(Me).TICK_ONCE))},[y(e).running_commands.has(y(Me).TICK_ONCE)?(v(),J(i,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(v(),J(i,{key:1,icon:"fas fa-check","aria-hidden":"true"})),r[6]||(r[6]=u("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),u("button",{class:"btn btn-primary btn-spaced",title:"Tick Periodically",onClick:r[1]||(r[1]=()=>n(y(Me).TICK_PERIODICALLY))},[y(e).running_commands.has(y(Me).TICK_PERIODICALLY)?(v(),J(i,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(v(),J(i,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),r[7]||(r[7]=u("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),u("button",{class:"btn btn-primary btn-spaced",title:"Tick Until Result",onClick:r[2]||(r[2]=()=>n(y(Me).TICK_UNTIL_RESULT))},[y(e).running_commands.has(y(Me).TICK_UNTIL_RESULT)?(v(),J(i,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(v(),J(i,{key:1,icon:"fas fa-play","aria-hidden":"true"})),r[8]||(r[8]=u("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),u("button",{class:"btn btn-primary btn-spaced",title:"Stop",onClick:r[3]||(r[3]=()=>n(y(Me).STOP))},[y(e).running_commands.has(y(Me).STOP)?(v(),J(i,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(v(),J(i,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),r[9]||(r[9]=u("i",{class:"{stop_classes}"},null,-1)),r[10]||(r[10]=u("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),u("button",{class:"btn btn-primary btn-spaced",title:"Reset",onClick:r[4]||(r[4]=()=>n(y(Me).RESET))},[y(e).running_commands.has(y(Me).RESET)?(v(),J(i,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(v(),J(i,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),r[11]||(r[11]=u("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),u("button",{class:"btn btn-primary btn-spaced",title:"Shutdown",onClick:r[5]||(r[5]=()=>n(y(Me).SHUTDOWN))},[y(e).running_commands.has(y(Me).SHUTDOWN)?(v(),J(i,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(v(),J(i,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),r[12]||(r[12]=u("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),dm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20style='fill-opacity:1;stroke:none;stroke-width:0.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:markers%20stroke%20fill'%20d='m%2084.412499,15.013194%20c%202.357023,0%205,2.069281%205,5%20v%2086.973616%20c%200,2.97159%20-2.642977,5%20-5,5%20-2.357023,0%20-5,-2.11731%20-5,-5%20V%2020.013194%20c%200,-2.92906%202.642977,-5%205,-5%20z'%20id='path1301'%20/%3e%3cpath%20style='fill-opacity:1;stroke:none;stroke-width:0.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:markers%20stroke%20fill'%20d='m%2042.587501,15.013196%20c%202.357023,0%205,2.069281%205,5%20V%20106.9868%20c%200,2.97159%20-2.642977,5%20-5,5%20-2.357023,0%20-5,-2.11731%20-5,-5%20V%2020.013196%20c%200,-2.92906%202.642977,-5%205,-5%20z'%20id='path1301-6'%20/%3e%3c/g%3e%3c/svg%3e",_m="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSIxOTgiCiAgICAgICB5PSI0Mi42NjY2NjgiCiAgICAgICB3aWR0aD0iMTAyLjY2NjY3IgogICAgICAgaGVpZ2h0PSIxMDAuNjY2NjciCiAgICAgICBpZD0icmVjdDEzODAiIC8+PC9kZWZzPjxnCiAgICAgaWQ9ImxheWVyMSI+PHBhdGgKICAgICAgIHN0eWxlPSJmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC40Mzk3MTY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6bWFya2VycyBzdHJva2UgZmlsbCIKICAgICAgIGQ9Im0gODMuMzU0MTY1LDQ4IGMgMi4zNTcwMjMsMCA1LDEuNjAwMzk0IDUsMy44NjcwMyB2IDY3LjI2NTkzIGMgMCwyLjI5ODI1IC0yLjY0Mjk3NywzLjg2NzA0IC01LDMuODY3MDQgLTIuMzU3MDIzLDAgLTUsLTEuNjM3NTQgLTUsLTMuODY3MDQgViA1MS44NjcwMyBjIDAsLTIuMjY1MzUzIDIuNjQyOTc3LC0zLjg2NzAzIDUsLTMuODY3MDMgeiIKICAgICAgIGlkPSJwYXRoMTMwMSIgLz48cGF0aAogICAgICAgc3R5bGU9ImZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjQzOTcxNjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIgogICAgICAgZD0ibSA0My42NDU4MzUsNDggYyAyLjM1NzAyMywwIDUsMS42IDUsMy44NjcgdiA2Ny4yNjYgYyAwLDIuMjk4IC0yLjY0Mjk3NywzLjg2NyAtNSwzLjg2NyAtMi4zNTcwMjMsMCAtNSwtMS42MzggLTUsLTMuODY3IFYgNTEuODY3IGMgMCwtMi4yNjUgMi42NDI5NzcsLTMuODY3IDUsLTMuODY3IHoiCiAgICAgICBpZD0icGF0aDEzMDEtNiIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjc3MjM0NjUsMCwwLDAuNjc3MjM0NjUsLTkxLjkwMDY3MSwtMzUuMTg5MDc4KSIKICAgICAgIGlkPSJ0ZXh0MTM3OCIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMzgwKTtkaXNwbGF5OmlubGluZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iMTk4IgogICAgICAgICB5PSIxMTAuNzg2NzEiCiAgICAgICAgIGlkPSJ0c3BhbjMzNyI+TTwvdHNwYW4+PC90ZXh0PjwvZz48L3N2Zz4K",fm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSIxNTQiCiAgICAgICB5PSIxNDQuNSIKICAgICAgIHdpZHRoPSIyMDMiCiAgICAgICBoZWlnaHQ9IjE0NS41IgogICAgICAgaWQ9InJlY3QxMTcyIiAvPjwvZGVmcz48ZwogICAgIGlkPSJsYXllcjEiPjxwYXRoCiAgICAgICBkPSJtIDExMy41MjIxMiw4MC40MzYxMzcgYyAxLjc1NzY0LC0xLjc1NzYyOSAxLjc1NzY0LC00LjYxMjAyMiAwLC02LjM2OTY1MiBMIDk1LjUyMzk4NSw1Ni4wNjgzNDkgYyAtMS43NTc2MzIsLTEuNzU3NjI5IC00LjYxMjAyMywtMS43NTc2MjkgLTYuMzY5NjU0LDAgLTEuNzU3NjMsMS43NTc2MzEgLTEuNzU3NjMsNC42MTIwMjMgMCw2LjM2OTY1MiBMIDk5LjQ3NTEzOSw3Mi43NTg4MDggSCAxNi42NTkxODMgYyAtMi40ODg4MDQsMCAtNC40OTk1MzMsMi4wMTA3MjkgLTQuNDk5NTMzLDQuNDk5NTM0IDAsMi40ODg4MDQgMi4wMTA3MjksNC40OTk1MzQgNC40OTk1MzMsNC40OTk1MzQgSCA5OS40NzUxMzkgTCA4OS4xNTQzMzEsOTIuMDc4NjgxIGMgLTEuNzU3NjMsMS43NTc2MyAtMS43NTc2Myw0LjYxMjAyMiAwLDYuMzY5NjUyIDEuNzU3NjMxLDEuNzU3NjI3IDQuNjEyMDIyLDEuNzU3NjI3IDYuMzY5NjU0LDAgTCAxMTMuNTIyMTIsODAuNDUwMTk4IFoiCiAgICAgICBpZD0icGF0aDExMDQiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMzI0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNzU0ODg3MDksMCwwLDAuNzU0ODg3MDksLTgxLjc5NTcxNSwtMTAzLjUwODAyKSIKICAgICAgIGlkPSJ0ZXh0MTE3MCIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMTcyKTtkaXNwbGF5OmlubGluZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iMTU0IgogICAgICAgICB5PSIyMTIuNjIwNyIKICAgICAgICAgaWQ9InRzcGFuODgxIj48dHNwYW4KICAgICAgICAgICBzdHlsZT0ic3Ryb2tlOm5vbmUiCiAgICAgICAgICAgaWQ9InRzcGFuODc5Ij5NPC90c3Bhbj48L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+Cg==",pm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20d='m%20113.52212,90.244608%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2095.523985,65.87682%20c%20-1.757632,-1.757629%20-4.612023,-1.757629%20-6.369654,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20L%2099.475139,82.567279%20H%2016.659183%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20H%2099.475139%20L%2089.154331,101.88716%20c%20-1.75763,1.75763%20-1.75763,4.61202%200,6.36965%201.757631,1.75763%204.612022,1.75763%206.369654,0%20L%20113.52212,90.258669%20Z'%20id='path1104'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3cpath%20d='m%20113.52212,43.110984%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2095.523981,18.743196%20c%20-1.75763,-1.757629%20-4.61202,-1.757629%20-6.36965,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20l%2010.32081,10.320807%20H%2016.659182%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20h%2082.815959%20l%20-10.32081,10.320805%20c%20-1.75763,1.75763%20-1.75763,4.612022%200,6.369652%201.757632,1.757628%204.61202,1.757628%206.369652,0%20L%20113.52212,43.125045%20Z'%20id='path1104-6'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3c/g%3e%3c/svg%3e",vm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSI3OC41IgogICAgICAgeT0iMTkwIgogICAgICAgd2lkdGg9IjIwMyIKICAgICAgIGhlaWdodD0iMTA1LjUiCiAgICAgICBpZD0icmVjdDEyNjkiIC8+PC9kZWZzPjxnCiAgICAgaWQ9ImxheWVyMSI+PHBhdGgKICAgICAgIGQ9Im0gMTEzLjUyMjEyLDEwNC4wMDI5NyBjIDEuNzU3NjQsLTEuNzU3NjQgMS43NTc2NCwtNC42MTIwNDIgMCwtNi4zNjk2NzIgTCA5NS41MjM5ODUsNzkuNjM1MTYyIGMgLTEuNzU3NjMyLC0xLjc1NzYyOSAtNC42MTIwMjMsLTEuNzU3NjI5IC02LjM2OTY1NCwwIC0xLjc1NzYzLDEuNzU3NjMxIC0xLjc1NzYzLDQuNjEyMDIzIDAsNi4zNjk2NTIgTCA5OS40NzUxMzksOTYuMzI1NjIxIEggMTYuNjU5MTgzIGMgLTIuNDg4ODA0LDAgLTQuNDk5NTMzLDIuMDEwNzI5IC00LjQ5OTUzMyw0LjQ5OTUzOSAwLDIuNDg4ODIgMi4wMTA3MjksNC40OTk1NiA0LjQ5OTUzMyw0LjQ5OTU2IGggODIuODE1OTU2IGwgLTEwLjMyMDgwOCwxMC4zMjA4NiBjIC0xLjc1NzYzLDEuNzU3NjMgLTEuNzU3NjMsNC42MTIwMiAwLDYuMzY5NjUgMS43NTc2MzEsMS43NTc2MyA0LjYxMjAyMiwxLjc1NzYzIDYuMzY5NjU0LDAgbCAxNy45OTgxMzUsLTE3Ljk5ODIgeiIKICAgICAgIGlkPSJwYXRoMTEwNCIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4zMjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIiAvPjxwYXRoCiAgICAgICBkPSJtIDExMy41MjIxMiw1OC40NTY4MjcgYyAxLjc1NzY0LC0xLjc1NzYyOSAxLjc1NzY0LC00LjYxMjAyMiAwLC02LjM2OTY1MiBMIDk1LjUyMzk4MSwzNC4wODkwMzkgYyAtMS43NTc2MywtMS43NTc2MjkgLTQuNjEyMDIsLTEuNzU3NjI5IC02LjM2OTY1LDAgLTEuNzU3NjMsMS43NTc2MzEgLTEuNzU3NjMsNC42MTIwMjMgMCw2LjM2OTY1MiBsIDEwLjMyMDgxLDEwLjMyMDgwNyBIIDE2LjY1OTE4MiBjIC0yLjQ4ODgwNCwwIC00LjQ5OTUzMywyLjAxMDcyOSAtNC40OTk1MzMsNC40OTk1MzQgMCwyLjQ4ODgwNCAyLjAxMDcyOSw0LjQ5OTUzNCA0LjQ5OTUzMyw0LjQ5OTUzNCBoIDgyLjgxNTk1OSBsIC0xMC4zMjA4MSwxMC4zMjA4MDUgYyAtMS43NTc2MywxLjc1NzYzIC0xLjc1NzYzLDQuNjEyMDIyIDAsNi4zNjk2NTIgMS43NTc2MzIsMS43NTc2MjggNC42MTIwMiwxLjc1NzYyOCA2LjM2OTY1MiwwIEwgMTEzLjUyMjEyLDU4LjQ3MDg4OCBaIgogICAgICAgaWQ9InBhdGgxMTA0LTYiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMzI0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjI5NjU4MDIsMCwwLDAuNjI5NjU4MDIsLTIzLjQ2MTQ2MiwtMTIyLjE0OTM3KSIKICAgICAgIGlkPSJ0ZXh0MTI2NyIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMjY5KTtkaXNwbGF5OmlubGluZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iNzguNSIKICAgICAgICAgeT0iMjU4LjEyMDciCiAgICAgICAgIGlkPSJ0c3Bhbjg4MiI+RlQ8L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+Cg==",hm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20d='m%20111.67004,66.677796%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2093.671906,42.310008%20c%20-1.757632,-1.757629%20-4.612023,-1.757629%20-6.369654,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20L%2097.62306,59.000467%20H%2014.807104%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20H%2097.62306%20L%2087.302252,78.32034%20c%20-1.75763,1.75763%20-1.75763,4.612022%200,6.369652%201.757631,1.757628%204.612022,1.757628%206.369654,0%20L%20111.67004,66.691857%20Z'%20id='path1104'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3c/g%3e%3c/svg%3e",gm={class:"border rounded mb-2"},mm={key:0,class:"d-flex flex-wrap justify-content-center m-1"},ym=["onClick","onMousedown","onKeydown"],Wr="grab",bm="border-primary",wm=se({__name:"NodeQuickSelect",setup(s){const e=hs(),t=fe(),n=ke(),o=z(()=>e.nodes.filter(l=>l.max_children===-1)),r=A(!1);function i(l){return t.dragging_new_node&&t.dragging_new_node.node_class===l.node_class&&t.dragging_new_node.module===l.module?bm:Wr}function a(l){switch(l){case"Fallback":return dm;case"MemoryFallback":return _m;case"MemorySequence":return fm;case"Parallel":return pm;case"ParallelFailureTolerance":return vm;case"Sequence":return hm;default:return""}}return(l,d)=>{const c=we("FontAwesomeIcon");return v(),I("div",gm,[u("div",{class:"w-100 text-center cursor-pointer m-2",onClick:d[0]||(d[0]=_=>r.value=!r.value)},[d[1]||(d[1]=me(" Flow Control Nodes ")),F(c,{icon:"fa-solid "+(r.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),r.value?ge("",!0):(v(),I("div",mm,[(v(!0),I(le,null,be(o.value,_=>(v(),I("div",{key:_.node_class+_.module,class:Ne(["border rounded m-1 image-container",i(_)]),tabindex:"0",onClick:p=>y(n).nodeListSelectionChange(_),onMousedown:Gn(()=>y(t).startDraggingNewNode(_),["stop","prevent"]),onKeydown:Ue(p=>y(n).nodeListSelectionChange(_),["enter"])},[_.node_class==="NameSwitch"?(v(),J(c,{key:0,title:_.node_class,class:"icon",icon:"fa-solid fa-network-wired"},null,8,["title"])):(v(),J(y(ki),{key:1,title:_.node_class,class:"image",src:a(_.node_class)},null,8,["title","src"]))],42,ym))),128))]))])}}}),Em=Pt(wm,[["__scopeId","data-v-e1da244f"]]),Tm={class:"form-check form-switch my-3 fs-5"},Am=["checked"],Nm=se({__name:"SettingsPanel",setup(s){const e=fe(),t=ye();function n(o){const r=o.target;t.set_publish_data_service.callService({data:r.checked},i=>{i.success?(L({title:(r.checked?"Enable":"Disable")+" data publishing",type:"success"}),e.publish_data=r.checked):L({title:"Failed to toggle data publishing",text:i.message,type:"warn"})},i=>{L({title:"Failed to call setPublishData service",text:i,type:"error"})})}return(o,r)=>(v(),I(le,null,[r[1]||(r[1]=u("div",{class:"h4 mb-3"},"Tree Data Settings",-1)),u("div",Tm,[u("input",{type:"checkbox",class:"form-check-input",checked:y(e).publish_data,onClick:n},null,8,Am),r[0]||(r[0]=u("label",{class:"form-check-label ms-2"}," Transmit data flow information ",-1))])],64))}}),km={class:"d-flex align-items-center"},Cm={class:"btn btn-outline-contrast",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#settings"},Im=se({__name:"ConnectionStatus",setup(s){const e=ye(),t=vs(),n=yn(),o=z(()=>e.connected?t.messages_available?n.packages_available?{class:"connected",title:"Connected"}:{class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."}:{class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."}:{class:"disconnected",title:"Disconnected"});return(r,i)=>{const a=we("FontAwesomeIcon");return v(),I("div",km,[F(a,Yr({icon:"fa-solid fa-wifi","aria-hidden":"true",class:"mx-2 fs-4"},o.value),null,16),u("button",Cm,[F(a,{icon:"fa-solid fa-cog"})])])}}}),Sm=Pt(Im,[["__scopeId","data-v-e4216e4a"]]),xm={id:"settings",class:"offcanvas offcanvas-start",tabindex:"-1"},Om={class:"offcanvas-body"},Dm={key:0,class:"d-flex justify-content-between align-items-center w-100 p-2 top-bar"},Lm={class:"btn-group"},Mm={key:0,id:"nodelist_container",class:"col-3 d-flex flex-column h-100"},$m={class:"d-flex justify-content-between m-1 mt-2"},Rm={class:"m-1"},Pm={class:"border rounded"},jm={class:"input-group p-2"},Fm=["value"],zm={class:"row justify-content-between bg-secondary"},Um={class:"col col-xl-auto order-xl-1"},Wm={class:"col-auto order-xl-3"},Hm={class:"col-12 col-xl order-xl-2"},Vm={class:"row edit_canvas flex-grow-1 pb-2"},Bm={class:"row"},Ym={class:"col-6"},Gm={key:3,class:"d-flex flex-column"},Km={class:"col-6"},Zm={key:1,class:"d-flex flex-column"},Qm=se({__name:"App",setup(s){const e=ye(),t=vs(),n=yn(),o=hs(),r=fe(),i=ke(),a=A(!1);yt(a,x=>{x?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function l(x){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(x.packages)}function d(){e.packages_sub.subscribe(l)}function c(x){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(x)}function _(){e.messages_sub.subscribe(c)}function p(x){r.tree_structure_list=x.tree_structures}function f(x){r.tree_state_list=x.tree_states}function b(x){r.tree_data_list=x.tree_data}function m(){e.tree_structure_sub.subscribe(p),e.tree_state_sub.subscribe(f),e.tree_data_sub.subscribe(b)}function T(){e.channels_sub.subscribe(t.updateMessageChannels)}function E(x){const O=x.target;W.value=O.value,o.filterNodes(O.value)}function k(x){x.key=="Escape"&&(W.value="",o.clearFilteredNodes())}function N(){return r.current_tree.structure?r.current_tree.structure.nodes.filter(x=>x.max_children<0||x.child_ids.length<x.max_children).sort(function(x,O){return x.name<O.name?-1:x.name>O.name?1:0}):[]}const C=A(!0),P=A(),W=A(""),M=A(!0);return yt(()=>e.connected,x=>{x&&(console.log("Update subscriptions"),m(),_(),T(),d())}),ls(()=>{e.connect()}),(x,O)=>{const j=we("FontAwesomeIcon"),te=we("notifications");return v(),I(le,null,[u("div",xm,[O[7]||(O[7]=u("div",{class:"offcanvas-header"},[u("h5",{class:"offcanvas-title"},"Settings"),u("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas"})],-1)),u("div",Om,[F(Nm),F(lm)])]),M.value?(v(),I("header",Dm,[F(Sm),F(um),u("div",Lm,[F(em),F(Pg)])])):ge("",!0),u("main",null,[u("div",{class:Ne([y(r).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:O[5]||(O[5]=()=>y(r).stopDragging()),onMouseleave:O[6]||(O[6]=()=>y(r).stopDragging())},[u("div",{class:Ne(["row",M.value?"row-height":"vh-100"])},[C.value?(v(),I("div",Mm,[u("div",$m,[u("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:O[0]||(O[0]=()=>{C.value=!C.value})},[F(j,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),u("button",{class:"btn btn-outline-primary",title:"Change window appearance",onClick:O[1]||(O[1]=ue=>a.value=!a.value)},[F(j,{class:Ne(a.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),F(j,{class:Ne(a.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),u("div",Rm,[F(cp),F(Em),u("div",Pm,[u("div",jm,[O[8]||(O[8]=u("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),u("input",{id:"nodelist_search",ref_key:"nodelist_input_ref",ref:P,type:"text",class:"form-control",value:W.value,placeholder:"Node Name",onInput:E,onKeydown:k},null,40,Fm)])])]),F(Sp,{style:{"min-height":"0"}})])):ge("",!0),u("div",{id:"main_pane",class:Ne(["d-flex flex-column",C.value?"col-9":"col-12"])},[u("div",zm,[C.value?ge("",!0):(v(),I("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:O[2]||(O[2]=()=>{C.value=!C.value})},[F(j,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),u("div",Um,[F(Fp)]),u("div",Wm,[F(Lg,{"exec-bar-visible":M.value,onShow:O[3]||(O[3]=()=>{M.value=!0,C.value=!0}),onHide:O[4]||(O[4]=()=>{M.value=!1,C.value=!1})},null,8,["exec-bar-visible"])]),u("div",Hm,[F(xg)])]),u("div",Vm,[F(qp)]),u("div",Bm,[u("div",Ym,[y(i).last_seletion_source==="multiple"?(v(),J(zv,{key:0})):y(i).last_seletion_source==="nodelist"?(v(),J(fg,{key:y(e).namespace+(y(i).selected_node?y(i).selected_node.module+y(i).selected_node.node_class:""),parents:N()},null,8,["parents"])):y(i).last_seletion_source==="editor"?(v(),J(wg,{key:y(e).namespace+(y(i).selected_node?y(i).selected_node.name:"")})):(v(),I("div",Gm,"No Node Selected"))]),u("div",Km,[y(r).selected_edge!==void 0?(v(),J(uv,{key:0})):(v(),I("div",Zm,"No Edge Selected"))])])],2)],2)],34),F(te,{position:"bottom right","pause-on-hover":!0}),F(y(Ci))])],64)}}});Hi.add(Vi,Bi,Yi,Qr,Gi,Ki,Zi,Gr,Qi,Ji,Xi,qi,el,tl,sl,nl,ol,rl,al,il,ll,cl,ul,dl,_l,fl,pl,vl,hl,Zr,gl,ml,yl,bl,Xr,Kr,wl,El,Jr,Tl,Al,Nl,kl,Cl,Il);const Ms=Ii(Qm),Jm=Si(),pi=Df();pi.use(Gf);Ms.use(pi);Ms.component("FontAwesomeIcon",Sl);Ms.use(xi,{velocity:Oi});Ms.use(Jm);Ms.mount("#root");
