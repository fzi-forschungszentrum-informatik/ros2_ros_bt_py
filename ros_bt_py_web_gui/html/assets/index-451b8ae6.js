import{e as yr,r as f,m as br,i as $a,a as Da,w as rs,b as La,f as Ds,g as Er,t as Ia,j as Ra,k as Pa,o as Ma,n as Fa,l as Va,c as Z,E as A,d as se,p as Ut,q as v,s as D,u as c,v as le,x as G,y as ye,z as $e,A as H,F as re,B as fe,C as m,D as K,G as be,H as ja,I as vs,J as je,K as Wt,L as Ha,M as it,N as It,R as Hs,O as Fe,P as Ua,Q as Sn,S as tn,W as Wa,T as Ba,U as Ka,V as za,X as Ga}from"./vue-extras-bae42cbd.js";import{R as j}from"./roslib-ce1bf65b.js";import{F as Oe}from"./fusejs-a1032ea1.js";import{s as te,z as Ya,e as ze,m as hs,t as qa,q as Xa,a as Qa,b as Ja,f as Za,l as ei,c as ti,d as si,h as ni}from"./d3-9cd3fbd4.js";import{J as oi}from"./jsoneditor-dcd821d1.js";import{j as sn}from"./jsyaml-38530ef5.js";import{l as ri,f as ai,a as ii,b as li,c as ci,d as ui,e as di,g as _i,h as fi,i as pi,j as vi,k as hi,m as mi,n as gi,o as yi,p as bi,q as Ei,r as wi,s as Ti,t as ki,u as Si,v as Ai,w as Ci,x as Ni,y as xi,z as Oi,A as $i,B as Di,C as Li,D as Ii,E as Ri,F as Pi,G as Mi,H as Fi,I as Vi,J as ji}from"./fontawesome-d0406ea5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var Ee="top",De="bottom",Le="right",we="left",Us="auto",Bt=[Ee,De,Le,we],yt="start",Rt="end",wr="clippingParents",Wn="viewport",Ot="popper",Tr="reference",An=Bt.reduce(function(s,e){return s.concat([e+"-"+yt,e+"-"+Rt])},[]),Bn=[].concat(Bt,[Us]).reduce(function(s,e){return s.concat([e,e+"-"+yt,e+"-"+Rt])},[]),kr="beforeRead",Sr="read",Ar="afterRead",Cr="beforeMain",Nr="main",xr="afterMain",Or="beforeWrite",$r="write",Dr="afterWrite",Lr=[kr,Sr,Ar,Cr,Nr,xr,Or,$r,Dr];function qe(s){return s?(s.nodeName||"").toLowerCase():null}function Ie(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function bt(s){var e=Ie(s).Element;return s instanceof e||s instanceof Element}function He(s){var e=Ie(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function Kn(s){if(typeof ShadowRoot>"u")return!1;var e=Ie(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Hi(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];!He(r)||!qe(r)||(Object.assign(r.style,n),Object.keys(o).forEach(function(a){var i=o[a];i===!1?r.removeAttribute(a):r.setAttribute(a,i===!0?"":i)}))})}function Ui(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],r=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),i=a.reduce(function(l,u){return l[u]="",l},{});!He(o)||!qe(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(l){o.removeAttribute(l)}))})}}const zn={name:"applyStyles",enabled:!0,phase:"write",fn:Hi,effect:Ui,requires:["computeStyles"]};function Ge(s){return s.split("-")[0]}var gt=Math.max,Ls=Math.min,Pt=Math.round;function Cn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ir(){return!/^((?!chrome|android).)*safari/i.test(Cn())}function Mt(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,r=1;e&&He(s)&&(o=s.offsetWidth>0&&Pt(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&Pt(n.height)/s.offsetHeight||1);var a=bt(s)?Ie(s):window,i=a.visualViewport,l=!Ir()&&t,u=(n.left+(l&&i?i.offsetLeft:0))/o,d=(n.top+(l&&i?i.offsetTop:0))/r,b=n.width/o,h=n.height/r;return{width:b,height:h,top:d,right:u+b,bottom:d+h,left:u,x:u,y:d}}function Gn(s){var e=Mt(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function Rr(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&Kn(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function tt(s){return Ie(s).getComputedStyle(s)}function Wi(s){return["table","td","th"].indexOf(qe(s))>=0}function dt(s){return((bt(s)?s.ownerDocument:s.document)||window.document).documentElement}function Ws(s){return qe(s)==="html"?s:s.assignedSlot||s.parentNode||(Kn(s)?s.host:null)||dt(s)}function fo(s){return!He(s)||tt(s).position==="fixed"?null:s.offsetParent}function Bi(s){var e=/firefox/i.test(Cn()),t=/Trident/i.test(Cn());if(t&&He(s)){var n=tt(s);if(n.position==="fixed")return null}var o=Ws(s);for(Kn(o)&&(o=o.host);He(o)&&["html","body"].indexOf(qe(o))<0;){var r=tt(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function ls(s){for(var e=Ie(s),t=fo(s);t&&Wi(t)&&tt(t).position==="static";)t=fo(t);return t&&(qe(t)==="html"||qe(t)==="body"&&tt(t).position==="static")?e:t||Bi(s)||e}function Yn(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function ss(s,e,t){return gt(s,Ls(e,t))}function Ki(s,e,t){var n=ss(s,e,t);return n>t?t:n}function Pr(){return{top:0,right:0,bottom:0,left:0}}function Mr(s){return Object.assign({},Pr(),s)}function Fr(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var zi=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Mr(typeof e!="number"?e:Fr(e,Bt))};function Gi(s){var e,t=s.state,n=s.name,o=s.options,r=t.elements.arrow,a=t.modifiersData.popperOffsets,i=Ge(t.placement),l=Yn(i),u=[we,Le].indexOf(i)>=0,d=u?"height":"width";if(!(!r||!a)){var b=zi(o.padding,t),h=Gn(r),_=l==="y"?Ee:we,E=l==="y"?De:Le,y=t.rects.reference[d]+t.rects.reference[l]-a[l]-t.rects.popper[d],p=a[l]-t.rects.reference[l],x=ls(r),T=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,g=y/2-p/2,k=b[_],P=T-h[d]-b[E],F=T/2-h[d]/2+g,R=ss(k,F,P),N=l;t.modifiersData[n]=(e={},e[N]=R,e.centerOffset=R-F,e)}}function Yi(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Rr(e.elements.popper,o)&&(e.elements.arrow=o))}const Vr={name:"arrow",enabled:!0,phase:"main",fn:Gi,effect:Yi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ft(s){return s.split("-")[1]}var qi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xi(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:Pt(t*o)/o||0,y:Pt(n*o)/o||0}}function po(s){var e,t=s.popper,n=s.popperRect,o=s.placement,r=s.variation,a=s.offsets,i=s.position,l=s.gpuAcceleration,u=s.adaptive,d=s.roundOffsets,b=s.isFixed,h=a.x,_=h===void 0?0:h,E=a.y,y=E===void 0?0:E,p=typeof d=="function"?d({x:_,y}):{x:_,y};_=p.x,y=p.y;var x=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),g=we,k=Ee,P=window;if(u){var F=ls(t),R="clientHeight",N="clientWidth";if(F===Ie(t)&&(F=dt(t),tt(F).position!=="static"&&i==="absolute"&&(R="scrollHeight",N="scrollWidth")),F=F,o===Ee||(o===we||o===Le)&&r===Rt){k=De;var $=b&&F===P&&P.visualViewport?P.visualViewport.height:F[R];y-=$-n.height,y*=l?1:-1}if(o===we||(o===Ee||o===De)&&r===Rt){g=Le;var M=b&&F===P&&P.visualViewport?P.visualViewport.width:F[N];_-=M-n.width,_*=l?1:-1}}var X=Object.assign({position:i},u&&qi),ne=d===!0?Xi({x:_,y},Ie(t)):{x:_,y};if(_=ne.x,y=ne.y,l){var oe;return Object.assign({},X,(oe={},oe[k]=T?"0":"",oe[g]=x?"0":"",oe.transform=(P.devicePixelRatio||1)<=1?"translate("+_+"px, "+y+"px)":"translate3d("+_+"px, "+y+"px, 0)",oe))}return Object.assign({},X,(e={},e[k]=T?y+"px":"",e[g]=x?_+"px":"",e.transform="",e))}function Qi(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,r=t.adaptive,a=r===void 0?!0:r,i=t.roundOffsets,l=i===void 0?!0:i,u={placement:Ge(e.placement),variation:Ft(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,po(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,po(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const qn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qi,data:{}};var ms={passive:!0};function Ji(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,r=o===void 0?!0:o,a=n.resize,i=a===void 0?!0:a,l=Ie(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&u.forEach(function(d){d.addEventListener("scroll",t.update,ms)}),i&&l.addEventListener("resize",t.update,ms),function(){r&&u.forEach(function(d){d.removeEventListener("scroll",t.update,ms)}),i&&l.removeEventListener("resize",t.update,ms)}}const Xn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ji,data:{}};var Zi={left:"right",right:"left",bottom:"top",top:"bottom"};function xs(s){return s.replace(/left|right|bottom|top/g,function(e){return Zi[e]})}var el={start:"end",end:"start"};function vo(s){return s.replace(/start|end/g,function(e){return el[e]})}function Qn(s){var e=Ie(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Jn(s){return Mt(dt(s)).left+Qn(s).scrollLeft}function tl(s,e){var t=Ie(s),n=dt(s),o=t.visualViewport,r=n.clientWidth,a=n.clientHeight,i=0,l=0;if(o){r=o.width,a=o.height;var u=Ir();(u||!u&&e==="fixed")&&(i=o.offsetLeft,l=o.offsetTop)}return{width:r,height:a,x:i+Jn(s),y:l}}function sl(s){var e,t=dt(s),n=Qn(s),o=(e=s.ownerDocument)==null?void 0:e.body,r=gt(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=gt(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-n.scrollLeft+Jn(s),l=-n.scrollTop;return tt(o||t).direction==="rtl"&&(i+=gt(t.clientWidth,o?o.clientWidth:0)-r),{width:r,height:a,x:i,y:l}}function Zn(s){var e=tt(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function jr(s){return["html","body","#document"].indexOf(qe(s))>=0?s.ownerDocument.body:He(s)&&Zn(s)?s:jr(Ws(s))}function ns(s,e){var t;e===void 0&&(e=[]);var n=jr(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),r=Ie(n),a=o?[r].concat(r.visualViewport||[],Zn(n)?n:[]):n,i=e.concat(a);return o?i:i.concat(ns(Ws(a)))}function Nn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function nl(s,e){var t=Mt(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function ho(s,e,t){return e===Wn?Nn(tl(s,t)):bt(e)?nl(e,t):Nn(sl(dt(s)))}function ol(s){var e=ns(Ws(s)),t=["absolute","fixed"].indexOf(tt(s).position)>=0,n=t&&He(s)?ls(s):s;return bt(n)?e.filter(function(o){return bt(o)&&Rr(o,n)&&qe(o)!=="body"}):[]}function rl(s,e,t,n){var o=e==="clippingParents"?ol(s):[].concat(e),r=[].concat(o,[t]),a=r[0],i=r.reduce(function(l,u){var d=ho(s,u,n);return l.top=gt(d.top,l.top),l.right=Ls(d.right,l.right),l.bottom=Ls(d.bottom,l.bottom),l.left=gt(d.left,l.left),l},ho(s,a,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Hr(s){var e=s.reference,t=s.element,n=s.placement,o=n?Ge(n):null,r=n?Ft(n):null,a=e.x+e.width/2-t.width/2,i=e.y+e.height/2-t.height/2,l;switch(o){case Ee:l={x:a,y:e.y-t.height};break;case De:l={x:a,y:e.y+e.height};break;case Le:l={x:e.x+e.width,y:i};break;case we:l={x:e.x-t.width,y:i};break;default:l={x:e.x,y:e.y}}var u=o?Yn(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(r){case yt:l[u]=l[u]-(e[d]/2-t[d]/2);break;case Rt:l[u]=l[u]+(e[d]/2-t[d]/2);break}}return l}function Vt(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,r=t.strategy,a=r===void 0?s.strategy:r,i=t.boundary,l=i===void 0?wr:i,u=t.rootBoundary,d=u===void 0?Wn:u,b=t.elementContext,h=b===void 0?Ot:b,_=t.altBoundary,E=_===void 0?!1:_,y=t.padding,p=y===void 0?0:y,x=Mr(typeof p!="number"?p:Fr(p,Bt)),T=h===Ot?Tr:Ot,g=s.rects.popper,k=s.elements[E?T:h],P=rl(bt(k)?k:k.contextElement||dt(s.elements.popper),l,d,a),F=Mt(s.elements.reference),R=Hr({reference:F,element:g,strategy:"absolute",placement:o}),N=Nn(Object.assign({},g,R)),$=h===Ot?N:F,M={top:P.top-$.top+x.top,bottom:$.bottom-P.bottom+x.bottom,left:P.left-$.left+x.left,right:$.right-P.right+x.right},X=s.modifiersData.offset;if(h===Ot&&X){var ne=X[o];Object.keys(M).forEach(function(oe){var z=[Le,De].indexOf(oe)>=0?1:-1,V=[Ee,De].indexOf(oe)>=0?"y":"x";M[oe]+=ne[V]*z})}return M}function al(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,r=t.rootBoundary,a=t.padding,i=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?Bn:l,d=Ft(n),b=d?i?An:An.filter(function(E){return Ft(E)===d}):Bt,h=b.filter(function(E){return u.indexOf(E)>=0});h.length===0&&(h=b);var _=h.reduce(function(E,y){return E[y]=Vt(s,{placement:y,boundary:o,rootBoundary:r,padding:a})[Ge(y)],E},{});return Object.keys(_).sort(function(E,y){return _[E]-_[y]})}function il(s){if(Ge(s)===Us)return[];var e=xs(s);return[vo(s),e,vo(e)]}function ll(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,r=o===void 0?!0:o,a=t.altAxis,i=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,d=t.boundary,b=t.rootBoundary,h=t.altBoundary,_=t.flipVariations,E=_===void 0?!0:_,y=t.allowedAutoPlacements,p=e.options.placement,x=Ge(p),T=x===p,g=l||(T||!E?[xs(p)]:il(p)),k=[p].concat(g).reduce(function(ie,ge){return ie.concat(Ge(ge)===Us?al(e,{placement:ge,boundary:d,rootBoundary:b,padding:u,flipVariations:E,allowedAutoPlacements:y}):ge)},[]),P=e.rects.reference,F=e.rects.popper,R=new Map,N=!0,$=k[0],M=0;M<k.length;M++){var X=k[M],ne=Ge(X),oe=Ft(X)===yt,z=[Ee,De].indexOf(ne)>=0,V=z?"width":"height",B=Vt(e,{placement:X,boundary:d,rootBoundary:b,altBoundary:h,padding:u}),Q=z?oe?Le:we:oe?De:Ee;P[V]>F[V]&&(Q=xs(Q));var ae=xs(Q),ee=[];if(r&&ee.push(B[ne]<=0),i&&ee.push(B[Q]<=0,B[ae]<=0),ee.every(function(ie){return ie})){$=X,N=!1;break}R.set(X,ee)}if(N)for(var ke=E?3:1,Se=function(ge){var Ae=k.find(function(_e){var Xe=R.get(_e);if(Xe)return Xe.slice(0,ge).every(function(Tt){return Tt})});if(Ae)return $=Ae,"break"},Re=ke;Re>0;Re--){var de=Se(Re);if(de==="break")break}e.placement!==$&&(e.modifiersData[n]._skip=!0,e.placement=$,e.reset=!0)}}const Ur={name:"flip",enabled:!0,phase:"main",fn:ll,requiresIfExists:["offset"],data:{_skip:!1}};function mo(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function go(s){return[Ee,Le,De,we].some(function(e){return s[e]>=0})}function cl(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,a=Vt(e,{elementContext:"reference"}),i=Vt(e,{altBoundary:!0}),l=mo(a,n),u=mo(i,o,r),d=go(l),b=go(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":b})}const Wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cl};function ul(s,e,t){var n=Ge(s),o=[we,Ee].indexOf(n)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,a=r[0],i=r[1];return a=a||0,i=(i||0)*o,[we,Le].indexOf(n)>=0?{x:i,y:a}:{x:a,y:i}}function dl(s){var e=s.state,t=s.options,n=s.name,o=t.offset,r=o===void 0?[0,0]:o,a=Bn.reduce(function(d,b){return d[b]=ul(b,e.rects,r),d},{}),i=a[e.placement],l=i.x,u=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const Br={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dl};function _l(s){var e=s.state,t=s.name;e.modifiersData[t]=Hr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const eo={name:"popperOffsets",enabled:!0,phase:"read",fn:_l,data:{}};function fl(s){return s==="x"?"y":"x"}function pl(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,r=o===void 0?!0:o,a=t.altAxis,i=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,d=t.altBoundary,b=t.padding,h=t.tether,_=h===void 0?!0:h,E=t.tetherOffset,y=E===void 0?0:E,p=Vt(e,{boundary:l,rootBoundary:u,padding:b,altBoundary:d}),x=Ge(e.placement),T=Ft(e.placement),g=!T,k=Yn(x),P=fl(k),F=e.modifiersData.popperOffsets,R=e.rects.reference,N=e.rects.popper,$=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,M=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),X=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(F){if(r){var oe,z=k==="y"?Ee:we,V=k==="y"?De:Le,B=k==="y"?"height":"width",Q=F[k],ae=Q+p[z],ee=Q-p[V],ke=_?-N[B]/2:0,Se=T===yt?R[B]:N[B],Re=T===yt?-N[B]:-R[B],de=e.elements.arrow,ie=_&&de?Gn(de):{width:0,height:0},ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pr(),Ae=ge[z],_e=ge[V],Xe=ss(0,R[B],ie[B]),Tt=g?R[B]/2-ke-Xe-Ae-M.mainAxis:Se-Xe-Ae-M.mainAxis,en=g?-R[B]/2+ke+Xe+_e+M.mainAxis:Re+Xe+_e+M.mainAxis,Xt=e.elements.arrow&&ls(e.elements.arrow),C=Xt?k==="y"?Xt.clientTop||0:Xt.clientLeft||0:0,S=(oe=X==null?void 0:X[k])!=null?oe:0,w=Q+Tt-S-C,L=Q+en-S,I=ss(_?Ls(ae,w):ae,Q,_?gt(ee,L):ee);F[k]=I,ne[k]=I-Q}if(i){var U,J=k==="x"?Ee:we,xe=k==="x"?De:Le,ce=F[P],Y=P==="y"?"height":"width",ue=ce+p[J],pt=ce-p[xe],vt=[Ee,we].indexOf(x)!==-1,lo=(U=X==null?void 0:X[P])!=null?U:0,co=vt?ue:ce-R[Y]-N[Y]-lo+M.altAxis,uo=vt?ce+R[Y]+N[Y]-lo-M.altAxis:pt,_o=_&&vt?Ki(co,ce,uo):ss(_?co:ue,ce,_?uo:pt);F[P]=_o,ne[P]=_o-ce}e.modifiersData[n]=ne}}const Kr={name:"preventOverflow",enabled:!0,phase:"main",fn:pl,requiresIfExists:["offset"]};function vl(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function hl(s){return s===Ie(s)||!He(s)?Qn(s):vl(s)}function ml(s){var e=s.getBoundingClientRect(),t=Pt(e.width)/s.offsetWidth||1,n=Pt(e.height)/s.offsetHeight||1;return t!==1||n!==1}function gl(s,e,t){t===void 0&&(t=!1);var n=He(e),o=He(e)&&ml(e),r=dt(e),a=Mt(s,o,t),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((qe(e)!=="body"||Zn(r))&&(i=hl(e)),He(e)?(l=Mt(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Jn(r))),{x:a.left+i.scrollLeft-l.x,y:a.top+i.scrollTop-l.y,width:a.width,height:a.height}}function yl(s){var e=new Map,t=new Set,n=[];s.forEach(function(r){e.set(r.name,r)});function o(r){t.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(i){if(!t.has(i)){var l=e.get(i);l&&o(l)}}),n.push(r)}return s.forEach(function(r){t.has(r.name)||o(r)}),n}function bl(s){var e=yl(s);return Lr.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function El(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function wl(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var yo={placement:"bottom",modifiers:[],strategy:"absolute"};function bo(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Bs(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,r=o===void 0?yo:o;return function(i,l,u){u===void 0&&(u=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},yo,r),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},b=[],h=!1,_={state:d,setOptions:function(x){var T=typeof x=="function"?x(d.options):x;y(),d.options=Object.assign({},r,d.options,T),d.scrollParents={reference:bt(i)?ns(i):i.contextElement?ns(i.contextElement):[],popper:ns(l)};var g=bl(wl([].concat(n,d.options.modifiers)));return d.orderedModifiers=g.filter(function(k){return k.enabled}),E(),_.update()},forceUpdate:function(){if(!h){var x=d.elements,T=x.reference,g=x.popper;if(bo(T,g)){d.rects={reference:gl(T,ls(g),d.options.strategy==="fixed"),popper:Gn(g)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(M){return d.modifiersData[M.name]=Object.assign({},M.data)});for(var k=0;k<d.orderedModifiers.length;k++){if(d.reset===!0){d.reset=!1,k=-1;continue}var P=d.orderedModifiers[k],F=P.fn,R=P.options,N=R===void 0?{}:R,$=P.name;typeof F=="function"&&(d=F({state:d,options:N,name:$,instance:_})||d)}}}},update:El(function(){return new Promise(function(p){_.forceUpdate(),p(d)})}),destroy:function(){y(),h=!0}};if(!bo(i,l))return _;_.setOptions(u).then(function(p){!h&&u.onFirstUpdate&&u.onFirstUpdate(p)});function E(){d.orderedModifiers.forEach(function(p){var x=p.name,T=p.options,g=T===void 0?{}:T,k=p.effect;if(typeof k=="function"){var P=k({state:d,name:x,instance:_,options:g}),F=function(){};b.push(P||F)}})}function y(){b.forEach(function(p){return p()}),b=[]}return _}}var Tl=Bs(),kl=[Xn,eo,qn,zn],Sl=Bs({defaultModifiers:kl}),Al=[Xn,eo,qn,zn,Br,Ur,Kr,Vr,Wr],to=Bs({defaultModifiers:Al});const zr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:xr,afterRead:Ar,afterWrite:Dr,applyStyles:zn,arrow:Vr,auto:Us,basePlacements:Bt,beforeMain:Cr,beforeRead:kr,beforeWrite:Or,bottom:De,clippingParents:wr,computeStyles:qn,createPopper:to,createPopperBase:Tl,createPopperLite:Sl,detectOverflow:Vt,end:Rt,eventListeners:Xn,flip:Ur,hide:Wr,left:we,main:Nr,modifierPhases:Lr,offset:Br,placements:Bn,popper:Ot,popperGenerator:Bs,popperOffsets:eo,preventOverflow:Kr,read:Sr,reference:Tr,right:Le,start:yt,top:Ee,variationPlacements:An,viewport:Wn,write:$r},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const nt=new Map,nn={set(s,e,t){nt.has(s)||nt.set(s,new Map);const n=nt.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return nt.has(s)&&nt.get(s).get(e)||null},remove(s,e){if(!nt.has(s))return;const t=nt.get(s);t.delete(e),t.size===0&&nt.delete(s)}},Cl=1e6,Nl=1e3,xn="transitionend",Gr=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),xl=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),Ol=s=>{do s+=Math.floor(Math.random()*Cl);while(document.getElementById(s));return s},$l=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Nl)},Yr=s=>{s.dispatchEvent(new Event(xn))},Ze=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),lt=s=>Ze(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(Gr(s)):null,Kt=s=>{if(!Ze(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},ct=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",qr=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?qr(s.parentNode):null},Is=()=>{},cs=s=>{s.offsetHeight},Xr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,on=[],Dl=s=>{document.readyState==="loading"?(on.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of on)e()}),on.push(s)):s()},Ue=()=>document.documentElement.dir==="rtl",Be=s=>{Dl(()=>{const e=Xr();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},Ne=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,Qr=(s,e,t=!0)=>{if(!t){Ne(s);return}const n=5,o=$l(e)+n;let r=!1;const a=({target:i})=>{i===e&&(r=!0,e.removeEventListener(xn,a),Ne(s))};e.addEventListener(xn,a),setTimeout(()=>{r||Yr(e)},o)},so=(s,e,t,n)=>{const o=s.length;let r=s.indexOf(e);return r===-1?!t&&n?s[o-1]:s[0]:(r+=t?1:-1,n&&(r=(r+o)%o),s[Math.max(0,Math.min(r,o-1))])},Ll=/[^.]*(?=\..*)\.|.*/,Il=/\..*/,Rl=/::\d+$/,rn={};let Eo=1;const Jr={mouseenter:"mouseover",mouseleave:"mouseout"},Pl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Zr(s,e){return e&&`${e}::${Eo++}`||s.uidEvent||Eo++}function ea(s){const e=Zr(s);return s.uidEvent=e,rn[e]=rn[e]||{},rn[e]}function Ml(s,e){return function t(n){return no(n,{delegateTarget:s}),t.oneOff&&O.off(s,n.type,e),e.apply(s,[n])}}function Fl(s,e,t){return function n(o){const r=s.querySelectorAll(e);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const i of r)if(i===a)return no(o,{delegateTarget:a}),n.oneOff&&O.off(s,o.type,e,t),t.apply(a,[o])}}function ta(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function sa(s,e,t){const n=typeof e=="string",o=n?t:e||t;let r=na(s);return Pl.has(r)||(r=s),[n,o,r]}function wo(s,e,t,n,o){if(typeof e!="string"||!s)return;let[r,a,i]=sa(e,t,n);e in Jr&&(a=(E=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return E.call(this,y)})(a));const l=ea(s),u=l[i]||(l[i]={}),d=ta(u,a,r?t:null);if(d){d.oneOff=d.oneOff&&o;return}const b=Zr(a,e.replace(Ll,"")),h=r?Fl(s,t,a):Ml(s,a);h.delegationSelector=r?t:null,h.callable=a,h.oneOff=o,h.uidEvent=b,u[b]=h,s.addEventListener(i,h,r)}function On(s,e,t,n,o){const r=ta(e[t],n,o);r&&(s.removeEventListener(t,r,!!o),delete e[t][r.uidEvent])}function Vl(s,e,t,n){const o=e[t]||{};for(const[r,a]of Object.entries(o))r.includes(n)&&On(s,e,t,a.callable,a.delegationSelector)}function na(s){return s=s.replace(Il,""),Jr[s]||s}const O={on(s,e,t,n){wo(s,e,t,n,!1)},one(s,e,t,n){wo(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,r,a]=sa(e,t,n),i=a!==e,l=ea(s),u=l[a]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(u).length)return;On(s,l,a,r,o?t:null);return}if(d)for(const b of Object.keys(l))Vl(s,l,b,e.slice(1));for(const[b,h]of Object.entries(u)){const _=b.replace(Rl,"");(!i||e.includes(_))&&On(s,l,a,h.callable,h.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=Xr(),o=na(e),r=e!==o;let a=null,i=!0,l=!0,u=!1;r&&n&&(a=n.Event(e,t),n(s).trigger(a),i=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());const d=no(new Event(e,{bubbles:i,cancelable:!0}),t);return u&&d.preventDefault(),l&&s.dispatchEvent(d),d.defaultPrevented&&a&&a.preventDefault(),d}};function no(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function To(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function an(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const et={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${an(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${an(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=To(s.dataset[n])}return e},getDataAttribute(s,e){return To(s.getAttribute(`data-bs-${an(e)}`))}};class us{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=Ze(t)?et.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Ze(t)?et.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const r=e[n],a=Ze(r)?"element":xl(r);if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${o}".`)}}}const jl="5.3.3";class Ke extends us{constructor(e,t){super(),e=lt(e),e&&(this._element=e,this._config=this._getConfig(t),nn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){nn.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Qr(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return nn.get(lt(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return jl}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const ln=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Gr(t)).join(","):null},W={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!ct(t)&&Kt(t))},getSelectorFromElement(s){const e=ln(s);return e&&W.findOne(e)?e:null},getElementFromSelector(s){const e=ln(s);return e?W.findOne(e):null},getMultipleElementsFromSelector(s){const e=ln(s);return e?W.find(e):[]}},Ks=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;O.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),ct(this))return;const r=W.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(r)[e]()})},Hl="alert",Ul="bs.alert",oa=`.${Ul}`,Wl=`close${oa}`,Bl=`closed${oa}`,Kl="fade",zl="show";class zs extends Ke{static get NAME(){return Hl}close(){if(O.trigger(this._element,Wl).defaultPrevented)return;this._element.classList.remove(zl);const t=this._element.classList.contains(Kl);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),O.trigger(this._element,Bl),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=zs.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ks(zs,"close");Be(zs);const Gl="button",Yl="bs.button",ql=`.${Yl}`,Xl=".data-api",Ql="active",ko='[data-bs-toggle="button"]',Jl=`click${ql}${Xl}`;class Gs extends Ke{static get NAME(){return Gl}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Ql))}static jQueryInterface(e){return this.each(function(){const t=Gs.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}O.on(document,Jl,ko,s=>{s.preventDefault();const e=s.target.closest(ko);Gs.getOrCreateInstance(e).toggle()});Be(Gs);const Zl="swipe",zt=".bs.swipe",ec=`touchstart${zt}`,tc=`touchmove${zt}`,sc=`touchend${zt}`,nc=`pointerdown${zt}`,oc=`pointerup${zt}`,rc="touch",ac="pen",ic="pointer-event",lc=40,cc={endCallback:null,leftCallback:null,rightCallback:null},uc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Rs extends us{constructor(e,t){super(),this._element=e,!(!e||!Rs.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return cc}static get DefaultType(){return uc}static get NAME(){return Zl}dispose(){O.off(this._element,zt)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ne(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=lc)return;const t=e/this._deltaX;this._deltaX=0,t&&Ne(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,nc,e=>this._start(e)),O.on(this._element,oc,e=>this._end(e)),this._element.classList.add(ic)):(O.on(this._element,ec,e=>this._start(e)),O.on(this._element,tc,e=>this._move(e)),O.on(this._element,sc,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===ac||e.pointerType===rc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const dc="carousel",_c="bs.carousel",_t=`.${_c}`,ra=".data-api",fc="ArrowLeft",pc="ArrowRight",vc=500,Qt="next",kt="prev",$t="left",Os="right",hc=`slide${_t}`,cn=`slid${_t}`,mc=`keydown${_t}`,gc=`mouseenter${_t}`,yc=`mouseleave${_t}`,bc=`dragstart${_t}`,Ec=`load${_t}${ra}`,wc=`click${_t}${ra}`,aa="carousel",gs="active",Tc="slide",kc="carousel-item-end",Sc="carousel-item-start",Ac="carousel-item-next",Cc="carousel-item-prev",ia=".active",la=".carousel-item",Nc=ia+la,xc=".carousel-item img",Oc=".carousel-indicators",$c="[data-bs-slide], [data-bs-slide-to]",Dc='[data-bs-ride="carousel"]',Lc={[fc]:Os,[pc]:$t},Ic={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Rc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ds extends Ke{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(Oc,this._element),this._addEventListeners(),this._config.ride===aa&&this.cycle()}static get Default(){return Ic}static get DefaultType(){return Rc}static get NAME(){return dc}next(){this._slide(Qt)}nextWhenVisible(){!document.hidden&&Kt(this._element)&&this.next()}prev(){this._slide(kt)}pause(){this._isSliding&&Yr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){O.one(this._element,cn,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){O.one(this._element,cn,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?Qt:kt;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&O.on(this._element,mc,e=>this._keydown(e)),this._config.pause==="hover"&&(O.on(this._element,gc,()=>this.pause()),O.on(this._element,yc,()=>this._maybeEnableCycle())),this._config.touch&&Rs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of W.find(xc,this._element))O.on(n,bc,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder($t)),rightCallback:()=>this._slide(this._directionToOrder(Os)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),vc+this._config.interval))}};this._swipeHelper=new Rs(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Lc[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=W.findOne(ia,this._indicatorsElement);t.classList.remove(gs),t.removeAttribute("aria-current");const n=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(gs),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===Qt,r=t||so(this._getItems(),n,o,this._config.wrap);if(r===n)return;const a=this._getItemIndex(r),i=_=>O.trigger(this._element,_,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:a});if(i(hc).defaultPrevented||!n||!r)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const d=o?Sc:kc,b=o?Ac:Cc;r.classList.add(b),cs(r),n.classList.add(d),r.classList.add(d);const h=()=>{r.classList.remove(d,b),r.classList.add(gs),n.classList.remove(gs,b,d),this._isSliding=!1,i(cn)};this._queueCallback(h,n,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(Tc)}_getActive(){return W.findOne(Nc,this._element)}_getItems(){return W.find(la,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ue()?e===$t?kt:Qt:e===$t?Qt:kt}_orderToDirection(e){return Ue()?e===kt?$t:Os:e===kt?Os:$t}static jQueryInterface(e){return this.each(function(){const t=ds.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}O.on(document,wc,$c,function(s){const e=W.getElementFromSelector(this);if(!e||!e.classList.contains(aa))return;s.preventDefault();const t=ds.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(et.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});O.on(window,Ec,()=>{const s=W.find(Dc);for(const e of s)ds.getOrCreateInstance(e)});Be(ds);const Pc="collapse",Mc="bs.collapse",_s=`.${Mc}`,Fc=".data-api",Vc=`show${_s}`,jc=`shown${_s}`,Hc=`hide${_s}`,Uc=`hidden${_s}`,Wc=`click${_s}${Fc}`,un="show",Lt="collapse",ys="collapsing",Bc="collapsed",Kc=`:scope .${Lt} .${Lt}`,zc="collapse-horizontal",Gc="width",Yc="height",qc=".collapse.show, .collapse.collapsing",$n='[data-bs-toggle="collapse"]',Xc={parent:null,toggle:!0},Qc={parent:"(null|element)",toggle:"boolean"};class as extends Ke{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=W.find($n);for(const o of n){const r=W.getSelectorFromElement(o),a=W.find(r).filter(i=>i===this._element);r!==null&&a.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xc}static get DefaultType(){return Qc}static get NAME(){return Pc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(qc).filter(i=>i!==this._element).map(i=>as.getOrCreateInstance(i,{toggle:!1}))),e.length&&e[0]._isTransitioning||O.trigger(this._element,Vc).defaultPrevented)return;for(const i of e)i.hide();const n=this._getDimension();this._element.classList.remove(Lt),this._element.classList.add(ys),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(ys),this._element.classList.add(Lt,un),this._element.style[n]="",O.trigger(this._element,jc)},a=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,Hc).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,cs(this._element),this._element.classList.add(ys),this._element.classList.remove(Lt,un);for(const o of this._triggerArray){const r=W.getElementFromSelector(o);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(ys),this._element.classList.add(Lt),O.trigger(this._element,Uc)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(un)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=lt(e.parent),e}_getDimension(){return this._element.classList.contains(zc)?Gc:Yc}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren($n);for(const t of e){const n=W.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=W.find(Kc,this._config.parent);return W.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(Bc,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=as.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(document,Wc,$n,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of W.getMultipleElementsFromSelector(this))as.getOrCreateInstance(e,{toggle:!1}).toggle()});Be(as);const So="dropdown",Jc="bs.dropdown",Et=`.${Jc}`,oo=".data-api",Zc="Escape",Ao="Tab",eu="ArrowUp",Co="ArrowDown",tu=2,su=`hide${Et}`,nu=`hidden${Et}`,ou=`show${Et}`,ru=`shown${Et}`,ca=`click${Et}${oo}`,ua=`keydown${Et}${oo}`,au=`keyup${Et}${oo}`,Dt="show",iu="dropup",lu="dropend",cu="dropstart",uu="dropup-center",du="dropdown-center",ht='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',_u=`${ht}.${Dt}`,$s=".dropdown-menu",fu=".navbar",pu=".navbar-nav",vu=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",hu=Ue()?"top-end":"top-start",mu=Ue()?"top-start":"top-end",gu=Ue()?"bottom-end":"bottom-start",yu=Ue()?"bottom-start":"bottom-end",bu=Ue()?"left-start":"right-start",Eu=Ue()?"right-start":"left-start",wu="top",Tu="bottom",ku={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Su={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ye extends Ke{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,$s)[0]||W.prev(this._element,$s)[0]||W.findOne($s,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ku}static get DefaultType(){return Su}static get NAME(){return So}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ct(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!O.trigger(this._element,ou,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(pu))for(const n of[].concat(...document.body.children))O.on(n,"mouseover",Is);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Dt),this._element.classList.add(Dt),O.trigger(this._element,ru,e)}}hide(){if(ct(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!O.trigger(this._element,su,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))O.off(n,"mouseover",Is);this._popper&&this._popper.destroy(),this._menu.classList.remove(Dt),this._element.classList.remove(Dt),this._element.setAttribute("aria-expanded","false"),et.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,nu,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ze(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${So.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof zr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ze(this._config.reference)?e=lt(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=to(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Dt)}_getPlacement(){const e=this._parent;if(e.classList.contains(lu))return bu;if(e.classList.contains(cu))return Eu;if(e.classList.contains(uu))return wu;if(e.classList.contains(du))return Tu;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(iu)?t?mu:hu:t?yu:gu}_detectNavbar(){return this._element.closest(fu)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(et.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ne(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=W.find(vu,this._menu).filter(o=>Kt(o));n.length&&so(n,t,e===Co,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Ye.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===tu||e.type==="keyup"&&e.key!==Ao)return;const t=W.find(_u);for(const n of t){const o=Ye.getInstance(n);if(!o||o._config.autoClose===!1)continue;const r=e.composedPath(),a=r.includes(o._menu);if(r.includes(o._element)||o._config.autoClose==="inside"&&!a||o._config.autoClose==="outside"&&a||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Ao||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:o._element};e.type==="click"&&(i.clickEvent=e),o._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Zc,o=[eu,Co].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const r=this.matches(ht)?this:W.prev(this,ht)[0]||W.next(this,ht)[0]||W.findOne(ht,e.delegateTarget.parentNode),a=Ye.getOrCreateInstance(r);if(o){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),r.focus())}}O.on(document,ua,ht,Ye.dataApiKeydownHandler);O.on(document,ua,$s,Ye.dataApiKeydownHandler);O.on(document,ca,Ye.clearMenus);O.on(document,au,Ye.clearMenus);O.on(document,ca,ht,function(s){s.preventDefault(),Ye.getOrCreateInstance(this).toggle()});Be(Ye);const da="backdrop",Au="fade",No="show",xo=`mousedown.bs.${da}`,Cu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Nu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _a extends us{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Cu}static get DefaultType(){return Nu}static get NAME(){return da}show(e){if(!this._config.isVisible){Ne(e);return}this._append();const t=this._getElement();this._config.isAnimated&&cs(t),t.classList.add(No),this._emulateAnimation(()=>{Ne(e)})}hide(e){if(!this._config.isVisible){Ne(e);return}this._getElement().classList.remove(No),this._emulateAnimation(()=>{this.dispose(),Ne(e)})}dispose(){this._isAppended&&(O.off(this._element,xo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Au),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=lt(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),O.on(e,xo,()=>{Ne(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Qr(e,this._getElement(),this._config.isAnimated)}}const xu="focustrap",Ou="bs.focustrap",Ps=`.${Ou}`,$u=`focusin${Ps}`,Du=`keydown.tab${Ps}`,Lu="Tab",Iu="forward",Oo="backward",Ru={autofocus:!0,trapElement:null},Pu={autofocus:"boolean",trapElement:"element"};class fa extends us{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ru}static get DefaultType(){return Pu}static get NAME(){return xu}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,Ps),O.on(document,$u,e=>this._handleFocusin(e)),O.on(document,Du,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,Ps))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=W.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===Oo?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Lu&&(this._lastTabNavDirection=e.shiftKey?Oo:Iu)}}const $o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Do=".sticky-top",bs="padding-right",Lo="margin-right";class Dn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,bs,t=>t+e),this._setElementAttributes($o,bs,t=>t+e),this._setElementAttributes(Do,Lo,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,bs),this._resetElementAttributes($o,bs),this._resetElementAttributes(Do,Lo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),r=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+o)return;this._saveInitialAttribute(a,t);const i=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${n(Number.parseFloat(i))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&et.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const r=et.getDataAttribute(o,t);if(r===null){o.style.removeProperty(t);return}et.removeDataAttribute(o,t),o.style.setProperty(t,r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(Ze(e)){t(e);return}for(const n of W.find(e,this._element))t(n)}}const Mu="modal",Fu="bs.modal",We=`.${Fu}`,Vu=".data-api",ju="Escape",Hu=`hide${We}`,Uu=`hidePrevented${We}`,pa=`hidden${We}`,va=`show${We}`,Wu=`shown${We}`,Bu=`resize${We}`,Ku=`click.dismiss${We}`,zu=`mousedown.dismiss${We}`,Gu=`keydown.dismiss${We}`,Yu=`click${We}${Vu}`,Io="modal-open",qu="fade",Ro="show",dn="modal-static",Xu=".modal.show",Qu=".modal-dialog",Ju=".modal-body",Zu='[data-bs-toggle="modal"]',ed={backdrop:!0,focus:!0,keyboard:!0},td={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class jt extends Ke{constructor(e,t){super(e,t),this._dialog=W.findOne(Qu,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Dn,this._addEventListeners()}static get Default(){return ed}static get DefaultType(){return td}static get NAME(){return Mu}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||O.trigger(this._element,va,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Io),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||O.trigger(this._element,Hu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ro),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){O.off(window,We),O.off(this._dialog,We),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _a({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fa({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=W.findOne(Ju,this._dialog);t&&(t.scrollTop=0),cs(this._element),this._element.classList.add(Ro);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,Wu,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,Gu,e=>{if(e.key===ju){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),O.on(window,Bu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,zu,e=>{O.one(this._element,Ku,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Io),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,pa)})}_isAnimated(){return this._element.classList.contains(qu)}_triggerBackdropTransition(){if(O.trigger(this._element,Uu).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(dn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(dn),this._queueCallback(()=>{this._element.classList.remove(dn),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Ue()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Ue()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=jt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}O.on(document,Yu,Zu,function(s){const e=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),O.one(e,va,o=>{o.defaultPrevented||O.one(e,pa,()=>{Kt(this)&&this.focus()})});const t=W.findOne(Xu);t&&jt.getInstance(t).hide(),jt.getOrCreateInstance(e).toggle(this)});Ks(jt);Be(jt);const sd="offcanvas",nd="bs.offcanvas",st=`.${nd}`,ha=".data-api",od=`load${st}${ha}`,rd="Escape",Po="show",Mo="showing",Fo="hiding",ad="offcanvas-backdrop",ma=".offcanvas.show",id=`show${st}`,ld=`shown${st}`,cd=`hide${st}`,Vo=`hidePrevented${st}`,ga=`hidden${st}`,ud=`resize${st}`,dd=`click${st}${ha}`,_d=`keydown.dismiss${st}`,fd='[data-bs-toggle="offcanvas"]',pd={backdrop:!0,keyboard:!0,scroll:!1},vd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ut extends Ke{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return pd}static get DefaultType(){return vd}static get NAME(){return sd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||O.trigger(this._element,id,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Dn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Mo);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Po),this._element.classList.remove(Mo),O.trigger(this._element,ld,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||O.trigger(this._element,cd).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fo),this._backdrop.hide();const t=()=>{this._element.classList.remove(Po,Fo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Dn().reset(),O.trigger(this._element,ga)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){O.trigger(this._element,Vo);return}this.hide()},t=!!this._config.backdrop;return new _a({className:ad,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new fa({trapElement:this._element})}_addEventListeners(){O.on(this._element,_d,e=>{if(e.key===rd){if(this._config.keyboard){this.hide();return}O.trigger(this._element,Vo)}})}static jQueryInterface(e){return this.each(function(){const t=ut.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}O.on(document,dd,fd,function(s){const e=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),ct(this))return;O.one(e,ga,()=>{Kt(this)&&this.focus()});const t=W.findOne(ma);t&&t!==e&&ut.getInstance(t).hide(),ut.getOrCreateInstance(e).toggle(this)});O.on(window,od,()=>{for(const s of W.find(ma))ut.getOrCreateInstance(s).show()});O.on(window,ud,()=>{for(const s of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&ut.getOrCreateInstance(s).hide()});Ks(ut);Be(ut);const hd=/^aria-[\w-]*$/i,ya={"*":["class","dir","id","lang","role",hd],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},md=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,yd=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?md.has(t)?!!gd.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function bd(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...o.body.querySelectorAll("*"));for(const a of r){const i=a.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){a.remove();continue}const l=[].concat(...a.attributes),u=[].concat(e["*"]||[],e[i]||[]);for(const d of l)yd(d,u)||a.removeAttribute(d.nodeName)}return o.body.innerHTML}const Ed="TemplateFactory",wd={allowList:ya,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Td={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},kd={entry:"(string|element|function|null)",selector:"(string|element)"};class Sd extends us{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return wd}static get DefaultType(){return Td}static get NAME(){return Ed}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,r]of Object.entries(this._config.content))this._setContent(e,r,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},kd)}_setContent(e,t,n){const o=W.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(Ze(t)){this._putElementInTemplate(lt(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?bd(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ne(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const Ad="tooltip",Cd=new Set(["sanitize","allowList","sanitizeFn"]),_n="fade",Nd="modal",Es="show",xd=".tooltip-inner",jo=`.${Nd}`,Ho="hide.bs.modal",Jt="hover",fn="focus",Od="click",$d="manual",Dd="hide",Ld="hidden",Id="show",Rd="shown",Pd="inserted",Md="click",Fd="focusin",Vd="focusout",jd="mouseenter",Hd="mouseleave",Ud={AUTO:"auto",TOP:"top",RIGHT:Ue()?"left":"right",BOTTOM:"bottom",LEFT:Ue()?"right":"left"},Wd={allowList:ya,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Bd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Gt extends Ke{constructor(e,t){if(typeof zr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Wd}static get DefaultType(){return Bd}static get NAME(){return Ad}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(jo),Ho,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=O.trigger(this._element,this.constructor.eventName(Id)),n=(qr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(o),O.trigger(this._element,this.constructor.eventName(Pd))),this._popper=this._createPopper(o),o.classList.add(Es),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))O.on(i,"mouseover",Is);const a=()=>{O.trigger(this._element,this.constructor.eventName(Rd)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||O.trigger(this._element,this.constructor.eventName(Dd)).defaultPrevented)return;if(this._getTipElement().classList.remove(Es),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))O.off(o,"mouseover",Is);this._activeTrigger[Od]=!1,this._activeTrigger[fn]=!1,this._activeTrigger[Jt]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName(Ld)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(_n,Es),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Ol(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(_n),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Sd({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[xd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(_n)}_isShown(){return this.tip&&this.tip.classList.contains(Es)}_createPopper(e){const t=Ne(this._config.placement,[this,e,this._element]),n=Ud[t.toUpperCase()];return to(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Ne(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...Ne(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")O.on(this._element,this.constructor.eventName(Md),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==$d){const n=t===Jt?this.constructor.eventName(jd):this.constructor.eventName(Fd),o=t===Jt?this.constructor.eventName(Hd):this.constructor.eventName(Vd);O.on(this._element,n,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusin"?fn:Jt]=!0,a._enter()}),O.on(this._element,o,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusout"?fn:Jt]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(jo),Ho,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=et.getDataAttributes(this._element);for(const n of Object.keys(t))Cd.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:lt(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Gt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Be(Gt);const Kd="popover",zd=".popover-header",Gd=".popover-body",Yd={...Gt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},qd={...Gt.DefaultType,content:"(null|string|element|function)"};class ro extends Gt{static get Default(){return Yd}static get DefaultType(){return qd}static get NAME(){return Kd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[zd]:this._getTitle(),[Gd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=ro.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Be(ro);const Xd="scrollspy",Qd="bs.scrollspy",ao=`.${Qd}`,Jd=".data-api",Zd=`activate${ao}`,Uo=`click${ao}`,e_=`load${ao}${Jd}`,t_="dropdown-item",St="active",s_='[data-bs-spy="scroll"]',pn="[href]",n_=".nav, .list-group",Wo=".nav-link",o_=".nav-item",r_=".list-group-item",a_=`${Wo}, ${o_} > ${Wo}, ${r_}`,i_=".dropdown",l_=".dropdown-toggle",c_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},u_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ys extends Ke{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return c_}static get DefaultType(){return u_}static get NAME(){return Xd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=lt(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,Uo),O.on(this._config.target,Uo,pn,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=a=>this._targetLinks.get(`#${a.target.id}`),n=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},o=(this._rootElement||document.documentElement).scrollTop,r=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}const i=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&i){if(n(a),!o)return;continue}!r&&!i&&n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(pn,this._config.target);for(const t of e){if(!t.hash||ct(t))continue;const n=W.findOne(decodeURI(t.hash),this._element);Kt(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(St),this._activateParents(e),O.trigger(this._element,Zd,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(t_)){W.findOne(l_,e.closest(i_)).classList.add(St);return}for(const t of W.parents(e,n_))for(const n of W.prev(t,a_))n.classList.add(St)}_clearActiveClass(e){e.classList.remove(St);const t=W.find(`${pn}.${St}`,e);for(const n of t)n.classList.remove(St)}static jQueryInterface(e){return this.each(function(){const t=Ys.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}O.on(window,e_,()=>{for(const s of W.find(s_))Ys.getOrCreateInstance(s)});Be(Ys);const d_="tab",__="bs.tab",wt=`.${__}`,f_=`hide${wt}`,p_=`hidden${wt}`,v_=`show${wt}`,h_=`shown${wt}`,m_=`click${wt}`,g_=`keydown${wt}`,y_=`load${wt}`,b_="ArrowLeft",Bo="ArrowRight",E_="ArrowUp",Ko="ArrowDown",vn="Home",zo="End",mt="active",Go="fade",hn="show",w_="dropdown",ba=".dropdown-toggle",T_=".dropdown-menu",mn=`:not(${ba})`,k_='.list-group, .nav, [role="tablist"]',S_=".nav-item, .list-group-item",A_=`.nav-link${mn}, .list-group-item${mn}, [role="tab"]${mn}`,Ea='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gn=`${A_}, ${Ea}`,C_=`.${mt}[data-bs-toggle="tab"], .${mt}[data-bs-toggle="pill"], .${mt}[data-bs-toggle="list"]`;class Ht extends Ke{constructor(e){super(e),this._parent=this._element.closest(k_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,g_,t=>this._keydown(t)))}static get NAME(){return d_}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?O.trigger(t,f_,{relatedTarget:e}):null;O.trigger(e,v_,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(mt),this._activate(W.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(hn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),O.trigger(e,h_,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Go))}_deactivate(e,t){if(!e)return;e.classList.remove(mt),e.blur(),this._deactivate(W.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(hn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),O.trigger(e,p_,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Go))}_keydown(e){if(![b_,Bo,E_,Ko,vn,zo].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!ct(o));let n;if([vn,zo].includes(e.key))n=t[e.key===vn?0:t.length-1];else{const o=[Bo,Ko].includes(e.key);n=so(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),Ht.getOrCreateInstance(n).show())}_getChildren(){return W.find(gn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=W.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(w_))return;const o=(r,a)=>{const i=W.findOne(r,n);i&&i.classList.toggle(a,t)};o(ba,mt),o(T_,hn),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(mt)}_getInnerElement(e){return e.matches(gn)?e:W.findOne(gn,e)}_getOuterElement(e){return e.closest(S_)||e}static jQueryInterface(e){return this.each(function(){const t=Ht.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}O.on(document,m_,Ea,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!ct(this)&&Ht.getOrCreateInstance(this).show()});O.on(window,y_,()=>{for(const s of W.find(C_))Ht.getOrCreateInstance(s)});Be(Ht);const N_="toast",x_="bs.toast",ft=`.${x_}`,O_=`mouseover${ft}`,$_=`mouseout${ft}`,D_=`focusin${ft}`,L_=`focusout${ft}`,I_=`hide${ft}`,R_=`hidden${ft}`,P_=`show${ft}`,M_=`shown${ft}`,F_="fade",Yo="hide",ws="show",Ts="showing",V_={animation:"boolean",autohide:"boolean",delay:"number"},j_={animation:!0,autohide:!0,delay:5e3};class qs extends Ke{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return j_}static get DefaultType(){return V_}static get NAME(){return N_}show(){if(O.trigger(this._element,P_).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(F_);const t=()=>{this._element.classList.remove(Ts),O.trigger(this._element,M_),this._maybeScheduleHide()};this._element.classList.remove(Yo),cs(this._element),this._element.classList.add(ws,Ts),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||O.trigger(this._element,I_).defaultPrevented)return;const t=()=>{this._element.classList.add(Yo),this._element.classList.remove(Ts,ws),O.trigger(this._element,R_)};this._element.classList.add(Ts),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ws),super.dispose()}isShown(){return this._element.classList.contains(ws)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,O_,e=>this._onInteraction(e,!0)),O.on(this._element,$_,e=>this._onInteraction(e,!1)),O.on(this._element,D_,e=>this._onInteraction(e,!0)),O.on(this._element,L_,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=qs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ks(qs);Be(qs);/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let wa;const Xs=s=>wa=s,Ta=Symbol();function Ln(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var os;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(os||(os={}));function H_(){const s=yr(!0),e=s.run(()=>f({}));let t=[],n=[];const o=br({install(r){Xs(o),o._a=r,r.provide(Ta,o),r.config.globalProperties.$pinia=o,n.forEach(a=>t.push(a)),n=[]},use(r){return!this._a&&!$a?n.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const ka=()=>{};function qo(s,e,t,n=ka){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&Pa()&&Ma(o),o}function At(s,...e){s.slice().forEach(t=>{t(...e)})}const U_=s=>s(),Xo=Symbol(),yn=Symbol();function In(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];Ln(o)&&Ln(n)&&s.hasOwnProperty(t)&&!Ds(n)&&!Er(n)?s[t]=In(o,n):s[t]=n}return s}const W_=Symbol();function B_(s){return!Ln(s)||!s.hasOwnProperty(W_)}const{assign:rt}=Object;function K_(s){return!!(Ds(s)&&s.effect)}function z_(s,e,t,n){const{state:o,actions:r,getters:a}=e,i=t.state.value[s];let l;function u(){i||(t.state.value[s]=o?o():{});const d=Va(t.state.value[s]);return rt(d,r,Object.keys(a||{}).reduce((b,h)=>(b[h]=br(Z(()=>{Xs(t);const _=t._s.get(s);return a[h].call(_,_)})),b),{}))}return l=Sa(s,u,e,t,n,!0),l}function Sa(s,e,t={},n,o,r){let a;const i=rt({actions:{}},t),l={deep:!0};let u,d,b=[],h=[],_;const E=n.state.value[s];!r&&!E&&(n.state.value[s]={}),f({});let y;function p(N){let $;u=d=!1,typeof N=="function"?(N(n.state.value[s]),$={type:os.patchFunction,storeId:s,events:_}):(In(n.state.value[s],N),$={type:os.patchObject,payload:N,storeId:s,events:_});const M=y=Symbol();Fa().then(()=>{y===M&&(u=!0)}),d=!0,At(b,$,n.state.value[s])}const x=r?function(){const{state:$}=t,M=$?$():{};this.$patch(X=>{rt(X,M)})}:ka;function T(){a.stop(),b=[],h=[],n._s.delete(s)}const g=(N,$="")=>{if(Xo in N)return N[yn]=$,N;const M=function(){Xs(n);const X=Array.from(arguments),ne=[],oe=[];function z(Q){ne.push(Q)}function V(Q){oe.push(Q)}At(h,{args:X,name:M[yn],store:P,after:z,onError:V});let B;try{B=N.apply(this&&this.$id===s?this:P,X)}catch(Q){throw At(oe,Q),Q}return B instanceof Promise?B.then(Q=>(At(ne,Q),Q)).catch(Q=>(At(oe,Q),Promise.reject(Q))):(At(ne,B),B)};return M[Xo]=!0,M[yn]=$,M},k={_p:n,$id:s,$onAction:qo.bind(null,h),$patch:p,$reset:x,$subscribe(N,$={}){const M=qo(b,N,$.detached,()=>X()),X=a.run(()=>rs(()=>n.state.value[s],ne=>{($.flush==="sync"?d:u)&&N({storeId:s,type:os.direct,events:_},ne)},rt({},l,$)));return M},$dispose:T},P=La(k);n._s.set(s,P);const R=(n._a&&n._a.runWithContext||U_)(()=>n._e.run(()=>(a=yr()).run(()=>e({action:g}))));for(const N in R){const $=R[N];if(Ds($)&&!K_($)||Er($))r||(E&&B_($)&&(Ds($)?$.value=E[N]:In($,E[N])),n.state.value[s][N]=$);else if(typeof $=="function"){const M=g($,N);R[N]=M,i.actions[N]=$}}return rt(P,R),rt(Ia(P),R),Object.defineProperty(P,"$state",{get:()=>n.state.value[s],set:N=>{p($=>{rt($,N)})}}),n._p.forEach(N=>{rt(P,a.run(()=>N({store:P,app:n._a,pinia:n,options:i})))}),E&&r&&t.hydrate&&t.hydrate(P.$state,E),u=!0,d=!0,P}/*! #__NO_SIDE_EFFECTS__ */function Yt(s,e,t){let n,o;const r=typeof e=="function";typeof s=="string"?(n=s,o=r?t:e):(o=s,n=s.id);function a(i,l){const u=Ra();return i=i||(u?Da(Ta,null):null),i&&Xs(i),i=wa,i._s.has(n)||(r?Sa(n,e,o,i):z_(n,o,i)),i._s.get(n)}return a.$id=n,a}function G_(s){return typeof s=="object"&&s!==null}function Qo(s,e){return s=G_(s)?s:Object.create(null),new Proxy(s,{get(t,n,o){return n==="key"?Reflect.get(t,n,o):Reflect.get(t,n,o)||Reflect.get(e,n,o)}})}function Y_(s,e){return e.reduce((t,n)=>t==null?void 0:t[n],s)}function q_(s,e,t){return e.slice(0,-1).reduce((n,o)=>/^(__proto__)$/.test(o)?{}:n[o]=n[o]||{},s)[e[e.length-1]]=t,s}function X_(s,e){return e.reduce((t,n)=>{const o=n.split(".");return q_(t,o,Y_(s,o))},{})}function Q_(s,e){return t=>{var n;try{const{storage:o=localStorage,beforeRestore:r=void 0,afterRestore:a=void 0,serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:u=null,debug:d=!1}=t;return{storage:o,beforeRestore:r,afterRestore:a,serializer:i,key:((n=s.key)!=null?n:b=>b)(typeof l=="string"?l:l(e.$id)),paths:u,debug:d}}catch(o){return t.debug&&console.error("[pinia-plugin-persistedstate]",o),null}}}function Jo(s,{storage:e,serializer:t,key:n,debug:o}){try{const r=e==null?void 0:e.getItem(n);r&&s.$patch(t==null?void 0:t.deserialize(r))}catch(r){o&&console.error("[pinia-plugin-persistedstate]",r)}}function Zo(s,{storage:e,serializer:t,key:n,paths:o,debug:r}){try{const a=Array.isArray(o)?X_(s,o):s;e.setItem(n,t.serialize(a))}catch(a){r&&console.error("[pinia-plugin-persistedstate]",a)}}function J_(s={}){return e=>{const{auto:t=!1}=s,{options:{persist:n=t},store:o,pinia:r}=e;if(!n)return;if(!(o.$id in r.state.value)){const i=r._s.get(o.$id.replace("__hot:",""));i&&Promise.resolve().then(()=>i.$persist());return}const a=(Array.isArray(n)?n.map(i=>Qo(i,s)):[Qo(n,s)]).map(Q_(s,o)).filter(Boolean);o.$persist=()=>{a.forEach(i=>{Zo(o.$state,i)})},o.$hydrate=({runHooks:i=!0}={})=>{a.forEach(l=>{const{beforeRestore:u,afterRestore:d}=l;i&&(u==null||u(e)),Jo(o,l),i&&(d==null||d(e))})},a.forEach(i=>{const{beforeRestore:l,afterRestore:u}=i;l==null||l(e),Jo(o,i),u==null||u(e),o.$subscribe((d,b)=>{Zo(b,i)},{detached:!0})})}}var Z_=J_();const qt=Yt("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=f([]),t=f(new Oe([],s)),n=f(!1),o=structuredClone(s);o.keys=[];const r=structuredClone(s);r.keys=["name","type"];const a=f(new Oe([],o)),i=f(new Oe([],o)),l=f(new Oe([],o)),u=f(new Oe([],r)),d=f(new Oe([],r)),b=f(new Oe([],r));function h(p){n.value=p}function _(p){const x=p.split("/");x.length===3&&e.value.push(x[0]+".msg."+x[2])}function E(p){e.value=[],a.value.setCollection(p.topics),i.value.setCollection(p.services),l.value.setCollection(p.actions),p.topics.forEach(_),t.value.setCollection(e.value)}function y(p){u.value.setCollection(p.topics),d.value.setCollection(p.services),b.value.setCollection(p.actions)}return{messages:e,messages_fuse:t,messages_available:n,ros_topic_type_fuse:a,ros_service_type_fuse:i,ros_action_type_fuse:l,ros_topic_name_fuse:u,ros_service_name_fuse:d,ros_action_name_fuse:b,areMessagesAvailable:h,updateAvailableMessages:E,updateMessageChannels:y}}),Qs=Yt("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=f([]),t=f(new Oe([],s)),n=f(!1);function o(a){n.value=a}function r(a){e.value=a,t.value=new Oe(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:r}}),Te=Yt("ros",()=>{const s=qt(),e=Qs(),t=f(new j.Ros({})),n=Z(()=>t.value.isConnected),o=f("ws://"+window.location.hostname+":9090"),r=f(""),a=f(["/"]),i=f(new j.Service({ros:t.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),l=f(new j.Service({ros:t.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),u=f(new j.Service({ros:t.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),d=f(new j.Service({ros:t.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),b=f(new j.Service({ros:t.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),h=f(new j.Service({ros:t.value,name:r.value+"add_node",serviceType:"ros_bt_py_interfaces/srv/AddNode"})),_=f(new j.Service({ros:t.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),E=f(new j.Topic({ros:t.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0})),y=f(new j.Topic({ros:t.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0})),p=f(new j.Topic({ros:t.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),x=f(new j.Topic({ros:t.value,name:r.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0})),T=f(new j.Topic({ros:t.value,name:r.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0})),g=f(new j.Service({ros:t.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),k=f(new j.Service({ros:t.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),P=f(new j.Service({ros:t.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),F=f(new j.Service({ros:t.value,name:r.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),R=f(new j.Service({ros:t.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),N=f(new j.Service({ros:t.value,name:r.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),$=f(new j.Service({ros:t.value,name:r.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),M=f(new j.Service({ros:t.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),X=f(new j.Service({ros:t.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),ne=f(new j.Service({ros:t.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),oe=f(new j.Service({ros:t.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),z=f(new j.Service({ros:t.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),V=f(new j.Service({ros:t.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),B=f(new j.Service({ros:t.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),Q=f(new j.Service({ros:t.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),ae=f(new j.Service({ros:t.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),ee=f(new j.Service({ros:t.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));t.value.on("connection",()=>{de()}),t.value.on("close",()=>{ie()}),t.value.on("error",()=>{A({title:"ROS connection error!",type:"error"})});function ke(){E.value.unsubscribe(),E.value.removeAllListeners(),E.value=new j.Topic({ros:t.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0}),y.value.unsubscribe(),y.value.removeAllListeners(),y.value=new j.Topic({ros:t.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0}),x.value.unsubscribe(),x.value.removeAllListeners(),x.value=new j.Topic({ros:t.value,name:r.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0}),p.value.unsubscribe(),p.value.removeAllListeners(),p.value=new j.Topic({ros:t.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),T.value.unsubscribe(),T.value.removeAllListeners(),T.value=new j.Topic({ros:t.value,name:r.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0}),_.value=new j.Service({ros:t.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),i.value=new j.Service({ros:t.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),l.value=new j.Service({ros:t.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),u.value=new j.Service({ros:t.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),d.value=new j.Service({ros:t.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),b.value=new j.Service({ros:t.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),g.value=new j.Service({ros:t.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),h.value=new j.Service({ros:t.value,name:r.value+"add_node",serviceType:"ros_bt_py_interfaces/srv/AddNode"}),k.value=new j.Service({ros:t.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),P.value=new j.Service({ros:t.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),F.value=new j.Service({ros:t.value,name:r.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),N.value=new j.Service({ros:t.value,name:r.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),$.value=new j.Service({ros:t.value,name:r.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),oe.value=new j.Service({ros:t.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),ne.value=new j.Service({ros:t.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),X.value=new j.Service({ros:t.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),M.value=new j.Service({ros:t.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),z.value=new j.Service({ros:t.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),V.value=new j.Service({ros:t.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),B.value=new j.Service({ros:t.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),Q.value=new j.Service({ros:t.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),ae.value=new j.Service({ros:t.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),ee.value=new j.Service({ros:t.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"})}function Se(){t.value.connect(o.value)}function Re(_e){o.value=_e}function de(){A({title:"ROS connection established!",type:"success"})}function ie(){s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),A({title:"ROS connection closed!",type:"warn"})}function ge(_e){r.value=_e,a.value.indexOf(_e)===-1&&a.value.push(r.value),ke()}function Ae(_e){a.value=_e}return{ros:t,connected:n,url:o,namespace:r,available_namespaces:a,services_for_type_service:i,load_tree_service:l,fix_yaml_service:u,control_tree_execution_service:d,clear_tree_service:b,get_available_nodes_service:g,add_node_service:h,get_message_fields_service:k,unwire_data_service:P,remove_node_service:F,morph_node_service:$,set_options_service:N,move_node_service:M,replace_node_service:R,wire_data_service:ne,add_node_at_index_service:X,generate_subtree_service:oe,set_publish_subtrees_service:_,get_storage_folders_service:z,get_folder_structure_service:V,get_package_structure_service:B,save_tree_service:Q,change_tree_name_service:ae,load_tree_from_path_service:ee,tree_sub:E,subtree_info_sub:y,packages_sub:p,messages_sub:x,channels_sub:T,connect:Se,setUrl:Re,changeNamespace:ge,setAvailableNamespaces:Ae,hasConnected:de,hasDisconnected:ie,updateROSServices:ke}},{persist:{paths:["namespace","url","available_namespaces"],storage:sessionStorage,afterRestore:s=>{s.store.updateROSServices(),s.store.connect()}}}),Js=Yt("nodes",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},e=f([]),t=f(new Oe([],s)),n=f([]);function o(i){e.value=i;const l=i.map(u=>(u.max_children<0?u.node_type="Flow control":u.max_children>0?u.node_type="Decorator":u.node_type="Leaf",u));t.value=new Oe(l,s)}function r(i){if(i===""){n.value=[];return}n.value=t.value.search(i).map(l=>l.item)}function a(){n.value=[]}return{nodes:e,nodes_fuse:t,filtered_nodes:n,updateAvailableNode:o,filterNodes:r,clearFilteredNodes:a}}),ef={class:"border rounded mb-2"},tf={key:0,class:"m-2"},sf={class:"d-grid gap-2 mb-2"},nf={class:"input-group mb-3"},of=["value"],rf=se({__name:"PackageLoader",setup(s){const e=Te(),t=Js(),n=f(!1),o=f("ros_bt_py.nodes.sequence");function r(){n.value=!n.value}function a(l){const u=l.target;o.value=u.value}function i(l){e.get_available_nodes_service.callService({node_modules:[l]},u=>{u.success?(t.updateAvailableNode(u.available_nodes),A({title:"Updated available BT nodes!",type:"success"})):A({title:"Failed to update available BT nodes!",text:u.error_message,type:"error"})},u=>{A({title:"Failed to call GetAvailableNodes service!",text:u,type:"error"})})}return Ut(()=>{i("")}),(l,u)=>{const d=$e("font-awesome-icon");return v(),D("div",ef,[c("div",{onClick:r,class:"text-center cursor-pointer font-weight-bold m-2"},[u[2]||(u[2]=le(" Package Loader ")),n.value?(v(),G(d,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(v(),G(d,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),n.value?ye("",!0):(v(),D("div",tf,[c("div",sf,[c("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:u[0]||(u[0]=()=>i(""))}," Refresh ")]),c("div",nf,[c("input",{type:"text",class:"form-control",id:"loadPackageForm","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:o.value,onChange:a},null,40,of),c("button",{type:"button",className:"btn btn-block btn-outline-primary",onClick:u[1]||(u[1]=()=>i(o.value)),id:"loadPackageFormConfirm"}," Load package ")])]))])}}});var ve=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))(ve||{}),Ms=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(Ms||{});const pe=Yt("editor",()=>{const s=f(void 0),e=f([]),t=f(!1),n=f(!1),o=f(new Set);let r=0;const a=200,i=f(),l=f(),u=f(),d=Z(()=>i.value!==void 0||l.value!==void 0||u.value!==void 0),b=f(!0),h=f("darkmode"),_=f({name:"",is_subtree:!1,tree:void 0}),E=Z(()=>e.value.map(V=>V.name)),y=f(void 0),p=f(!1);function x(V){t.value=V}function T(V){n.value=V}function g(V){o.value.add(V)}function k(V){o.value.delete(V)}function P(V){r=setTimeout(()=>i.value=V,a)}function F(V){r=setTimeout(()=>l.value=V,a)}function R(V){u.value=V}function N(){clearTimeout(r),i.value=void 0,l.value=void 0,u.value=void 0}function $(){u.value=void 0}function M(V){b.value=V}function X(){switch(h.value){case"darkmode":h.value="lightmode";return;case"lightmode":h.value="darkmode";return;default:h.value="darkmode";return}}function ne(V,B){let Q;if(B){if(e.value.length===0){A({title:"No Subtree Information received!",type:"error"});return}Q=e.value.find(ae=>ae.name===V)}_.value={name:V,is_subtree:B,tree:Q}}function oe(V){y.value=V}function z(){y.value=void 0}return{tree:s,publish_subtrees:t,debug:n,subtree_states:e,running_commands:o,dragging_new_node:i,dragging_existing_node:l,data_edge_endpoint:u,is_dragging:d,is_layer_mode:p,runNewCommand:g,removeRunningCommand:k,enableSubtreePublishing:x,enableDebugging:T,startDraggingNewNode:P,startDraggingExistingNode:F,startDrawingDataEdge:R,stopDragging:N,stopDrawingDataEdge:$,show_data_graph:b,enableShowDataGraph:M,skin:h,cycleEditorSkin:X,selected_subtree:_,selectSubtree:ne,subtree_names:E,selected_edge:y,selectEdge:oe,unselectEdge:z}}),me=new Map,er="collections.OrderedDict";me.set(er,{"py/reduce":[{"py/type":er},{"py/tuple":[[]]},null,null,null]});const tr="ros_bt_py.ros_helpers.LoggerLevel";me.set(tr,{"py/object":tr,logger_level:"Debug"});const Rn="ros_bt_py.helpers.MathUnaryOperator";me.set(Rn,{"py/object":Rn,operator:"sqrt"});const Pn="ros_bt_py.helpers.MathBinaryOperator";me.set(Pn,{"py/object":Pn,operator:"+"});const Mn="ros_bt_py.helpers.MathOperandType";me.set(Mn,{"py/object":Mn,operand_type:"float"});const Fn="ros_bt_py.helpers.MathUnaryOperandType";me.set(Fn,{"py/object":Fn,operand_type:"float"});const sr="ros_bt_py.ros_helpers.EnumValue";me.set(sr,{"py/object":sr,enum_value:"",field_names:[]});const Vn="ros_bt_py.custom_types.FilePath";me.set(Vn,{"py/object":Vn,path:""});const Fs="ros_bt_py.custom_types.RosTopicType";me.set(Fs,{"py/object":Fs,type_str:"std_msgs/msg/Empty"});const Vs="ros_bt_py.custom_types.RosServiceType";me.set(Vs,{"py/object":Vs,type_str:"std_srvs/srv/Empty"});const js="ros_bt_py.custom_types.RosActionType";me.set(js,{"py/object":js,type_str:"example_interfaces/action/Fibonacci"});const jn="ros_bt_py.custom_types.RosTopicName";me.set(jn,{"py/object":jn,name:""});const Hn="ros_bt_py.custom_types.RosServiceName";me.set(Hn,{"py/object":Hn,name:""});const Un="ros_bt_py.custom_types.RosActionName";me.set(Un,{"py/object":Un,name:""});function af(s){return me.has(s)}function lf(s){return structuredClone(me.get(s))}var Je=(s=>(s.FILE="file",s.DIR="directory",s))(Je||{}),Ce=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))(Ce||{}),q=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s))(q||{});function nr(s,e){if(s.node.data.name===e.node.data.name||s.kind===e.kind)return!1;const t=s.kind===Ce.OUTPUT?s:e,n=s.kind===Ce.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:Ve(t.type)===Ve(n.type)}const Aa=["int","float","str","bool","list","dict","set","type"];function Ve(s){const e=JSON.parse(s);return e["py/type"]!==void 0?e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"string").replace(/^unicode$/,"string").replace(/^str$/,"string"):e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef"?"OptionRef("+e.option_key+")":e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function is(s,e=null){if(s==="type")return{type:"type",value:"int"};if(s==="int"||s==="long")return{type:"int",value:0};if(s==="str"||s==="basestring"||s==="unicode"||s==="string")return{type:"string",value:"foo"};if(s==="float")return{type:"float",value:1.2};if(s==="bool")return{type:"bool",value:!0};if(s==="list")return{type:"list",value:[]};if(s==="dict")return{type:"dict",value:{}};if(s.startsWith("OptionRef(")){const t=s.substring(10,s.length-1);if(e===null)return{type:"unset_optionref",value:'Ref to "'+t+'"'};const n=e.find(o=>o.key===t);return n?is(is(Ve(n.serialized_value),e).value,e):{type:"unset_optionref",value:'Ref to "'+t+'"'}}else return af(s)?{type:s,value:lf(s)||{}}:{type:"__"+s,value:{}}}function io(s){return s.map(e=>{const t={key:e.key,serialized_value:"",serialized_type:""};if(e.value.type==="type")Aa.indexOf(e.value.value)>=0&&(e.value.value="builtins."+e.value.value),t.serialized_value=JSON.stringify({"py/type":e.value.value});else if(e.value.type.startsWith("__")){const n=e.value.value;n["py/object"]=e.value.type.substring(2),t.serialized_value=JSON.stringify(e.value.value)}else t.serialized_value=JSON.stringify(e.value.value);return t})}function Ca(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}var at=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(at||{});function Na(s){let e,t;switch(s){case"Ask before overwrite":e=!1,t=!1;break;case"Overwrite file":e=!0,t=!1;break;case"Rename file":e=!1,t=!0;break;default:console.warn("Improper state for name conflict resolution strategy",s),e=!1,t=!1;break}return[e,t]}function Ct(s,e){return e=e||[],{key:s.key,value:is(Ve(s.serialized_value),e)}}const he=Yt("edit_node",()=>{const s=pe(),e=Js(),t=f(!1),n=f(!1),o=f(void 0),r=f(void 0),a=f([]),i=f("none"),l=f(""),u=f(""),d=f(""),b=f([]),h=f([]),_=f([]),E=f(!1),y=f(!1),p=Z(()=>e.nodes.filter(z=>z.max_children==-1)),x=Z(()=>p.value.filter(z=>d.value===z.module&&u.value===z.node_class).length>0),T=f(!1);function g(){n.value=!0}function k(){n.value=!1}function P(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,a.value=[],i.value="none"}function F(z){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=z,T.value=!1,t.value=!0,a.value=[],i.value="nodelist",l.value=z.name,u.value=z.node_class,d.value=z.module,E.value=!0,y.value=!1,b.value=z.options.map(V=>Ct(V,z.options)),h.value=z.inputs.map(V=>Ct(V,z.options)),_.value=z.outputs.map(V=>Ct(V,z.options))}function R(z){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const B=(s.selected_subtree.is_subtree?s.selected_subtree.tree:s.tree).nodes.find(ee=>ee.name===z);if(B===void 0){console.error("Could not find node in tree"),P();return}const Q=e.nodes.find(ee=>ee.node_class===B.node_class&&ee.module===B.module);Q===void 0&&console.error("Cannot recover node information"),o.value=B,r.value=Q,T.value=!0,t.value=!1,a.value=[z],i.value="editor",l.value=B.name,u.value=B.node_class,d.value=B.module,E.value=!0,y.value=!1;function ae(ee){const ke=Ve(ee.serialized_type);let Se=JSON.parse(ee.serialized_value);return ke==="type"&&(Se=Se["py/type"]),{key:ee.key,value:{type:ke,value:Se}}}b.value=B.options.map(ee=>ae(ee)),h.value=B.inputs.map(ee=>ae(ee)),_.value=B.outputs.map(ee=>ae(ee))}function N(z){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,i.value="multiple",a.value.forEach(V=>{const B=z.indexOf(V);B===-1?z.push(V):z.splice(B,1)}),a.value=z}function $(z){T.value=z}function M(z){n.value=!0,l.value=z}function X(z){const V=p.value.find(B=>B.module+B.node_class===z);if(console.log(V),V===void 0){console.warn("Can't locate node morph target");return}r.value=V,u.value=V.node_class,d.value=V.module,b.value=V.options.map(B=>Ct(B,V.options)),h.value=V.inputs.map(B=>Ct(B,V.options)),_.value=V.outputs.map(B=>Ct(B,V.options)),n.value=!0,y.value=!0}function ne(z,V,B){n.value=!0;function Q(ae){return ae.key===V?{key:V,value:{type:ae.value.type,value:B}}:ae}if(z.toLowerCase()==="options"){let ae=function(de){return de.filter(ie=>Ve(ie.serialized_value).startsWith("OptionRef(")).map(ie=>[ie.key,Ve(ie.serialized_value).substring(10,Ve(ie.serialized_value).length-1)]).filter(ie=>ie[1]===V)},ee=function(de,ie){const ge=de.find(Ae=>Ae[0]===ie.key);if(ge){const Ae=b.value.find(_e=>_e.key===ge[1]);if(Ae){const _e=Ae.value.value;return{key:ie.key,value:is(_e)}}}return ie};if(r.value===void 0){console.error("Cannot recover node information");return}const ke=ae(r.value.options),Se=ae(r.value.inputs),Re=ae(r.value.outputs);b.value=b.value.map(Q),b.value=b.value.map(de=>ee(ke,de)),Se.length>0&&(h.value=h.value.map(de=>ee(Se,de))),Re.length>0&&(_.value=_.value.map(de=>ee(Re,de)))}else z.toLowerCase()==="inputs"?h.value=h.value.map(Q):z.toLowerCase()==="outputs"&&(_.value=_.value.map(Q))}function oe(){return{module:d.value,node_class:u.value,name:l.value,max_children:0,child_names:[],options:io(b.value),inputs:[],outputs:[],version:"",state:""}}return{selected_node:o,reference_node:r,selected_node_names:a,last_seletion_source:i,node_has_changed:n,copy_node_mode:T,node_is_valid:E,node_is_morphed:y,new_node_name:l,new_node_class:u,new_node_module:d,new_node_options:b,new_node_inputs:h,new_node_outputs:_,flow_control_nodes:p,is_flow_control_node:x,nodeListSelectionChange:F,editorSelectionChange:R,selectMultipleNodes:N,clearSelection:P,setNodeHasChanged:g,clearNodeHasChanged:k,changeCopyMode:$,changeNodeName:M,changeNodeClass:X,updateParamValue:ne,buildNodeMsg:oe}}),cf={class:"io_values list-group-item"},uf={class:"table"},df=["title"],_f=["title"],bn=se({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){return(e,t)=>(v(),D("div",cf,[c("h5",null,H(e.title),1),c("table",uf,[c("tbody",null,[(v(!0),D(re,null,fe(e.io_node_data,n=>(v(),D("tr",{key:e.title+n.key},[c("td",{title:n.key,class:"io_key text-truncate maxw0"},H(n.key),9,df),c("td",{title:m(Ve)(n.serialized_value),class:"io_type text-truncate maxw0 text-muted pl-2"},H(m(Ve)(n.serialized_value)),9,_f)]))),128))])])]))}}),ff={class:"d-flex justify-content-between"},pf={class:"d-flex w-100"},vf={class:"text-truncate"},hf=["title"],mf={key:0},gf={key:0,class:"list-group-item mt-1"},yf={class:"list-group"},bf=se({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=pe(),n=he(),o=Z(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),r=Z(()=>o.value?"border-primary":"grab"),a=Z(()=>e.node.max_children<0?"Flow control":e.node.max_children>0?"Decorator":"Leaf"),i=f(!0);function l(){console.log("click "+e.node.name),n.nodeListSelectionChange(e.node)}return(u,d)=>{const b=$e("font-awesome-icon");return v(),D("div",{class:be(["border rounded p-2 m-2",r.value]),tabindex:"0",onClick:l,onMousedown:d[1]||(d[1]=ja(()=>m(t).startDraggingNewNode(u.node),["stop","prevent"])),onKeydown:d[2]||(d[2]=h=>{h.key=="Enter"&&m(n).nodeListSelectionChange(u.node)})},[c("div",ff,[c("div",pf,[c("h4",vf,H(u.node.node_class),1),K(b,{icon:"fa-solid fa-question-circle",class:"ps-2 pe-2","aria-hidden":"true",title:m(Ca)(u.node.doc)},null,8,["title"]),K(b,{icon:"fa-solid "+(i.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:d[0]||(d[0]=()=>{i.value=!i.value})},null,8,["icon"])])]),c("h5",{title:u.node.module,class:"node_module text-truncate text-muted"},H(u.node.module),9,hf),c("div",null,H(a.value+" (max_children: "+(e.node.max_children>=0?e.node.max_children:"∞")+")"),1),i.value?ye("",!0):(v(),D("div",mf,[u.node.tags.length>0?(v(),D("div",gf,[d[3]||(d[3]=le(" Tags: ")),(v(!0),D(re,null,fe(u.node.tags,h=>(v(),D("span",{class:"border rounded p-2 m-1 tag",key:h},H(h),1))),128))])):ye("",!0),c("div",yf,[u.node.options.length>0?(v(),G(bn,{key:0,title:"Options",io_node_data:u.node.options},null,8,["io_node_data"])):ye("",!0),u.node.inputs.length>0?(v(),G(bn,{key:1,title:"Inputs",io_node_data:u.node.inputs},null,8,["io_node_data"])):ye("",!0),u.node.outputs.length>0?(v(),G(bn,{key:2,title:"Outputs",io_node_data:u.node.outputs},null,8,["io_node_data"])):ye("",!0)])]))],34)}}});const fs=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},Ef=fs(bf,[["__scopeId","data-v-3827c077"]]),wf={class:"border rounded m-1 pb-2 d-flex flex-column"},Tf={key:0,class:"scroll-col flex-shrink-1"},kf=se({__name:"NodeList",setup(s){const e=f(!1),t=Js(),n=function(a,i){return a.node_class<i.node_class?-1:a.node_class>i.node_class?1:0},o=function(a,i){return a.module<i.module?-1:a.module>i.module?1:n(a,i)},r=Z(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let a=[...t.nodes].sort(n);return a=a.sort(o),a}});return(a,i)=>{const l=$e("font-awesome-icon");return v(),D("div",wf,[c("div",{onClick:i[0]||(i[0]=()=>{e.value=!e.value}),class:"text-center cursor-pointer m-2"},[i[1]||(i[1]=le(" Node List ")),K(l,{icon:"fa-solid "+(e.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),e.value?ye("",!0):(v(),D("div",Tf,[(v(!0),D(re,null,fe(r.value,u=>(v(),G(Ef,{key:u.node_class+u.module,node:u},null,8,["node"]))),128))]))])}}});const Sf=fs(kf,[["__scopeId","data-v-530feb52"]]),Af={class:"input-group my-2"},Cf=["value"],Nf={label:"Subtrees"},xf=["value"],Of=["checked"],or="publish_subtrees",$f=se({__name:"SelectSubtree",setup(s){const e=pe(),t=Te();function n(a){const i=a.target;if(!t.connected){A({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}t.set_publish_subtrees_service.callService({data:i.checked},l=>{l.success?(A({title:(i.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(i.checked)):A({title:"Failed to toggle subtree publishing",text:l.message,type:"warn"})},l=>{A({title:"Failed to call setPublishSubtrees service",text:l,type:"error"})})}function o(a){const i=a.target,l=parseInt(i.value);l<0?e.selectSubtree("",!1):e.selectSubtree(e.subtree_names[l],!0)}const r=Z(()=>e.selected_subtree.is_subtree?e.selected_subtree.name:"main");return(a,i)=>{const l=$e("font-awesome-icon");return v(),D("div",null,[c("div",Af,[i[1]||(i[1]=c("label",{class:"input-group-text",for:"formTree"}," Tree ",-1)),c("select",{id:"formTree",class:"form-select",value:m(e).subtree_names.indexOf(r.value),onChange:o},[i[0]||(i[0]=c("option",{value:"-1"},"Main Tree",-1)),c("optgroup",Nf,[(v(!0),D(re,null,fe(m(e).subtree_names,(u,d)=>(v(),D("option",{key:u,value:d},H(u),9,xf))),128))])],40,Cf),c("input",{type:"checkbox",id:or,class:"btn-check",autocomplete:"off",checked:m(e).publish_subtrees,onChange:n},null,40,Of),c("label",{class:"btn btn-primary",for:or,title:"Publish subtrees"},[K(l,{class:be(m(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])])}}}),Df=["visibility"],Lf=["href"],If=["href"],Rf=["href"],Pf=["visibility"],Mf=["fill"],Ff=30,Pe=50,ks=10,Me=15,Zt=10,rr=10,Vf=100,jf=5,ar=50,Qe="__forest_root",ot=80,ir=150,Ss="node",es="btnode",lr="node_name",cr="class_name",ur="link",As="drop_target",ts="gripper-group",dr="gripper",Nt="label",_r="label-type",Cs="data-link",fr="hightlightEdge",En="highlightV1",pr="highlightV2",xt="data-hover",wn="compatible",Hf="node-selected",Ns="data-select",Uf=se({__name:"D3BehaviorTreeEditor",setup(s){const e=pe(),t=he(),n=Te(),o=f(),r=f(),a=f(),i=f(),l=f(),u=f(),d=f(),b=f(),h=f(),_=f();let E,y=!1,p=!1,x=0,T=0;const g=f([]);let k,P=[0,0],F;function R(){if(o.value===void 0||r.value===void 0||E===void 0){A({title:"Element reference undefined!",type:"error"});return}const C=te(o.value),S=C.node().getBoundingClientRect().height;C.call(E.translateTo,0,S*.5-10)}function N(C){const S=C.options.map(w=>({key:w.key,value:is(Ve(w.serialized_value),C.options)}));return{module:C.module,node_class:C.node_class,name:C.name,options:io(S),child_names:[],inputs:[],outputs:[],version:"",max_children:0,state:""}}function $(){if(o.value===void 0)return;if(!e.is_dragging){k!==void 0&&(window.clearInterval(k),P=[]);return}const C=o.value.getBoundingClientRect().width,S=o.value.getBoundingClientRect().height,w=hs(o.value);let L=!1;if(P=[0,0],w[0]<Pe){L=!0;const I=(Pe-w[0])/Pe;P[0]=ks*I}else if(w[0]>C-Pe){L=!0;const I=(Pe-(C-w[0]))/Pe;P[0]=-1*ks*I}if(w[1]<Pe){L=!0;const I=(Pe-w[1])/Pe;P[1]=ks*I}else if(w[1]>S-Pe){L=!0;const I=(Pe-(S-w[1]))/Pe;P[1]=-1*ks*I}if(!L&&k!==void 0){window.clearInterval(k),k=void 0;return}k===void 0&&(k=window.setInterval(M,1e3/Ff))}function M(){if(!e.is_dragging&&k){window.clearInterval(k),k=void 0;return}te(o.value).call(E.translateBy,P[0],P[1])}vs(X);function X(){if(e.tree===void 0){console.warn("Tree is undefined");return}if(a.value===void 0){console.warn("DOM is broken");return}F=qa().duration(100).ease(Xa);const C=Y=>({key:Y.key,serialized_type:Y.serialized_type}),S=e.selected_subtree.is_subtree?e.selected_subtree.tree:e.tree,w=S.nodes.map(Y=>({node_class:Y.node_class,module:Y.module,name:Y.name,state:Y.state,max_children:Y.max_children,child_names:Y.child_names,options:Y.options.map(C),inputs:Y.inputs.map(C),outputs:Y.outputs.map(C),size:{width:1,height:1}})),L={node_class:"",module:"",state:"",max_children:-1,name:Qe,child_names:[],inputs:[],outputs:[],options:[],size:{width:0,height:0}};w.findIndex(Y=>Y.name===Qe)<0&&w.push(L);const I={};for(const Y in w){const ue=w[Y];for(const pt in ue.child_names)I[ue.child_names[pt]]=ue.name}const U=Qa().id(Y=>Y.name).parentId(Y=>Y.name in I?I[Y.name]:Y.name===L.name?void 0:(L.child_names.push(Y.name),L.name))(w);U.sort(function(Y,ue){if(Y.depth!==ue.depth)return ue.depth-Y.depth;for(;Y.parent!==ue.parent;)Y=Y.parent,ue=ue.parent;const pt=Y.parent.data.child_names;return pt.findIndex(vt=>vt===Y.data.name)-pt.findIndex(vt=>vt===ue.data.name)});const xe=te(a.value).selectAll("."+Ss).data(U.descendants().filter(Y=>Y.data.name!==Qe),Y=>Y.id).join(ne).call(oe).call(z),ce=V(xe,U);B(ce),Q(ce),ie(ce,S.data_wirings)}function ne(C){const S=C.append("foreignObject").classed(Ss,!0).classed("node--internal",L=>L.children!==void 0&&L.children.length>0).classed("node--leaf",L=>L.children===void 0||L.children.length==0).on("click.select",L=>{ze.shiftKey?t.selectMultipleNodes([L.data.name]):t.editorSelectionChange(L.data.name),ze.stopPropagation()});e.selected_subtree.is_subtree||S.on("mousedown.dragdrop",L=>{e.startDraggingExistingNode(L),ze.stopPropagation()});const w=S.append("xhtml:body").classed(es+" p-2",!0).style("min-height",L=>{const I=L.data.inputs||[],U=L.data.outputs||[],J=Math.max(I.length,U.length);return(Me+Zt)*J+"px"});return w.append("h4").classed(lr,!0),w.append("h5").classed(cr,!0),S}function oe(C){const S=C.select("."+es);S.select("."+lr).html(L=>L.data.name),S.select("."+cr).html(L=>L.data.node_class);const w=Ja(o.value).k;return S.each(function(L){const I=this.getBoundingClientRect();L.data.size.width=I.width/w,L.data.size.height=I.height/w}),C.transition(F).attr("width",L=>L.data.size.width).attr("height",L=>L.data.size.height),C}function z(C){C.select("."+es).transition(F).style("border-color",S=>{switch(S.data.state){case"RUNNING":return"var(--node-color-running)";case"IDLE":return"var(--node-color-idle)";case"SUCCEEDED":return"var(--node-color-succeeded)";case"FAILED":return"var(--node-color-failed)";case"SHUTDOWN":return"var(--node-color-shutdown)";case"UNINITIALIZED":default:return"var(--node-color-default)"}})}function V(C,S){const w=Array(S.height+1).fill(0);C.each(I=>{w[I.depth]=Math.max(I.data.size.height,w[I.depth])});const L=Za({nodeSize:I=>{let U;return e.is_layer_mode?U=w[I.depth]:U=I.data.size.height,U+=I.depth>0?ot:0,[I.data.size.width,U]},spacing:(I,U)=>e.is_layer_mode?ot:I.parent!==U.parent?2*ot:ot})(S);return C.data(L.descendants().filter(I=>I.data.name!==Qe),I=>I.id).transition(F).attr("x",I=>I.x-I.data.size.width/2).attr("y",I=>I.y),L}function B(C){if(i.value===void 0){console.warn("DOM is broken");return}te(i.value).selectAll("."+ur).data(C.links().filter(S=>S.source.data.name!==Qe),S=>S.source.id+"###"+S.target.id).join("path").classed(ur,!0).transition(F).attr("d",ei().source(S=>{const w=S.source;return[w.x,w.y+w.data.size.height]}).target(S=>{const w=S.target;return[w.x,w.y]}))}function Q(C){if(b.value===void 0){console.warn("DOM is broken");return}const S=[];e.selected_subtree.is_subtree||C.each(w=>{w.data.name!==Qe&&(S.push({node:w,position:q.LEFT}),S.push({node:w,position:q.CENTER}),S.push({node:w,position:q.RIGHT}),S.push({node:w,position:q.TOP}),(w.data.max_children===-1||w.data.max_children>w.data.child_names.length)&&S.push({node:w,position:q.BOTTOM}))}),S.length===0&&(C.data.size.width=ir,C.data.size.height=ir,S.push({node:C,position:q.CENTER})),te(b.value).selectAll("."+As).data(S,w=>w.node.id+"###"+w.position).join("rect").classed(As,!0).attr("width",w=>{switch(w.position){case q.LEFT:case q.RIGHT:return ot;case q.TOP:case q.BOTTOM:case q.CENTER:return w.node.data.size.width;default:return 0}}).attr("height",w=>{switch(w.position){case q.LEFT:case q.RIGHT:case q.CENTER:return w.node.data.size.height;case q.TOP:case q.BOTTOM:return .45*ot;default:return 0}}).attr("x",w=>{switch(w.position){case q.LEFT:return w.node.x-ot-.5*w.node.data.size.width;case q.RIGHT:return w.node.x+.5*w.node.data.size.width;case q.TOP:case q.BOTTOM:case q.CENTER:return w.node.x-.5*w.node.data.size.width;default:return 0}}).attr("y",w=>{switch(w.position){case q.LEFT:case q.RIGHT:case q.CENTER:return w.node.y;case q.TOP:return w.node.y-.5*ot;case q.BOTTOM:return w.node.y+w.node.data.size.height;default:return 0}}).attr("opacity",.2).on("mouseover.highlight",function(){te(this).attr("opacity",.8)}).on("mouseout.highlight",function(){te(this).attr("opacity",.2)}).on("mouseup.dragdrop",w=>{e.dragging_new_node?Se(w):e.dragging_existing_node?ee(w):console.warn("Unintended drag release")})}function ae(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}function ee(C){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const S=e.dragging_existing_node.data.name;let w="",L=-1;C.node.parent&&(C.position===q.BOTTOM?(w=C.node.data.name,L=0):C.node.parent.data.name!==Qe&&(w=C.node.parent.data.name,L=C.node.parent.children.indexOf(C.node)),C.position===q.RIGHT&&L++,w===e.dragging_existing_node.parent.data.name&&L>C.node.parent.children.findIndex(I=>I.data.name===S)&&L--),n.move_node_service.callService({node_name:S,new_parent_name:w,new_child_index:L},I=>{I.success?(A({title:"Moved node "+S,type:"success"}),de(S,C)):A({title:"Failed to move node "+C.node.data.name,text:I.error_message,type:"warn"})},I=>{A({title:"Failed to call moveNode service",text:I,type:"error"})})}vs(ke);function ke(){if(b.value===void 0){console.warn("DOM is broken");return}const C=te(b.value).selectAll("."+As).attr("visibility",null);e.dragging_existing_node!==void 0&&(C.filter(S=>e.dragging_existing_node.descendants().find(w=>w.data.name===S.node.data.name)!==void 0).attr("visibility","hidden"),C.filter(S=>{switch(S.position){case q.CENTER:return e.dragging_existing_node.data.max_children!==-1&&S.node.data.child_names.length+e.dragging_existing_node.data.child_names.length>e.dragging_existing_node.data.max_children;case q.TOP:return e.dragging_existing_node.data.child_names.length>=e.dragging_existing_node.data.max_children;case q.BOTTOM:return S.node.data.max_children!==-1&&S.node.data.name!==e.dragging_existing_node.parent.data.name&&S.node.data.child_names.length>=S.node.data.max_children;case q.LEFT:case q.RIGHT:return S.node.parent.data.max_children!==-1&&S.node.parent.data.name!==e.dragging_existing_node.parent.data.name&&S.node.parent.data.child_names.length>=S.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden"))}function Se(C){let S;if(e.dragging_new_node!==void 0)S=N(e.dragging_new_node);else{console.warn("Tried to add new node by dragging but none selected");return}let w="",L=-1;C.node.parent&&(C.position===q.BOTTOM?(w=C.node.data.name,L=0):C.node.parent.data.name!==Qe&&(w=C.node.parent.data.name,L=C.node.parent.children.indexOf(C.node)),C.position===q.RIGHT&&L++),n.add_node_at_index_service.callService({parent_name:w,node:S,allow_rename:!0,new_child_index:L},I=>{I.success?(A({title:"Added node "+I.actual_node_name,type:"success"}),C.node.parent&&de(I.actual_node_name,C)):A({title:"Failed to add node "+S.name,text:I.error_message,type:"warn"})},I=>{A({title:"Failed to call addNodeAtIndex service",text:I,type:"error"})})}vs(Re);function Re(){if(b.value===void 0){console.warn("DOM is broken");return}const C=te(b.value).selectAll("."+As).attr("visibility",null);e.dragging_new_node!==void 0&&C.filter(S=>{switch(S.position){case q.CENTER:return e.dragging_new_node.max_children!==-1&&S.node.data.child_names.length>e.dragging_new_node.max_children;case q.TOP:return e.dragging_new_node.max_children===0;case q.BOTTOM:return S.node.data.max_children!==-1&&S.node.data.child_names.length>=S.node.data.max_children;case q.LEFT:case q.RIGHT:return S.node.parent.data.max_children!==-1&&S.node.parent.data.child_names.length>=S.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden")}function de(C,S){if(C===""){console.warn("Didn't get a node name back");return}S.position===q.TOP&&n.move_node_service.callService({node_name:S.node.data.name,new_parent_name:C,new_child_index:0},w=>{w.success?A({title:"Moved node "+S.node.data.name,type:"success"}):A({title:"Failed to move node "+S.node.data.name,text:w.error_message,type:"warn"})},w=>{A({title:"Failed to call moveNode service",text:w,type:"error"})}),S.position===q.CENTER&&(S.node.data.child_names.forEach(w=>{n.move_node_service.callService({node_name:w,new_parent_name:C,new_child_index:-1},L=>{L.success?A({title:"Moved node "+w,type:"success"}):A({title:"Failed to move node "+w,text:L.error_message,type:"warn"})},L=>{A({title:"Failed to call moveNode service",text:L,type:"error"})})}),n.remove_node_service.callService({node_name:S.node.data.name,remove_children:!1},w=>{w.success?A({title:"Removed node",type:"success"}):A({title:"Failed to remove node",text:w.error_message,type:"warn"})},w=>{A({title:"Failed to call removeNode service",text:w,type:"error"})}))}function ie(C,S){if(e.tree===void 0){console.warn("No tree received yet");return}if(l.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const w=[];C.each(I=>{I.data.name!==Qe&&(I.data.inputs.map((U,J)=>{w.push({node:I,index:J,kind:Ce.INPUT,key:U.key,type:U.serialized_type,x:I.x-I.data.size.width*.5-Me,y:I.y+Zt+J*(Me+Zt)})}),I.data.outputs.map((U,J)=>{w.push({node:I,index:J,kind:Ce.OUTPUT,key:U.key,type:U.serialized_type,x:I.x+I.data.size.width*.5,y:I.y+Zt+J*(Me+Zt)})}))});const L=te(d.value).selectAll("."+ts).data(w,I=>I.node.id+"###"+I.kind+"###"+I.index).join(ge);L.select("."+Nt).select("."+_r).text(I=>"(type: "+Ve(I.type)+")"),e.selected_subtree.is_subtree||L.select("."+dr).on("mousedown.drawedge",I=>{e.startDrawingDataEdge(I)}).on("mouseup.drawedge",I=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!nr(I,e.data_edge_endpoint)){console.warn("Invalid edge");return}I.kind===Ce.INPUT?Tt(e.data_edge_endpoint,I):Tt(I,e.data_edge_endpoint)}),L.transition(F).attr("transform",I=>"translate("+I.x+", "+I.y+")"),Ae(w,L,S)}function ge(C){const S=C.append("g").classed(ts,!0).on("mouseover.highlight",function(){if(e.is_dragging){const L=te(this).classed(wn);te(this).classed(xt,L)}else te(this).classed(xt,!0).attr("id",En).select("."+Nt).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?te(this).classed(xt,!1):te(this).classed(xt,!1).attr("id",null).select("."+Nt).attr("visibility","hidden")});return S.append("rect").classed(dr,!0).attr("width",Me).attr("height",Me),S.append("text").classed(Nt,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",L=>L.kind===Ce.INPUT?"end":"start").text(L=>L.key).attr("x",L=>{switch(L.kind){case Ce.INPUT:return-5;case Ce.OUTPUT:return Me+5;case Ce.OTHER:default:return 0}}).attr("y",.5*Me).append("tspan").classed(_r,!0).attr("x",function(){return te(this.parentElement).attr("x")}).attr("dy","1em"),S}function Ae(C,S,w){if(l.value===void 0||d.value===void 0||u.value===void 0){console.warn("DOM is broken");return}const L=[];function I(U,J){return U.node_name===J.node.data.name&&U.data_kind===J.kind&&U.data_key===J.key}w.forEach(U=>{const J=C.find(ce=>I(U.source,ce)),xe=C.find(ce=>I(U.target,ce));if(J===void 0||xe===void 0){console.warn("Bad data edge",J,xe);return}J.kind===Ce.INPUT?L.push({source:xe,target:J,wiring:U}):L.push({source:J,target:xe,wiring:U})}),te(u.value).selectAll("."+Cs).data(L,U=>U.source.node.id+"###"+U.source.kind+"###"+U.source.index+"#####"+U.target.node.id+"###"+U.target.kind+"###"+U.target.index).join("path").classed(Cs,!0).on("click.select",U=>{e.selectEdge(U.wiring),ze.stopPropagation()}).on("mouseover.highlight",function(U){e.is_dragging||(S.filter(J=>J===U.source||J===U.target).dispatch("mouseover").attr("id",J=>J.kind===Ce.INPUT?pr:En).select("."+Nt).attr("visibility",J=>J.kind===Ce.INPUT?"hidden":"visible"),te(this).classed(xt,!0).attr("id",fr))}).on("mouseout.highlight",function(U){e.is_dragging||(S.filter(J=>J===U.source||J===U.target).dispatch("mouseout"),te(this).classed(xt,!1).attr("id",null))}).transition(F).attr("d",U=>_e(U.source,U.target))}function _e(C,S){const w=ti().x(ce=>ce.x+Me/2).y(ce=>ce.y+Me/2).curve(si.alpha(.9));let L=Math.abs(C.x-S.x)/Vf;L=Math.min(Math.max(L,0),jf);const I=S.y-C.y>ar,U=C.y-S.y>ar,J={x:C.x+rr,y:C.y-L*(I?-1:1)},xe={x:S.x-rr,y:S.y-L*(U?-1:1)};return w([C,J,xe,S])}vs(Xe);function Xe(){if(d.value===void 0||h.value===void 0){console.warn("DOM is broken");return}const C=te(d.value).selectAll("."+ts).classed(wn,!1);C.select("."+Nt).attr("visibility","hidden");const S=te(h.value).attr("d",null);e.data_edge_endpoint!==void 0&&(C.filter(w=>nr(w,e.data_edge_endpoint)).classed(wn,!0),S.attr("d",()=>_e(e.data_edge_endpoint,e.data_edge_endpoint)))}function Tt(C,S){n.wire_data_service.callService({wirings:[{source:{node_name:C.node.data.name,data_kind:C.kind,data_key:C.key},target:{node_name:S.node.data.name,data_kind:S.kind,data_key:S.key}}],ignore_failure:!1},w=>{w.success?A({title:"Added data edge",type:"success"}):A({title:"Failed to add data edge",text:w.error_message,type:"warn"})},w=>{A({title:"Failed to call dataWiring service",text:w,type:"error"})})}rs(()=>[t.selected_node_names,g.value],()=>en());function en(){if(a.value===void 0){console.warn("DOM is broken");return}const C=t.selected_node_names.filter(L=>!g.value.includes(L)),S=g.value.filter(L=>!t.selected_node_names.includes(L)),w=C.concat(S);te(a.value).selectAll("."+Ss).select("."+es).classed(Hf,L=>w.includes(L.data.name))}rs(()=>e.selected_edge,()=>{Xt()});function Xt(){if(u.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const C=te(u.value),S=te(d.value);if(C.selectAll("."+Cs).classed(Ns,!1),S.selectAll("."+ts).classed(Ns,!1),e.selected_edge!==void 0){const w=C.selectAll("."+Cs).filter(L=>L.wiring===e.selected_edge).classed(Ns,!0).datum();S.selectAll("."+ts).filter(L=>L===w.source||L===w.target).classed(Ns,!0)}}return Ut(()=>{if(o.value===void 0||r.value===void 0){A({title:"Element reference undefined!",type:"error"});return}const C=te(o.value);E=Ya(),E.scaleExtent([.3,1]);const S=te(r.value);C.call(E.on("zoom",function(){S.attr("transform",ze.transform)})),E.filter(function(){return!ze.shiftKey&&(!e.is_dragging||ze.type==="wheel")}),R(),C.on("mousemove.pan_if_drag",$),C.on("click.unselect",()=>{ze.shiftKey||(t.clearSelection(),e.unselectEdge())}),y=!1,p=!1,C.on("mousedown.drawselect",()=>{if(r.value===void 0){console.warn("DOM is broken");return}if(ze.shiftKey){y=!0;const[w,L]=hs(r.value);x=w,T=L}}),C.on("mousemove.drawselect",()=>{if(r.value===void 0||a.value===void 0||_.value===void 0){console.warn("DOM is broken");return}if(ze.shiftKey&&y){p=!0;const w=te(_.value),[L,I]=hs(r.value),U=Math.min(L,x),J=Math.min(I,T),xe=Math.abs(L-x),ce=Math.abs(I-T);w.attr("x",U).attr("y",J),w.attr("width",xe).attr("height",ce);let Y=[];te(a.value).selectAll("."+Ss).select("."+es).each(ue=>{ue.x-ue.data.size.width/2>=U&&ue.x+ue.data.size.width/2<=U+xe&&ue.y>=J&&ue.y+ue.data.size.height<=J+ce&&Y.push(ue.data.name)}),g.value=Y}}),C.on("mouseup.drawselect",()=>{if(a.value===void 0||_.value===void 0){console.warn("DOM is broken");return}y&&p&&(y=!1,p=!1,te(_.value).attr("width",0).attr("height",0),t.selectMultipleNodes(g.value),g.value=[])}),C.on("mousemove.drawedge",()=>{if(r.value===void 0||h.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[w,L]=hs(r.value),I={x:w-Me/2,y:L-Me/2};te(h.value).attr("d",()=>e.data_edge_endpoint.kind===Ce.INPUT?_e(I,e.data_edge_endpoint):_e(e.data_edge_endpoint,I))}),C.on("mouseup.drawedge",()=>{if(h.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),te(h.value).attr("d",null)})}),(C,S)=>(v(),D("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:be(["reactive-svg",m(e).skin])},[c("g",{id:"container",ref_key:"svg_g_ref",ref:r},[c("g",{class:"edges",ref_key:"g_edges_ref",ref:i},null,512),c("g",{class:"vertices",ref_key:"g_vertices_ref",ref:a},null,512),c("g",{class:"data_graph",ref_key:"g_data_graph_ref",ref:l,visibility:m(e).show_data_graph?"visible":"hidden"},[c("g",{class:"data_edges",ref_key:"g_data_edges_ref",ref:u},null,512),c("g",{class:"data_vertices",ref_key:"g_data_vertices_ref",ref:d},null,512),c("use",{href:"#"+En,"pointer-events":"none"},null,8,Lf),c("use",{href:"#"+pr,"pointer-events":"none"},null,8,If),c("use",{href:"#"+fr,"pointer-events":"none"},null,8,Rf)],8,Df),c("g",{class:"drop_targets",ref_key:"g_drop_targets_ref",ref:b,visibility:ae()},null,8,Pf),c("path",{class:"drawing-indicator",ref_key:"draw_indicator_ref",ref:h},null,512),c("rect",{class:"selection",ref_key:"selection_rect_ref",ref:_},null,512)],512),c("text",{x:"10",y:"20",fill:m(e).skin===m(Ms).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:R}," Reset View ",8,Mf)],2))}});const Wf={class:"d-flex flex-column"},Bf={class:"btn-group d-flex mb-2",role:"group"},Kf={class:"d-flex justify-content-between align-items-center mb-3"},zf={class:""},Gf={class:"text-primary"},Yf={class:""},qf={class:"text-primary"},Xf=se({__name:"BehaviorTreeEdge",setup(s){const e=Te(),t=pe(),n=he();function o(){const i=t.selected_edge;e.unwire_data_service.callService({wirings:[{source:i.source,target:i.target}]},l=>{l.success?(A({title:"Removed data edge: "+i.source+" -> "+i.target+"!",type:"success"}),t.unselectEdge()):A({title:"Failed to remove data edge: "+i.source+" -> "+i.target+"!",text:l.error_message,type:"error"})})}function r(){n.editorSelectionChange(t.selected_edge.source.node_name)}function a(){n.editorSelectionChange(t.selected_edge.target.node_name)}return(i,l)=>(v(),D("div",Wf,[c("div",Bf,[c("button",{class:"btn btn-danger w-100",onClick:l[0]||(l[0]=()=>o())},"Delete Edge")]),c("div",Kf,[c("div",zf,[c("button",{class:"btn btn-outline-contrast",onClick:l[1]||(l[1]=()=>r())},[c("span",Gf,H(m(t).selected_edge.source.node_name),1),l[3]||(l[3]=c("br",null,null,-1)),le(" "+H(m(t).selected_edge.source.data_kind),1),l[4]||(l[4]=c("br",null,null,-1)),le(" "+H(m(t).selected_edge.source.data_key),1)])]),l[7]||(l[7]=c("hr",{class:"flex-fill connector"},null,-1)),c("div",Yf,[c("button",{class:"btn btn-outline-contrast",onClick:l[2]||(l[2]=()=>a())},[c("span",qf,H(m(t).selected_edge.target.node_name),1),l[5]||(l[5]=c("br",null,null,-1)),le(" "+H(m(t).selected_edge.target.data_kind),1),l[6]||(l[6]=c("br",null,null,-1)),le(" "+H(m(t).selected_edge.target.data_key),1)])])])]))}});const Qf=fs(Xf,[["__scopeId","data-v-81e043b9"]]),Jf={class:"fs-1 mb-3 mt-4 mx-4"},Zf={key:0,class:"mx-4 mb-4"},ep={class:"input-group mb-3"},tp={class:"input-group-text"},sp=["disabled"],np={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},op=["onClick"],rp={key:1},ap={class:"input-group mb-3"},ip=["disabled"],lp=["onClick"],cp={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},up=["onClick"],dp={key:2},_p={key:1},Zs=se({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=Te(),r=Qs(),a=RegExp("config|hook|cmake|environment"),i=f(null),l=f([]),u=f(""),d=f(new Oe([],{keys:["package","path"]})),b=Z(()=>{let R;return t.fromPackages?u.value===""?R=r.packages:R=r.packages_fuse.search(u.value).map(N=>N.item):u.value===""?R=l.value:R=d.value.search(u.value).map(N=>N.item),R.sort((N,$)=>N.package.localeCompare($.package))}),h=Z(()=>t.fromPackages&&r.packages_available||l.value.length>0),_=f(null),E=f(null),y=f(new Oe([],{keys:["data.name"]})),p=Z(()=>{var N;let R=[];return t.search_term===""?R=((N=_.value)==null?void 0:N.children)||[]:R=y.value.search(t.search_term).map($=>$.item),R=R.filter($=>{var M;switch($.data.type){case Je.DIR:return t.fromPackages&&(_.value===void 0||((M=_.value)==null?void 0:M.parent)===null)?!a.test($.data.name):!0;case Je.FILE:return t.file_filter===void 0?!0:t.file_filter.test($.data.name);default:return!1}}),R.sort(($,M)=>$.data.type===M.data.type?$.data.name.localeCompare(M.data.name):$.data.type===Je.DIR?-1:1)});function x(){o.get_storage_folders_service.callService({},R=>{l.value=R.storage_folders.map(N=>({package:N,path:N})),d.value.setCollection(l.value)},R=>{A({title:"Failed to call GetStorageFolders service!",text:R,type:"error"})})}function T(R){_.value=ni(JSON.parse(R)),y.value.setCollection(_.value.children||[])}function g(){o.get_folder_structure_service.callService({storage_folder:i.value.package,show_hidden:!0},R=>{R.success?T(R.storage_folder_structure):A({title:"Error when calling GetFolderStructure service!",text:R.error_message,type:"warn"})},R=>{A({title:"Failed to call GetFolderStructure service!",text:R,type:"error"})})}function k(){o.get_package_structure_service.callService({package:i.value.package,show_hidden:!0},R=>{R.success?T(R.package_structure):A({title:"Error when calling GetPackageStructure service!",text:R.error_message,type:"error"})},R=>{A({title:"Failed to call GetPackageStructure service!",text:R,type:"error"})})}function P(R){R===null?(i.value=null,u.value="",_.value=null,E.value=null,n("location",""),n("select",[],!0)):(i.value=R,u.value=R.package,t.fromPackages?k():g(),n("location",R.path))}function F(R){switch(R.data.type){case Je.DIR:_.value=R,y.value.setCollection(R.children||[]);break;case Je.FILE:E.value=R;break}n("select",R.ancestors().slice(0,-1).reverse().map(N=>N.data.name),R.data.type===Je.DIR)}return Ut(()=>{t.fromPackages||x()}),(R,N)=>{const $=$e("font-awesome-icon");return v(),D(re,null,[c("button",{class:"btn float-end",onClick:N[0]||(N[0]=M=>n("close"))},[K($,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),c("h1",Jf,H(t.title),1),h.value?(v(),D("div",Zf,[c("div",ep,[c("span",tp,H(t.location)+": ",1),je(c("input",{"onUpdate:modelValue":N[1]||(N[1]=M=>u.value=M),disabled:i.value!==null,type:"text",class:"form-control"},null,8,sp),[[Wt,u.value]]),c("button",{onClick:N[2]||(N[2]=M=>P(null)),class:"btn btn-outline-secondary"},[K($,{icon:"fa-solid fa-xmark"})])]),i.value===null?(v(),D("div",np,[(v(!0),D(re,null,fe(b.value,M=>(v(),D("button",{key:M.path,onClick:X=>P(M),class:"btn btn-outline-contrast ms-4 mb-3 text-start"},[K($,{icon:"fa-solid fa-cubes",class:"me-1"}),le(" "+H(M.package),1)],8,op))),128))])):_.value!==null?(v(),D("div",rp,[Ha(R.$slots,"default",{},()=>[N[4]||(N[4]=le("Control Buttons, Selects, ..."))]),c("div",ap,[c("button",{disabled:_.value.parent===null,onClick:N[3]||(N[3]=M=>F(_.value.parent)),class:"btn btn-outline-secondary"},[K($,{icon:"fa-solid fa-angle-up"})],8,ip),(v(!0),D(re,null,fe(_.value.ancestors().slice(0,-1).reverse(),M=>(v(),D("button",{key:M.data.item_id,onClick:X=>F(M),class:"btn btn-outline-secondary"},H(M.data.name),9,lp))),128))]),c("div",cp,[(v(!0),D(re,null,fe(p.value,M=>{var X;return v(),D("button",{key:M.data.item_id,onClick:ne=>F(M),class:be(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:M.data.item_id===((X=E.value)==null?void 0:X.data.item_id)}])},[M.data.type===m(Je).DIR?(v(),G($,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):ye("",!0),M.data.type===m(Je).FILE?(v(),G($,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):ye("",!0),le(" "+H(M.data.name),1)],10,up)}),128))])])):(v(),D("div",dp,"Loading content of storage location"))])):(v(),D("div",_p,"Loading possible storage locations"))],64)}}}),fp={class:"d-flex justify-content-between mb-3"},pp=["disabled"],vp=["value"],hp={class:"input-group mb-3"},mp=se({__name:"SelectLocationModal",emits:["select","close"],setup(s,{emit:e}){const t=e,n=/\.(yaml)$/,o=f(n),r=f(""),a=f([]),i=f(!0),l=f(""),u=f(at.ASK),d=Z(()=>i.value?[...a.value,l.value].join("/"):[...a.value.slice(0,-1),l.value].join("/"));function b(h,_){a.value=h,i.value=_,_?l.value="":l.value=h[h.length-1]}return(h,_)=>(v(),G(m(Hs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:it(()=>[K(Zs,{location:"Folder",title:"Save Tree to Folder",onClose:_[4]||(_[4]=E=>t("close")),file_filter:o.value,search_term:l.value,onLocation:_[5]||(_[5]=E=>r.value=E),onSelect:_[6]||(_[6]=(E,y)=>b(E,y))},{default:it(()=>[c("div",fp,[c("button",{class:"btn btn-primary me-2",disabled:!n.test(l.value),onClick:_[0]||(_[0]=E=>t("select",r.value,d.value,u.value))}," Select ",8,pp),je(c("select",{"onUpdate:modelValue":_[1]||(_[1]=E=>o.value=E),class:"form-select me-2"},[c("option",{value:n},"Valid files"),_[7]||(_[7]=c("option",{value:void 0},"All files",-1))],512),[[It,o.value]]),je(c("select",{"onUpdate:modelValue":_[2]||(_[2]=E=>u.value=E),class:"form-select"},[(v(!0),D(re,null,fe(Object.values(m(at)),E=>(v(),D("option",{value:E,key:E},H(E),9,vp))),128))],512),[[It,u.value]])]),c("div",hp,[_[8]||(_[8]=c("span",{class:"input-group-text"}," Name: ",-1)),je(c("input",{"onUpdate:modelValue":_[3]||(_[3]=E=>l.value=E),type:"text",class:"form-control"},null,512),[[Wt,l.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),gp={class:"d-flex flex-column"},yp={class:"row g-2 mb-3"},bp={class:"btn-group col-8"},Ep=["disabled"],wp={class:"input-group mb-3"},Tp=["value"],kp=["value"],Sp={class:"d-flex flex-column"},Ap={class:"input-group mb-3"},Cp=se({__name:"MultipleSelection",setup(s){const e=Te(),t=he();let n=t.selected_node_names.join("_");n.length===0&&(n="Subtree");const o=f(n),r=f(""),a=f(""),i=f(!1),l=f(at.ASK);function u(){window.confirm("Really delete all selected nodes ("+t.selected_node_names.join(", ")+")?")&&t.selected_node_names.forEach(E=>{e.remove_node_service.callService({node_name:E,remove_children:!1},y=>{y.success?(A({title:"Removed "+E+" successfully!",type:"success"}),t.selected_node_names=t.selected_node_names.filter(p=>p!==E)):A({title:"Failed to delete node!",text:y.error_message,type:"warn"})},y=>{A({title:"Failed to call DeleteNode service!",text:y,type:"error"})})})}function d(){i.value=!0}function b(E,y,p){i.value=!1,r.value=E,a.value=y,l.value=p}function h(){e.generate_subtree_service.callService({nodes:t.selected_node_names},E=>{E.success?(A({title:"Generated subtree successfully!",type:"success"}),_(E.tree)):A({title:"Failed to generate subtree!",text:E.error_message,type:"warn"})},E=>{A({title:"Failed to call GenerateSubtree service!",text:E,type:"error"})})}function _(E){E.name=o.value;const[y,p]=Na(l.value),x={storage_path:r.value,filepath:a.value,tree:E,allow_overwrite:y,allow_rename:p};e.save_tree_service.callService(x,T=>{if(T.success)A({title:"Successfully saved subtree!",text:T.file_path,type:"success"});else{if(l.value!==at.ASK||T.error_message!=="Overwrite not allowed"){A({title:"Failed to save subtree!",text:T.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+r.value+"/"+a.value+"' ?")){A({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}x.allow_overwrite=!0,x.allow_rename=!1,e.save_tree_service.callService(x,g=>{g.success?A({title:"Successfully saved subtree!",text:g.file_path,type:"success"}):A({title:"Failed to save subtree!",text:g.error_message,type:"warn"})},g=>{A({title:"Failed to call SaveTree service!",text:g,type:"error"})})}},T=>{A({title:"Failed to call SaveTree service!",text:T,type:"error"})})}return(E,y)=>(v(),D(re,null,[K(mp,{modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=p=>i.value=p),onClose:y[1]||(y[1]=p=>i.value=!1),onSelect:b},null,8,["modelValue"]),c("div",gp,[c("div",yp,[c("div",bp,[c("button",{class:"btn btn-primary",onClick:d},"Select Location"),c("button",{class:"btn btn-primary",onClick:h,disabled:r.value===""||a.value===""}," Save Subtree ",8,Ep)]),c("div",{class:"btn-group col-4"},[c("button",{class:"btn btn-danger",onClick:u},"Delete Nodes")])]),c("div",wp,[y[3]||(y[3]=c("span",{class:"input-group-text"},"Location:",-1)),c("input",{class:"form-control overflow-x-auto",type:"text",value:r.value,placeholder:"Storage Folder","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Tp),c("input",{class:"form-control overflow-x-auto",type:"text",value:a.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,kp)]),c("div",Sp,[c("div",Ap,[y[4]||(y[4]=c("span",{class:"input-group-text"},"Name:",-1)),je(c("input",{class:"form-control",type:"text","onUpdate:modelValue":y[2]||(y[2]=p=>o.value=p),placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name"},null,512),[[Wt,o.value]])])])])],64))}}),Np={key:0,class:"form-group"},xp={class:"d-block"},Op=["value","disabled"],$p={class:"mb-2 search-results"},Dp=["onClick","onKeyup"],Lp={key:1},Ip=se({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=pe(),n=he(),o=qt();let r=f([]);const a=Z(()=>n.new_node_options.find(p=>p.key===e.data_key)),i=Z(()=>{if(a.value===void 0)return"";let p=a.value.value.value;return Aa.includes(p)&&(p="builtins."+p),p});let l=f(!0),u=f(!1);function d(p){if(a.value===void 0){console.error("Undefined parameter");return}let T=p.target.value||"";T=T.replace("__builtin__.","").replace("builtins.","");const g=o.messages_fuse.search(T);r.value=g.map(k=>k.item),n.updateParamValue(e.category,e.data_key,T)}function b(p){n.updateParamValue(e.category,e.data_key,p),y()}function h(){n.changeCopyMode(!1),l.value=!1}function _(){l.value=!0}function E(){u.value=!0}function y(){u.value=!1}return(p,x)=>a.value!==void 0?(v(),D("div",Np,[c("label",xp,[le(H(a.value.key)+" ",1),c("input",{type:"text",class:"form-control mt-2",value:i.value,disabled:m(t).selected_subtree.is_subtree,onInput:d,onFocus:h,onBlur:_,onKeyup:x[0]||(x[0]=Fe(()=>{_(),y()},["esc"])),onKeydown:Fe(E,["tab"])},null,40,Op)]),c("div",$p,[c("div",{class:be(["list-group rounded-top-0",{"d-none":m(l)&&!m(u)}]),onMouseenter:E,onMouseleave:y},[(v(!0),D(re,null,fe(m(r),T=>(v(),D("div",{key:T,class:"list-group-item search-result",tabindex:"0",onClick:()=>b(T),onKeyup:[Fe(()=>b(T),["enter"]),Fe(y,["esc"])]},H(T.replace(/\./g,".​")),41,Dp))),128))],34)])])):(v(),D("div",Lp,"Error loading param data"))}});const Rp=se({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){const e=he(),t=s,n=Z(()=>e.new_node_options.find(u=>u.key===t.data_key)),o=f(!0),r=f();let a;function i(){e.changeCopyMode(!1)}function l(){if(a!==void 0)try{const u=a.get();o.value=!0,e.updateParamValue(t.category,t.data_key,u)}catch{o.value=!1}}return rs(()=>n.value===void 0?"":n.value.value.type,()=>{a===void 0||n.value===void 0||a.update(n.value.value.value)}),Ut(()=>{r.value!==void 0&&(a=new oi(r.value,{mode:"code",onChange:()=>l()}),a.aceEditor.setOptions({maxLines:100}),a.aceEditor.resize(),n.value!==void 0&&a.update(n.value.value.value))}),Ua(()=>{a!==void 0&&a.destroy()}),(u,d)=>(v(),D("div",{id:"editor",ref_key:"editor_ref",ref:r,onFocus:i},null,544))}}),Pp={key:0,class:"form-group"},Mp={class:"d-block"},Fp=["value","disabled"],Vp=["value"],jp={key:1},vr=se({__name:"MathOperatorParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=pe(),t=he(),n=s,o=Z(()=>t.new_node_options.find(i=>i.key===n.data_key));function r(i){if(o.value===void 0){console.error("Undefined parameter");return}const l=i.target;let u=o.value.value.value;u.operator=l.value,t.updateParamValue(o.value.value.type,o.value.key,u)}const a={unary:["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"],binary:["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"]};return(i,l)=>o.value!==void 0?(v(),D("div",Pp,[c("label",Mp,H(o.value.key),1),c("select",{onChange:r,class:"form-select",value:o.value.value.value.operator,disabled:m(e).selected_subtree.is_subtree},[(v(!0),D(re,null,fe(a[n.op_type],u=>(v(),D("option",{key:u,value:u},H(u),9,Vp))),128))],40,Fp)])):(v(),D("div",jp," Error loading param data "))}}),Hp={key:0,class:"form-group"},Up={class:"d-block"},Wp=["value","disabled"],Bp=["value"],Kp={key:1},hr=se({__name:"MathOperandParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=pe(),t=he(),n=s,o=Z(()=>t.new_node_options.find(i=>i.key===n.data_key));function r(i){if(o.value===void 0){console.error("Undefined parameter");return}const l=i.target;let u=o.value.value.value;u.operand_type=l.value,t.updateParamValue(o.value.value.type,o.value.key,u)}const a={unary:["int","float"],binary:["int","float","bool"]};return(i,l)=>o.value!==void 0?(v(),D("div",Hp,[c("label",Up,H(o.value.key),1),c("select",{onChange:r,class:"form-select",value:o.value.value.value.operand_type,disabled:m(e).selected_subtree.is_subtree},[(v(!0),D(re,null,fe(a[n.op_type],u=>(v(),D("option",{key:u,value:u},H(u),9,Bp))),128))],40,Wp)])):(v(),D("div",Kp," Error loading param data "))}}),zp={class:"d-flex justify-content-between mb-3"},Gp=["disabled"],Yp={class:"input-group"},qp=se({__name:"SelectFileModal",props:{fromPackages:{type:Boolean}},emits:["select","close"],setup(s,{emit:e}){const t=s,n=e,o=/\.(yaml)$/,r=f(o),a=f(""),i=f([]),l=f(!0),u=f(""),d=Z(()=>(t.fromPackages?"package":"file")+"://"+a.value+"/"+i.value.join("/"));function b(h,_){i.value=h,l.value=_,_&&(u.value="")}return(h,_)=>(v(),G(m(Hs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:it(()=>[K(Zs,{onClose:_[3]||(_[3]=E=>n("close")),file_filter:r.value,"from-packages":t.fromPackages,title:"Select File from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:u.value,onLocation:_[4]||(_[4]=E=>a.value=E),onSelect:_[5]||(_[5]=(E,y)=>b(E,y))},{default:it(()=>[c("div",zp,[c("button",{class:"btn btn-primary me-2",disabled:l.value,onClick:_[0]||(_[0]=E=>n("select",d.value))}," Select ",8,Gp),je(c("select",{"onUpdate:modelValue":_[1]||(_[1]=E=>r.value=E),class:"form-select me-2 w-50"},[c("option",{value:o},"Valid files"),_[6]||(_[6]=c("option",{value:void 0},"All files",-1))],512),[[It,r.value]]),c("div",Yp,[_[7]||(_[7]=c("span",{class:"input-group-text"}," Search: ",-1)),je(c("input",{"onUpdate:modelValue":_[2]||(_[2]=E=>u.value=E),type:"text",class:"form-control"},null,512),[[Wt,u.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Xp={key:0,class:"form-group"},Qp={class:"d-block"},Jp={class:"input-group"},Zp=["value"],ev={key:1},tv=se({__name:"FilePathParam",props:{category:{},data_key:{}},setup(s){const e=he(),t=s,n=Z(()=>e.new_node_options.find(u=>u.key===t.data_key)),o=f(!1),r=f(!1);function a(){r.value=!0,o.value=!0}function i(){r.value=!1,o.value=!0}function l(u){if(n.value===void 0){console.error("Undefined parameter");return}let d=n.value.value.value;d.path=u,e.updateParamValue(n.value.value.type,n.value.key,d),o.value=!1}return(u,d)=>{const b=$e("font-awesome-icon");return v(),D(re,null,[K(qp,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=h=>o.value=h),"from-packages":r.value,onClose:d[1]||(d[1]=h=>o.value=!1),onSelect:l},null,8,["modelValue","from-packages"]),n.value!==void 0?(v(),D("div",Xp,[c("label",Qp,H(n.value.key),1),c("div",Jp,[c("input",{type:"text",class:"form-control",value:n.value.value.value.path,disabled:""},null,8,Zp),c("button",{class:"btn btn-primary",onClick:a},[K(b,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),d[2]||(d[2]=c("span",{class:"ms-1"},"Package",-1))]),c("button",{class:"btn btn-primary",onClick:i},[K(b,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),d[3]||(d[3]=c("span",{className:"ms-1"},"File",-1))])])])):(v(),D("div",ev,"Error loading param data"))],64)}}}),sv={key:0,class:"form-group"},nv={class:"d-block"},ov=["value","disabled"],rv={class:"mb-2 search-results"},av=["onClick","onKeyup"],iv={key:1},Tn=se({__name:"RosTypeParam",props:{category:{},data_key:{},type:{}},setup(s){const e=he(),t=pe(),n=qt(),o=s;let r=f([]);const a=Z(()=>e.new_node_options.find(x=>x.key===o.data_key)),i=Z(()=>{switch(o.type){case"topic":return n.ros_topic_type_fuse;case"service":return n.ros_service_type_fuse;case"action":return n.ros_action_type_fuse;default:return}});let l=f(!0),u=f(!1);function d(x){if(a.value===void 0||i.value===void 0){console.error("Undefined parameter");return}let g=x.target.value||"";const k=i.value.search(g);r.value=k.map(P=>P.item),b(g)}function b(x){if(a.value===void 0){console.error("Undefined parameter");return}let T=a.value.value.value;T.type_str=x,e.updateParamValue(o.category,o.data_key,T)}function h(x){b(x),p()}function _(){e.changeCopyMode(!1),l.value=!1}function E(){l.value=!0}function y(){u.value=!0}function p(){u.value=!1}return(x,T)=>a.value!==void 0?(v(),D("div",sv,[c("label",nv,[le(H(a.value.key)+" ",1),c("input",{type:"text",class:"form-control mt-2",value:a.value.value.value.type_str,disabled:m(t).selected_subtree.is_subtree,onInput:d,onFocus:_,onBlur:E,onKeyup:T[0]||(T[0]=Fe(()=>{E(),p()},["esc"])),onKeydown:Fe(y,["tab"])},null,40,ov)]),c("div",rv,[c("div",{class:be(["list-group rounded-top-0",{"d-none":m(l)&&!m(u)}]),onMouseenter:y,onMouseleave:p},[(v(!0),D(re,null,fe(m(r),g=>(v(),D("div",{key:g,class:"list-group-item search-result",tabindex:"0",onClick:()=>h(g),onKeyup:[Fe(()=>h(g),["enter"]),Fe(p,["esc"])]},H(g),41,av))),128))],34)])])):(v(),D("div",iv,"Error loading param data"))}}),lv={key:0,class:"form-group"},cv={class:"d-block"},uv=["value","disabled"],dv={class:"mb-2 search-results"},_v=["onClick","onKeyup"],fv={key:1},kn=se({__name:"RosNameParam",props:{category:{},data_key:{},type:{}},setup(s){const e=he(),t=pe(),n=qt(),o=s;let r=f([]);const a=Z(()=>e.new_node_options.find(g=>g.key===o.data_key)),i=Z(()=>{let g;switch(o.type){case"topic":g=Fs;break;case"service":g=Vs;break;case"action":g=js;break;default:return}return e.new_node_options.find(k=>k.value.type===g)}),l=Z(()=>{switch(o.type){case"topic":return n.ros_topic_name_fuse;case"service":return n.ros_service_name_fuse;case"action":return n.ros_action_name_fuse;default:return}});let u=f(!0),d=f(!1);function b(g){if(a.value===void 0||l.value===void 0){console.error("Undefined parameter");return}let P=g.target.value||"";const F=l.value.search({name:P});r.value=F.map(R=>R.item),h(P)}function h(g){if(a.value===void 0){console.error("Undefined parameter");return}let k=a.value.value.value;k.name=g,e.updateParamValue(o.category,o.data_key,k)}function _(g){if(i.value===void 0)return;let k=i.value.value.value;k.type_str=g,e.updateParamValue(o.category,i.value.key,k)}function E(g){h(g.name),_(g.type),T()}function y(){e.changeCopyMode(!1),u.value=!1}function p(){u.value=!0}function x(){d.value=!0}function T(){d.value=!1}return(g,k)=>a.value!==void 0?(v(),D("div",lv,[c("label",cv,[le(H(a.value.key)+" ",1),c("input",{type:"text",class:"form-control mt-2",value:a.value.value.value.name,disabled:m(t).selected_subtree.is_subtree,onInput:b,onFocus:y,onBlur:p,onKeyup:k[0]||(k[0]=Fe(()=>{p(),T()},["esc"])),onKeydown:Fe(x,["tab"])},null,40,uv)]),c("div",dv,[c("div",{class:be(["list-group rounded-top-0",{"d-none":m(u)&&!m(d)}]),onMouseenter:x,onMouseleave:T},[(v(!0),D(re,null,fe(m(r),P=>(v(),D("div",{key:P.name,class:"list-group-item search-result",tabindex:"0",onClick:()=>E(P),onKeyup:[Fe(()=>E(P),["enter"]),Fe(T,["esc"])]},[le(H(P.name),1),k[1]||(k[1]=c("br",null,null,-1)),c("small",null,H(P.type),1)],40,_v))),128))],34)])])):(v(),D("div",fv,"Error loading param data"))}}),pv={key:0,class:"list-group-item"},vv={key:0,class:"form-group"},hv={class:"d-block"},mv={key:13,class:"form-group"},gv={class:"d-block"},yv={key:1},bv=se({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=he(),n=pe(),o=Z(()=>t.new_node_options.find(d=>d.key===e.data_key)),r=["int","float","bool","string","unset_optionref"],a=Z(()=>{if(o.value===void 0||!r.includes(o.value.value.type))return;let d,b,h="any",_=["form-control"],E=!1,y=n.selected_subtree.is_subtree;switch(o.value.value.type){case"int":h=1;case"float":d="number",b=o.value.value.value;break;case"bool":d="checkbox",E=o.value.value.value,_=["form-check-input","d-block"];break;case"unset_optionref":y=!0;case"string":d="text",b=o.value.value.value;break;default:d="hidden";break}return{type:d,value:b,class:_,step:h,checked:E,disabled:y}}),i=Z(()=>{if(o.value!==void 0){switch(o.value.value.type){}return{}}});function l(d){if(o.value===void 0)return;const b=d.target;let h;switch(o.value.value.type){case"int":h=parseInt(b.value),isNaN(h)&&(h=0);break;case"float":h=parseFloat(b.value),isNaN(h)&&(h=0);break;case"bool":h=b.checked;break;default:h=b.value;break}t.updateParamValue(e.category,e.data_key,h)}function u(){t.changeCopyMode(!1)}return(d,b)=>o.value!==void 0?(v(),D("div",pv,[a.value!==void 0?(v(),D("div",vv,[c("label",hv,H(o.value.key),1),c("input",Sn(a.value,{onChange:l,onFocus:u}),null,16)])):o.value.value.type==="type"?(v(),G(Ip,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):o.value.value.type===m(Rn)?(v(),G(vr,{key:2,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):o.value.value.type===m(Fn)?(v(),G(hr,{key:3,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):o.value.value.type===m(Pn)?(v(),G(vr,{key:4,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):o.value.value.type===m(Mn)?(v(),G(hr,{key:5,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):o.value.value.type===m(Vn)?(v(),G(tv,{key:6,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):o.value.value.type===m(Fs)?(v(),G(Tn,{key:7,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):o.value.value.type===m(jn)?(v(),G(kn,{key:8,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):o.value.value.type===m(Vs)?(v(),G(Tn,{key:9,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):o.value.value.type===m(Hn)?(v(),G(kn,{key:10,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):o.value.value.type===m(js)?(v(),G(Tn,{key:11,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):o.value.value.type===m(Un)?(v(),G(kn,{key:12,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):(v(),D("div",mv,[c("label",gv,[le(H(o.value.key)+" ",1),K(Rp,Sn(i.value,{category:e.category,data_key:e.data_key}),null,16,["category","data_key"])])]))])):(v(),D("div",yv,"Error loading param data"))}}),Ev={key:0,class:"list-group-item"},wv={key:0},Tv={className:"text-muted"},kv={key:1},Sv={className:"text-muted"},Av={key:2},Cv={className:"text-muted"},Nv={key:3},xv={className:"text-muted"},Ov={class:"text-muted"},$v={key:4},Dv={className:"text-muted"},Lv={key:1},mr=se({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=he(),n=Z(()=>{switch(e.category){case"inputs":return t.new_node_inputs.find(o=>o.key===e.data_key);case"outputs":return t.new_node_outputs.find(o=>o.key===e.data_key);default:return}});return(o,r)=>n.value!==void 0?(v(),D("div",Ev,[n.value.value.type==="int"||n.value.value.type==="float"||n.value.value.type==="string"?(v(),D("div",wv,[c("h5",null,[le(H(n.value.key+" ")+" ",1),c("span",Tv,"(type: "+H(n.value.value.type)+")",1)]),c("span",null,H(n.value.value.value),1)])):n.value.value.type==="type"?(v(),D("div",kv,[c("h5",null,[le(H(n.value.key+" ")+" ",1),c("span",Sv,"(type: "+H(n.value.value.type)+")",1)]),c("pre",null,H(n.value.value.value),1)])):n.value.value.type==="boolean"?(v(),D("div",Av,[c("h5",null,[le(H(n.value.key+" ")+" ",1),c("span",Cv,"(type: "+H(n.value.value.type)+")",1)]),c("pre",null,H(n.value.value.value?"True":"False"),1)])):n.value.value.type==="unset_optionref"?(v(),D("div",Nv,[c("h5",null,[le(H(n.value.key+" ")+" ",1),c("span",xv,"(type: "+H(n.value.value.type)+")",1)]),c("pre",Ov,H(n.value.value.value),1)])):(v(),D("div",$v,[c("h5",null,[le(H(n.value.key+" ")+" ",1),c("span",Dv,"(type: "+H(n.value.value.type)+")",1)]),c("pre",null,H(JSON.stringify(n.value.value.value,null,2)),1)]))])):(v(),D("div",Lv,"Error loading param data"))}}),Iv={class:"d-flex flex-column overflow-auto pb-3",style:{"max-height":"40vh"}},Rv=["value","disabled"],Pv={class:"d-flex align-items-baseline mb-2"},Mv={class:"text-muted"},Fv={key:0},Vv=["value","disabled"],jv=["value"],Hv={class:"mb-2"},Uv={class:"list-group"},Wv={class:"mb-2"},Bv={class:"list-group"},Kv={className:"mb-2"},zv={class:"list-group"},xa=se({__name:"EditableNode",setup(s){const e=pe(),t=he();return(n,o)=>{const r=$e("font-awesome-icon");return v(),D("div",Iv,[c("input",{class:"form-control-lg mb-2",type:"text",value:m(t).new_node_name,disabled:m(e).selected_subtree.is_subtree,onFocus:o[0]||(o[0]=()=>m(t).changeCopyMode(!1)),onChange:o[1]||(o[1]=a=>m(t).changeNodeName(a.target.value))},null,40,Rv),c("div",Pv,[c("h4",Mv,[m(t).is_flow_control_node?(v(),D("select",{key:1,class:"form-select",value:m(t).new_node_module+m(t).new_node_class,disabled:m(e).selected_subtree.is_subtree,onChange:o[2]||(o[2]=a=>m(t).changeNodeClass(a.target.value))},[(v(!0),D(re,null,fe(m(t).flow_control_nodes,a=>(v(),D("option",{key:a.module+a.node_class,value:a.module+a.node_class},[le(H(a.node_class)+" ",1),c("small",null,"("+H(a.module)+")",1)],8,jv))),128))],40,Vv)):(v(),D("div",Fv,[le(H(m(t).new_node_class)+" ",1),c("small",null,"("+H(m(t).new_node_module)+")",1)]))]),m(t).reference_node?(v(),G(r,{key:0,icon:"fa-solid fa-question-circle",class:"px-2","aria-hidden":"true",title:m(Ca)(m(t).reference_node.doc)},null,8,["title"])):ye("",!0)]),c("div",Hv,[o[3]||(o[3]=c("h5",null,"Options",-1)),c("div",Uv,[(v(!0),D(re,null,fe(m(t).new_node_options,a=>(v(),G(bv,{key:"option_"+a.key,data_key:a.key,category:"options"},null,8,["data_key"]))),128))])]),c("div",Wv,[o[4]||(o[4]=c("h5",null,"Input",-1)),c("div",Bv,[(v(!0),D(re,null,fe(m(t).new_node_inputs,a=>(v(),G(mr,{key:"input_"+a.key,data_key:a.key,category:"inputs"},null,8,["data_key"]))),128))])]),c("div",Kv,[o[5]||(o[5]=c("h5",null,"Output",-1)),c("div",zv,[(v(!0),D(re,null,fe(m(t).new_node_outputs,a=>(v(),G(mr,{key:"output_"+a.key,data_key:a.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),Gv={class:"d-flex flex-column"},Yv=["disabled"],qv={class:"pt-2 pb-2"},Xv=["disabled","value"],Qv=["value"],Jv=se({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=he(),n=Te(),o=f(e.parents.length>0?e.parents[0].name:void 0);function r(){if(n.connected||A({title:"Service not available!",text:"ROS not connected, cannot call services!",type:"error"}),t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}n.add_node_service.callService({parent_name:o.value,node:t.buildNodeMsg(),allow_rename:!0},a=>{a.success?(t.clearNodeHasChanged(),console.log("Added node to tree as "+a.actual_node_name),t.editorSelectionChange(a.actual_node_name),A({title:"Added not to tree!",text:"Node added as: "+a.actual_node_name,type:"success"})):A({title:"Failed to add "+t.new_node_name+" to the tree!",text:a.error_message,type:"warn"})},a=>{A({title:"Failed to call AddNode service",text:a,type:"error"})})}return(a,i)=>(v(),D("div",Gv,[c("button",{class:"btn btn-block btn-primary",disabled:!m(t).node_is_valid,onClick:r}," Add to Tree ",8,Yv),c("label",qv,[i[0]||(i[0]=le(" Parent ")),c("select",{class:"custom-select d-block",disabled:a.parents.length===0,value:o.value},[(v(!0),D(re,null,fe(a.parents,l=>(v(),D("option",{key:l.name,value:l.name},H(l.name),9,Qv))),128))],8,Xv)]),K(xa)]))}}),Zv={class:"d-flex flex-column"},eh={class:"row g-2 mb-3"},th={class:"btn-group col-4"},sh=["disabled"],nh={class:"btn-group col-8"},oh=["disabled"],rh=["disabled"],ah=se({__name:"SelectedNode",setup(s){const e=Te(),t=pe(),n=he();function o(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!1},l=>{l.success?(A({title:"Removed "+n.selected_node.name+" successfully!",type:"success"}),n.clearSelection()):A({title:"Failed to remove node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function r(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!0},l=>{l.success?(A({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):A({title:"Failed to remove node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function a(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_name:n.selected_node.name,rename_node:!0,new_name:n.new_node_name,options:io(n.new_node_options)},l=>{l.success?(A({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged(),n.editorSelectionChange(n.new_node_name)):A({title:"Failed to update node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function i(){if(n.node_is_morphed){if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_name:n.selected_node.name,new_node:n.buildNodeMsg()},l=>{l.success?(A({title:"Morphed node "+n.new_node_name+" successfully!",type:"success"}),n.node_is_morphed=!1,a()):A({title:"Failed to morph node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}else a()}return(l,u)=>(v(),D("div",Zv,[c("div",eh,[c("div",th,[c("button",{class:"btn btn-primary",onClick:i,disabled:!m(n).node_is_valid||m(t).selected_subtree.is_subtree}," Update Node ",8,sh)]),c("div",nh,[c("button",{class:"btn btn-danger",onClick:o,disabled:m(t).selected_subtree.is_subtree}," Delete Node ",8,oh),c("button",{class:"btn btn-danger",onClick:r,disabled:m(t).selected_subtree.is_subtree}," Delete Node + Children ",8,rh)])]),K(xa)]))}}),ih={class:"d-flex align-items-center my-2"},lh={class:"input-group me-1"},ch=["disabled","value"],uh=["disabled"],dh={class:"input-group ms-1",style:{width:"fit-content"}},_h=["value"],fh=se({__name:"TreeNameStateDisplay",setup(s){const e=pe(),t=Te(),n=Z(()=>e.selected_subtree.is_subtree?e.selected_subtree.name:e.tree?e.tree.name:""),o=f(n.value),r=Z(()=>e.selected_subtree.is_subtree?e.selected_subtree.tree.state:e.tree?e.tree.state:"UNKNOWN");function a(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},i=>{i.success?A({title:"Successfully renamed tree!",text:o.value,type:"success"}):A({title:"Failed to rename tree!",text:i.error_message,type:"warn"})},i=>{A({title:"Failed to call ChangeTreeName service!",text:i,type:"error"})})}return(i,l)=>(v(),D("div",ih,[c("div",lh,[l[1]||(l[1]=c("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),c("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:m(e).selected_subtree.is_subtree,value:n.value,onInput:l[0]||(l[0]=u=>o.value=u.target.value)},null,40,ch),c("button",{class:"btn btn-primary",disabled:m(e).selected_subtree.is_subtree,onClick:a}," Save ",8,uh)]),c("div",dh,[l[2]||(l[2]=c("label",{class:"input-group-text",for:"treeStateForm"}," State ",-1)),c("input",{id:"treeStateForm",class:"form-control",type:"text",disabled:"true",value:r.value},null,8,_h)])]))}}),ph={class:"d-flex align-items-center"},vh={class:"btn-group"},hh=se({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=pe();return(r,a)=>{const i=$e("font-awesome-icon");return v(),D("div",ph,[c("div",vh,[c("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=l=>m(o).enableShowDataGraph(!m(o).show_data_graph)),title:"Toggle Data Graph"},[K(i,{class:be(m(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(v(),D("button",{key:0,class:"btn btn-primary btn-spaced",onClick:a[1]||(a[1]=l=>n("hide")),title:"Hide User Interface"},[K(i,{icon:"fa-solid fa-window-maximize"})])):(v(),D("button",{key:1,class:"btn btn-primary btn-spaced",onClick:a[2]||(a[2]=l=>n("show")),title:"Show User Interface"},[K(i,{icon:"fa-solid fa-window-restore"})])),c("button",{class:"btn btn-primary btn-spaced",onClick:a[3]||(a[3]=()=>m(o).is_layer_mode=!m(o).is_layer_mode),title:"Change tree layout (layers/subtrees)"},[K(i,{class:be(m(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),K(i,{class:be(m(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),c("button",{class:"btn btn-primary btn-spaced",onClick:a[4]||(a[4]=(...l)=>m(o).cycleEditorSkin&&m(o).cycleEditorSkin(...l)),title:"Change editor appearance"},[K(i,{class:be(m(o).skin===m(Ms).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),K(i,{class:be(m(o).skin===m(Ms).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),mh={class:"d-flex justify-content-between mb-3"},gh=["disabled"],yh=["value"],bh={class:"input-group mb-3"},Eh=se({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=Te(),o=pe(),r=/\.(yaml)$/,a=f(r),i=f(""),l=f([]),u=f(!0),d=f(""),b=Z(()=>u.value?[...l.value,d.value].join("/"):[...l.value.slice(0,-1),d.value].join("/"));function h(y,p){l.value=y,u.value=p,p?d.value="":d.value=y[y.length-1]}const _=f(at.ASK);function E(){if(!r.test(b.value)){console.error("Path is of improper format: ",b);return}if(o.tree===void 0){console.error("No tree to save");return}const[y,p]=Na(_.value),x={storage_path:i.value,filepath:b.value,tree:o.tree,allow_overwrite:y,allow_rename:p};n.save_tree_service.callService(x,T=>{if(T.success)A({title:"Successfully saved tree!",text:T.file_path,type:"success"}),t("close");else{if(_.value!==at.ASK||T.error_message!=="Overwrite not allowed"){A({title:"Failed to save tree!",text:T.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+i.value+"/"+b.value+"' ?")){A({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}x.allow_overwrite=!0,x.allow_rename=!1,n.save_tree_service.callService(x,g=>{g.success?(A({title:"Successfully saved tree!",text:g.file_path,type:"success"}),t("close")):A({title:"Failed to save tree!",text:g.error_message,type:"warn"})},g=>{A({title:"Failed to call SaveTree service!",text:g,type:"error"})})}},T=>{A({title:"Failed to call SaveTree service!",text:T,type:"error"})})}return(y,p)=>(v(),G(m(Hs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:it(()=>[K(Zs,{location:"Folder",title:"Save Tree to Folder",onClose:p[3]||(p[3]=x=>t("close")),file_filter:a.value,search_term:d.value,onLocation:p[4]||(p[4]=x=>i.value=x),onSelect:p[5]||(p[5]=(x,T)=>h(x,T))},{default:it(()=>[c("div",mh,[c("button",{class:"btn btn-primary me-2",onClick:E,disabled:!r.test(d.value)}," Save ",8,gh),je(c("select",{"onUpdate:modelValue":p[0]||(p[0]=x=>a.value=x),class:"form-select me-2"},[c("option",{value:r},"Valid files"),p[6]||(p[6]=c("option",{value:void 0},"All files",-1))],512),[[It,a.value]]),je(c("select",{"onUpdate:modelValue":p[1]||(p[1]=x=>_.value=x),class:"form-select"},[(v(!0),D(re,null,fe(Object.values(m(at)),x=>(v(),D("option",{value:x,key:x},H(x),9,yh))),128))],512),[[It,_.value]])]),c("div",bh,[p[7]||(p[7]=c("span",{class:"input-group-text"}," Name: ",-1)),je(c("input",{"onUpdate:modelValue":p[2]||(p[2]=x=>d.value=x),type:"text",class:"form-control"},null,512),[[Wt,d.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),wh={class:"d-flex justify-content-between mb-3"},Th=["disabled"],kh={class:"input-group"},gr=se({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=Te(),r=[],a=/\.(yaml)$/,i=f(a),l=f(""),u=f([]),d=f(!0),b=f(""),h=Z(()=>(t.fromPackages?"package":"file")+"://"+l.value+"/"+u.value.join("/"));function _(y,p){u.value=y,d.value=p,p&&(b.value="")}function E(){o.load_tree_from_path_service.callService({path:h.value,permissive:!1},y=>{if(y.success)A({title:"Successfully loaded tree!",text:h.value,type:"success"}),n("close");else{if(A({title:"Error while calling LoadTree service!",text:y.error_message,type:"warn"}),!r.includes(y.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){A({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}o.load_tree_from_path_service.callService({path:h.value,permissive:!0},p=>{p.success?(A({title:"Successfully loaded tree in permissive mode!",text:h.value,type:"success"}),n("close")):A({title:"Error while calling LoadTree service in permissive mode!",text:p.error_message,type:"warn"})},p=>{A({title:"Failed to call LoadTree service!",text:p,type:"error"})})}},y=>{A({title:"Failed to call LoadTree service!",text:y,type:"error"})})}return(y,p)=>(v(),G(m(Hs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:it(()=>[K(Zs,{onClose:p[2]||(p[2]=x=>n("close")),file_filter:i.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:b.value,onLocation:p[3]||(p[3]=x=>l.value=x),onSelect:p[4]||(p[4]=(x,T)=>_(x,T))},{default:it(()=>[c("div",wh,[c("button",{class:"btn btn-primary me-2",disabled:d.value,onClick:E}," Load ",8,Th),je(c("select",{"onUpdate:modelValue":p[0]||(p[0]=x=>i.value=x),class:"form-select me-2 w-50"},[c("option",{value:a},"Valid files"),p[5]||(p[5]=c("option",{value:void 0},"All files",-1))],512),[[It,i.value]]),c("div",kh,[p[6]||(p[6]=c("span",{class:"input-group-text"}," Search: ",-1)),je(c("input",{"onUpdate:modelValue":p[1]||(p[1]=x=>b.value=x),type:"text",class:"form-control"},null,512),[[Wt,b.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Sh={class:"btn-group"},Ah=["disabled"],Ch={class:"btn-group btn-spaced",role:"group"},Nh=["disabled"],xh={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},Oh=["disabled"],$h=["disabled"],Dh=["disabled"],Lh=["disabled"],Ih=["disabled"],Rh=se({__name:"LoadSaveControls",setup(s){const e=Te(),t=pe(),n=f(),o=new FileReader,r=tn({component:gr,attrs:{fromPackages:!0,onClose(){r.close()}}}),a=tn({component:gr,attrs:{fromPackages:!1,onClose(){a.close()}}}),i=tn({component:Eh,attrs:{onClose(){i.close()}}});function l(){if(e.clear_tree_service===void 0){A({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},T=>{T.success?(console.log("called ClearTree service successfully"),A({title:"Created new tree successfully!",type:"success"})):A({title:"Could not create new tree!",type:"warn",text:T.error_message})},T=>{A({title:"ClearTree service call failed!",type:"error",text:T})})}function u(){r.open()}function d(){a.open()}function b(){if(e.control_tree_execution_service===void 0){A({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(ve.SHUTDOWN),e.control_tree_execution_service.callService({command:ve.SHUTDOWN},T=>{t.removeRunningCommand(ve.SHUTDOWN),T.success?(A({title:"Tree shutdown successful!",type:"success"}),i.open()):A({title:"Failed to shutdown tree, cannot save now!",text:T.error_message,type:"warn"})},T=>{A({title:"Calling ControlTreeExecution ROS service failed!",text:T,type:"error"})})}function h(T,g){const k=document.createElement("a");k.download=g,k.href=T,document.body.appendChild(k),k.click(),document.body.removeChild(k)}function _(T){const g=T.target;if(o.onloadend=p,g.files===null){A({title:"File selection is null!",type:"error"});return}o.readAsText(g.files[0])}function E(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function y(T){if(e.load_tree_service===void 0){A({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:T,permissive:!1},g=>{if(g.success)A({title:"Loaded tree successfully!",type:"success"});else{if((g.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||g.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(A({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){A({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:T,permissive:!0},k=>{k.success?A({title:"Loaded tree successfully!",type:"success"}):A({title:"Failed to load tree!",text:k.error_message,type:"warn"})},k=>{A({title:"Failed to call load tree service!",text:k,type:"error"})})}A({title:"Failed to load tree!",text:g.error_message,type:"error"})}},g=>{A({title:"Failed to call load tree service!",text:g,type:"error"})})}function p(){let T=[];try{if(o.result===null){A({title:"Content of selected reads as null!",type:"error"});return}const g=o.result;T=sn.loadAll(g);let k=null;for(let P=0;P<T.length;P++)T[P]!=null&&(k=T[P]);y(k)}catch{if(e.fix_yaml_service===void 0){A({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},k=>{if(k.success){T=sn.loadAll(k.fixed_yaml);let P=null;for(let F=0;F<T.length;F++)T[F]!=null&&(P=T[F]);y(P)}},k=>{A({title:"Failed to call FixYaml service!",text:k,type:"error"})})}}function x(){if(!e.connected){A({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(ve.SHUTDOWN),e.control_tree_execution_service.callService({command:ve.SHUTDOWN},T=>{if(T.success){A({title:"Tree shutdown successful!",type:"success"});const g=t.tree;if(g===void 0){A({title:"Tree is undefined, cannot save!",type:"error"});return}for(const P in g.nodes){for(const F in g.nodes[P].inputs)g.nodes[P].inputs[F].serialized_value="null";for(const F in g.nodes[P].outputs)g.nodes[P].outputs[F].serialized_value="null"}const k=sn.dump(g);h("data:text/plain,"+encodeURIComponent(k),"tree.yaml")}else A({title:"Failed to shutdown tree, cannot save now!",text:T.error_message,type:"error"})},T=>{A({title:"Calling ControlTreeExecution ROS service failed!",text:T,type:"error"})})}return(T,g)=>{const k=$e("font-awesome-icon");return v(),D("div",Sh,[c("button",{onClick:g[0]||(g[0]=()=>l()),class:"btn btn-primary",title:"New tree",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-file","aria-hidden":"true"}),g[6]||(g[6]=c("span",{class:"ms-1 hide-button-text"},"New",-1))],8,Ah),c("div",Ch,[c("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-folder","aria-hidden":"true"}),g[7]||(g[7]=c("span",{class:"ms-1 hide-button-text"},"Load",-1))],8,Nh),c("ul",xh,[c("li",null,[c("button",{onClick:g[1]||(g[1]=()=>u()),class:"dropdown-item btn btn-primary",title:"Load from package",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),g[8]||(g[8]=c("span",{class:"ms-1"},"Package",-1))],8,Oh)]),c("li",null,[c("button",{onClick:g[2]||(g[2]=()=>d()),class:"dropdown-item btn btn-primary",title:"Load from file",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),g[9]||(g[9]=c("span",{className:"ms-1"},"File",-1))],8,$h)])])]),c("button",{onClick:g[3]||(g[3]=()=>b()),class:"btn btn-primary btn-spaced",title:"Save to remote",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-save","aria-hidden":"true"}),g[10]||(g[10]=c("span",{class:"ms-1 hide-button-text"},"Save",-1))],8,Dh),c("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:_},null,544),c("button",{onClick:g[4]||(g[4]=()=>E()),class:"btn btn-primary btn-spaced",title:"Upload",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),g[11]||(g[11]=c("span",{class:"ms-1 hide-button-text"},"Upload",-1))],8,Lh),c("button",{onClick:g[5]||(g[5]=()=>x()),class:"btn btn-primary btn-spaced",title:"Download",disabled:m(t).selected_subtree.is_subtree},[K(k,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),g[12]||(g[12]=c("span",{class:"ms-1 hide-button-text"},"Download",-1))],8,Ih)])}}});const Ph=fs(Rh,[["__scopeId","data-v-824da917"]]),Mh={class:"d-flex align-items-center"},Fh={class:"input-group flex-nowrap me-2"},Vh=["value"],jh={key:0,class:"input-group flex-nowrap me-2"},Hh=["value"],Uh=["value"],Wh=se({__name:"NamespaceSelect",setup(s){const e=Te(),t=qt(),n=Qs(),o=f(!1),r=f(e.url),a=Z(()=>e.connected?t.messages_available?n.packages_available?{class:"connected",title:"Connected"}:{class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."}:{class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."}:{class:"disconnected",title:"Disconnected"});function i(h){const _=h.target;e.changeNamespace(_.value)}function l(){if(e.services_for_type_service===void 0){A({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},h=>{const _=h.services.map(E=>E.substring(0,E.lastIndexOf("/"))+"/");_.length>0&&(e.setAvailableNamespaces(_),e.namespace===""&&e.changeNamespace(_[0]))})}function u(){o.value=!o.value}function d(h){const _=h.target;r.value=_.value}function b(){e.setUrl(r.value),e.connect(),o.value=!1}return Ut(l),(h,_)=>{const E=$e("font-awesome-icon");return v(),D("div",Mh,[K(E,Sn({icon:"fa-solid fa-wifi","aria-hidden":"true",class:"mx-2 fs-4"},a.value),null,16),c("div",Fh,[c("button",{type:"button",class:"btn btn-outline-contrast",onClick:u,title:"Edit rosbridge server"},[K(E,{"aria-hidden":"true",icon:"fa-solid "+(o.value?"fa-xmark":"fa-cog")},null,8,["icon"])]),o.value?(v(),D(re,{key:0},[_[0]||(_[0]=c("label",{class:"input-group-text"},"Rosbridge Server",-1)),c("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:r.value,onChange:d},null,40,Vh),c("button",{type:"button",onClick:b,class:"btn btn-primary"},"Save")],64)):ye("",!0)]),o.value?ye("",!0):(v(),D("div",jh,[_[2]||(_[2]=c("label",{class:"input-group-text"},"Namespace",-1)),c("select",{class:"form-select w-auto",value:m(e).namespace,onChange:i},[(v(!0),D(re,null,fe(m(e).available_namespaces,y=>(v(),D("option",{key:y,value:y},H(y),9,Uh))),128))],40,Hh),c("button",{type:"button",class:"btn btn-outline-contrast",onClick:l},[K(E,{icon:"fa-solid fa-sync","aria-hidden":"true"}),_[1]||(_[1]=c("span",{class:"sr-only"},"Refresh Namespaces",-1))])]))])}}});const Bh=fs(Wh,[["__scopeId","data-v-1dc2e837"]]),Kh={class:"btn-group"},zh=se({__name:"TickControls",setup(s){const e=pe(),t=Te();function n(o){if(!t.connected){A({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},r=>{e.removeRunningCommand(o),r.success?A({title:"Running tree command",type:"success"}):A({title:"Running the tree command failed!",type:"error",text:r.error_message})})}return(o,r)=>{const a=$e("font-awesome-icon");return v(),D("div",Kh,[c("button",{onClick:r[0]||(r[0]=()=>n(m(ve).TICK_ONCE)),class:"btn btn-primary",title:"Tick Once"},[m(e).running_commands.has(m(ve).TICK_ONCE)?(v(),G(a,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(v(),G(a,{key:1,icon:"fas fa-check","aria-hidden":"true"})),r[6]||(r[6]=c("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),c("button",{onClick:r[1]||(r[1]=()=>n(m(ve).TICK_PERIODICALLY)),class:"btn btn-primary btn-spaced",title:"Tick Periodically"},[m(e).running_commands.has(m(ve).TICK_PERIODICALLY)?(v(),G(a,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(v(),G(a,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),r[7]||(r[7]=c("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),c("button",{onClick:r[2]||(r[2]=()=>n(m(ve).TICK_UNTIL_RESULT)),class:"btn btn-primary btn-spaced",title:"Tick Until Result"},[m(e).running_commands.has(m(ve).TICK_UNTIL_RESULT)?(v(),G(a,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(v(),G(a,{key:1,icon:"fas fa-play","aria-hidden":"true"})),r[8]||(r[8]=c("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),c("button",{onClick:r[3]||(r[3]=()=>n(m(ve).STOP)),class:"btn btn-primary btn-spaced",title:"Stop"},[m(e).running_commands.has(m(ve).STOP)?(v(),G(a,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(v(),G(a,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),r[9]||(r[9]=c("i",{class:"{stop_classes}"},null,-1)),r[10]||(r[10]=c("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),c("button",{onClick:r[4]||(r[4]=()=>n(m(ve).RESET)),class:"btn btn-primary btn-spaced",title:"Reset"},[m(e).running_commands.has(m(ve).RESET)?(v(),G(a,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(v(),G(a,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),r[11]||(r[11]=c("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),c("button",{onClick:r[5]||(r[5]=()=>n(m(ve).SHUTDOWN)),class:"btn btn-primary btn-spaced",title:"Shutdown"},[m(e).running_commands.has(m(ve).SHUTDOWN)?(v(),G(a,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(v(),G(a,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),r[12]||(r[12]=c("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),Gh={key:0,class:"d-flex justify-content-between align-items-center p-2 top-bar"},Yh={class:"row row-height"},qh={key:0,class:"col-3 d-flex flex-column h-100",id:"nodelist_container"},Xh={class:"d-flex justify-content-between m-1 mt-2"},Qh={class:"m-1"},Jh={class:"border rounded"},Zh={class:"input-group p-2"},em=["value"],tm={class:"col d-flex flex-column",id:"main_pane"},sm={class:"row justify-content-between bg-secondary"},nm={class:"row edit_canvas flex-grow-1 pb-2"},om={class:"row"},rm={class:"col-6"},am={key:3,class:"d-flex flex-column"},im={class:"col-6"},lm={key:1,class:"d-flex flex-column"},cm=se({__name:"App",setup(s){const e=Te(),t=qt(),n=Qs(),o=Js(),r=pe(),a=he(),i=f(!1);rs(i,N=>{N?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function l(N){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(N.packages)}function u(){e.packages_sub.subscribe(l)}function d(N){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(N)}function b(){e.messages_sub.subscribe(d)}function h(N){r.tree=N}function _(){e.tree_sub.subscribe(h)}function E(N){r.subtree_states=N.subtree_states}function y(){e.subtree_info_sub.subscribe(E)}function p(){e.channels_sub.subscribe(t.updateMessageChannels)}function x(N){const $=N.target;F.value=$.value,o.filterNodes($.value)}function T(N){N.key=="Escape"&&(F.value="",o.clearFilteredNodes())}function g(){return r.tree?r.tree.nodes.filter(N=>N.max_children<0||N.child_names.length<N.max_children).sort(function(N,$){return N.name<$.name?-1:N.name>$.name?1:0}):[]}const k=f(!0),P=f(),F=f(""),R=f(!0);return e.$onAction(({name:N,after:$})=>{N!=="changeNamespace"&&N!="hasConnected"||$(()=>{_(),y(),b(),p(),u()})}),Ut(()=>{e.connect(),_(),y(),b(),p(),u()}),(N,$)=>{const M=$e("font-awesome-icon"),X=$e("notifications");return v(),D(re,null,[R.value?(v(),D("header",Gh,[K(Bh),K(zh),K(Ph)])):ye("",!0),c("main",null,[c("div",{class:be([m(r).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:$[5]||($[5]=()=>m(r).stopDragging()),onMouseleave:$[6]||($[6]=()=>m(r).stopDragging())},[c("div",Yh,[k.value?(v(),D("div",qh,[c("div",Xh,[c("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:$[0]||($[0]=()=>{k.value=!k.value})},[K(M,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),c("button",{class:"btn btn-outline-primary",onClick:$[1]||($[1]=ne=>i.value=!i.value),title:"Change window appearance"},[K(M,{class:be(i.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),K(M,{class:be(i.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),c("div",Qh,[K(rf),c("div",Jh,[c("div",Zh,[$[7]||($[7]=c("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),c("input",{id:"nodelist_search",type:"text",ref_key:"nodelist_input_ref",ref:P,class:"form-control",value:F.value,onInput:x,onKeydown:T},null,40,em)])])]),K(Sf,{style:{"min-height":"0"}})])):ye("",!0),c("div",tm,[c("div",sm,[k.value?ye("",!0):(v(),D("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:$[2]||($[2]=()=>{k.value=!k.value})},[K(M,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),K($f,{class:"col col-xl-3 order-xl-1"}),K(hh,{"exec-bar-visible":R.value,class:"col-auto order-xl-3",onShow:$[3]||($[3]=()=>{R.value=!0,k.value=!0}),onHide:$[4]||($[4]=()=>{R.value=!1,k.value=!1})},null,8,["exec-bar-visible"]),K(fh,{class:"col-12 col-xl-6 order-xl-2"})]),c("div",nm,[K(Uf)]),c("div",om,[c("div",rm,[m(a).last_seletion_source==="multiple"?(v(),G(Cp,{key:0})):m(a).last_seletion_source==="nodelist"?(v(),G(Jv,{key:m(e).namespace+(m(a).selected_node?m(a).selected_node.module+m(a).selected_node.node_class:""),parents:g()},null,8,["parents"])):m(a).last_seletion_source==="editor"?(v(),G(ah,{key:m(e).namespace+(m(a).selected_node?m(a).selected_node.name:"")})):(v(),D("div",am,"No Node Selected"))]),c("div",im,[m(r).selected_edge!==void 0?(v(),G(Qf,{key:0})):(v(),D("div",lm,"No Edge Selected"))])])])])],34),K(X,{position:"bottom right",pauseOnHover:!0}),K(m(Wa))])],64)}}});ri.add(ai,ii,li,ci,ui,di,_i,fi,pi,vi,hi,mi,gi,yi,bi,Ei,wi,Ti,ki,Si,Ai,Ci,Ni,xi,Oi,$i,Di,Li,Ii,Ri,Pi,Mi,Fi,Vi);const ps=Ba(cm),um=Ka(),Oa=H_();Oa.use(Z_);ps.use(Oa);ps.component("font-awesome-icon",ji);ps.use(za,{velocity:Ga});ps.use(um);ps.mount("#root");
