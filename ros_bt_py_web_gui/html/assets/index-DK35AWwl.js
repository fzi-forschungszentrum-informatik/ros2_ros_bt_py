import{e as Yr,r as N,m as Vr,a as mi,i as tn,b as Gr,t as yi,g as bi,o as wi,w as dt,n as Ei,f as Ti,c as B,j as Ni,k as Ai,s as ne,E as O,d as se,l as ye,p as I,q as v,u as d,v as ge,x as ve,y as K,z as b,A as F,B as U,F as ie,C as me,D as He,G as Kn,H as he,I as pt,R as Ss,J as Zs,K as Js,L as us,M as Be,N as ds,O as Ci,P as Lt,Q as Ii,S as Kr,T as ki,U as Si,V as xi,W as Oi,X as Mi,Y as Di,Z as Li,_ as $i}from"./vue-extras-BCcUetX7.js";import{d as Ri,a as J,p as Fe,g as Pi}from"./roslib-CVfGsBJM.js";import{F as Re}from"./fusejs-Ch1WBRTM.js";import{s as re,q as ji,a as zi,f as Fi,l as Ui,b as Wi,c as Hi,z as Bi,p as Rs,t as Yi,h as Vi}from"./d3-DNndPsJ1.js";import{f as Zr,a as Jr,b as Qr,c as Xr,d as qr,e as ea,l as Gi,g as Ki,h as Zi,i as Ji,j as Qi,k as Xi,m as qi,n as el,o as tl,p as sl,q as nl,r as ol,s as rl,t as al,u as il,v as ll,w as cl,x as ul,y as dl,z as _l,A as fl,B as pl,C as vl,D as hl,E as gl,F as ml,G as yl,H as bl,I as wl,J as El,K as Tl,L as Nl,M as Al,N as Cl,O as Il,P as kl,Q as Sl,R as xl,S as Ol,T as Ml,U as Dl,V as Ll,W as $l}from"./fontawesome-DMP4n0Su.js";import{r as Rl}from"./jsoneditor-DvhDDJh-.js";import{j as Tn}from"./jsyaml-DW8Bub87.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var Pe="top",Ye="bottom",Ve="right",je="left",dn="auto",_s=[Pe,Ye,Ve,je],$t="start",ss="end",ta="clippingParents",po="viewport",Zt="popper",sa="reference",Zn=_s.reduce(function(s,e){return s.concat([e+"-"+$t,e+"-"+ss])},[]),vo=[].concat(_s,[dn]).reduce(function(s,e){return s.concat([e,e+"-"+$t,e+"-"+ss])},[]),na="beforeRead",oa="read",ra="afterRead",aa="beforeMain",ia="main",la="afterMain",ca="beforeWrite",ua="write",da="afterWrite",_a=[na,oa,ra,aa,ia,la,ca,ua,da];function it(s){return s?(s.nodeName||"").toLowerCase():null}function Ge(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function Rt(s){var e=Ge(s).Element;return s instanceof e||s instanceof Element}function Qe(s){var e=Ge(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function ho(s){if(typeof ShadowRoot>"u")return!1;var e=Ge(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Pl(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];!Qe(r)||!it(r)||(Object.assign(r.style,n),Object.keys(o).forEach(function(i){var a=o[i];a===!1?r.removeAttribute(i):r.setAttribute(i,a===!0?"":a)}))})}function jl(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],r=e.attributes[n]||{},i=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=i.reduce(function(l,u){return l[u]="",l},{});!Qe(o)||!it(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(l){o.removeAttribute(l)}))})}}const go={name:"applyStyles",enabled:!0,phase:"write",fn:Pl,effect:jl,requires:["computeStyles"]};function rt(s){return s.split("-")[0]}var Dt=Math.max,sn=Math.min,ns=Math.round;function Jn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fa(){return!/^((?!chrome|android).)*safari/i.test(Jn())}function os(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,r=1;e&&Qe(s)&&(o=s.offsetWidth>0&&ns(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&ns(n.height)/s.offsetHeight||1);var i=Rt(s)?Ge(s):window,a=i.visualViewport,l=!fa()&&t,u=(n.left+(l&&a?a.offsetLeft:0))/o,c=(n.top+(l&&a?a.offsetTop:0))/r,_=n.width/o,p=n.height/r;return{width:_,height:p,top:c,right:u+_,bottom:c+p,left:u,x:u,y:c}}function mo(s){var e=os(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function pa(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&ho(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function vt(s){return Ge(s).getComputedStyle(s)}function zl(s){return["table","td","th"].indexOf(it(s))>=0}function At(s){return((Rt(s)?s.ownerDocument:s.document)||window.document).documentElement}function _n(s){return it(s)==="html"?s:s.assignedSlot||s.parentNode||(ho(s)?s.host:null)||At(s)}function $o(s){return!Qe(s)||vt(s).position==="fixed"?null:s.offsetParent}function Fl(s){var e=/firefox/i.test(Jn()),t=/Trident/i.test(Jn());if(t&&Qe(s)){var n=vt(s);if(n.position==="fixed")return null}var o=_n(s);for(ho(o)&&(o=o.host);Qe(o)&&["html","body"].indexOf(it(o))<0;){var r=vt(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function xs(s){for(var e=Ge(s),t=$o(s);t&&zl(t)&&vt(t).position==="static";)t=$o(t);return t&&(it(t)==="html"||it(t)==="body"&&vt(t).position==="static")?e:t||Fl(s)||e}function yo(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function Ns(s,e,t){return Dt(s,sn(e,t))}function Ul(s,e,t){var n=Ns(s,e,t);return n>t?t:n}function va(){return{top:0,right:0,bottom:0,left:0}}function ha(s){return Object.assign({},va(),s)}function ga(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var Wl=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ha(typeof e!="number"?e:ga(e,_s))};function Hl(s){var e,t=s.state,n=s.name,o=s.options,r=t.elements.arrow,i=t.modifiersData.popperOffsets,a=rt(t.placement),l=yo(a),u=[je,Ve].indexOf(a)>=0,c=u?"height":"width";if(!(!r||!i)){var _=Wl(o.padding,t),p=mo(r),f=l==="y"?Pe:je,w=l==="y"?Ye:Ve,E=t.rects.reference[c]+t.rects.reference[l]-i[l]-t.rects.popper[c],g=i[l]-t.rects.reference[l],m=xs(r),C=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,T=E/2-g/2,S=_[f],j=C-p[c]-_[w],W=C/2-p[c]/2+T,L=Ns(S,W,j),$=l;t.modifiersData[n]=(e={},e[$]=L,e.centerOffset=L-W,e)}}function Bl(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||pa(e.elements.popper,o)&&(e.elements.arrow=o))}const ma={name:"arrow",enabled:!0,phase:"main",fn:Hl,effect:Bl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rs(s){return s.split("-")[1]}var Yl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vl(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:ns(t*o)/o||0,y:ns(n*o)/o||0}}function Ro(s){var e,t=s.popper,n=s.popperRect,o=s.placement,r=s.variation,i=s.offsets,a=s.position,l=s.gpuAcceleration,u=s.adaptive,c=s.roundOffsets,_=s.isFixed,p=i.x,f=p===void 0?0:p,w=i.y,E=w===void 0?0:w,g=typeof c=="function"?c({x:f,y:E}):{x:f,y:E};f=g.x,E=g.y;var m=i.hasOwnProperty("x"),C=i.hasOwnProperty("y"),T=je,S=Pe,j=window;if(u){var W=xs(t),L="clientHeight",$="clientWidth";if(W===Ge(t)&&(W=At(t),vt(W).position!=="static"&&a==="absolute"&&(L="scrollHeight",$="scrollWidth")),W=W,o===Pe||(o===je||o===Ve)&&r===ss){S=Ye;var R=_&&W===j&&j.visualViewport?j.visualViewport.height:W[L];E-=R-n.height,E*=l?1:-1}if(o===je||(o===Pe||o===Ye)&&r===ss){T=Ve;var M=_&&W===j&&j.visualViewport?j.visualViewport.width:W[$];f-=M-n.width,f*=l?1:-1}}var z=Object.assign({position:a},u&&Yl),oe=c===!0?Vl({x:f,y:E},Ge(t)):{x:f,y:E};if(f=oe.x,E=oe.y,l){var le;return Object.assign({},z,(le={},le[S]=C?"0":"",le[T]=m?"0":"",le.transform=(j.devicePixelRatio||1)<=1?"translate("+f+"px, "+E+"px)":"translate3d("+f+"px, "+E+"px, 0)",le))}return Object.assign({},z,(e={},e[S]=C?E+"px":"",e[T]=m?f+"px":"",e.transform="",e))}function Gl(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,r=t.adaptive,i=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:rt(e.placement),variation:rs(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ro(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ro(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const bo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Gl,data:{}};var Ps={passive:!0};function Kl(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,r=o===void 0?!0:o,i=n.resize,a=i===void 0?!0:i,l=Ge(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&u.forEach(function(c){c.addEventListener("scroll",t.update,Ps)}),a&&l.addEventListener("resize",t.update,Ps),function(){r&&u.forEach(function(c){c.removeEventListener("scroll",t.update,Ps)}),a&&l.removeEventListener("resize",t.update,Ps)}}const wo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kl,data:{}};var Zl={left:"right",right:"left",bottom:"top",top:"bottom"};function Qs(s){return s.replace(/left|right|bottom|top/g,function(e){return Zl[e]})}var Jl={start:"end",end:"start"};function Po(s){return s.replace(/start|end/g,function(e){return Jl[e]})}function Eo(s){var e=Ge(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function To(s){return os(At(s)).left+Eo(s).scrollLeft}function Ql(s,e){var t=Ge(s),n=At(s),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,l=0;if(o){r=o.width,i=o.height;var u=fa();(u||!u&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:i,x:a+To(s),y:l}}function Xl(s){var e,t=At(s),n=Eo(s),o=(e=s.ownerDocument)==null?void 0:e.body,r=Dt(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Dt(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+To(s),l=-n.scrollTop;return vt(o||t).direction==="rtl"&&(a+=Dt(t.clientWidth,o?o.clientWidth:0)-r),{width:r,height:i,x:a,y:l}}function No(s){var e=vt(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function ya(s){return["html","body","#document"].indexOf(it(s))>=0?s.ownerDocument.body:Qe(s)&&No(s)?s:ya(_n(s))}function As(s,e){var t;e===void 0&&(e=[]);var n=ya(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),r=Ge(n),i=o?[r].concat(r.visualViewport||[],No(n)?n:[]):n,a=e.concat(i);return o?a:a.concat(As(_n(i)))}function Qn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function ql(s,e){var t=os(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function jo(s,e,t){return e===po?Qn(Ql(s,t)):Rt(e)?ql(e,t):Qn(Xl(At(s)))}function ec(s){var e=As(_n(s)),t=["absolute","fixed"].indexOf(vt(s).position)>=0,n=t&&Qe(s)?xs(s):s;return Rt(n)?e.filter(function(o){return Rt(o)&&pa(o,n)&&it(o)!=="body"}):[]}function tc(s,e,t,n){var o=e==="clippingParents"?ec(s):[].concat(e),r=[].concat(o,[t]),i=r[0],a=r.reduce(function(l,u){var c=jo(s,u,n);return l.top=Dt(c.top,l.top),l.right=sn(c.right,l.right),l.bottom=sn(c.bottom,l.bottom),l.left=Dt(c.left,l.left),l},jo(s,i,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ba(s){var e=s.reference,t=s.element,n=s.placement,o=n?rt(n):null,r=n?rs(n):null,i=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(o){case Pe:l={x:i,y:e.y-t.height};break;case Ye:l={x:i,y:e.y+e.height};break;case Ve:l={x:e.x+e.width,y:a};break;case je:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=o?yo(o):null;if(u!=null){var c=u==="y"?"height":"width";switch(r){case $t:l[u]=l[u]-(e[c]/2-t[c]/2);break;case ss:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function as(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,r=t.strategy,i=r===void 0?s.strategy:r,a=t.boundary,l=a===void 0?ta:a,u=t.rootBoundary,c=u===void 0?po:u,_=t.elementContext,p=_===void 0?Zt:_,f=t.altBoundary,w=f===void 0?!1:f,E=t.padding,g=E===void 0?0:E,m=ha(typeof g!="number"?g:ga(g,_s)),C=p===Zt?sa:Zt,T=s.rects.popper,S=s.elements[w?C:p],j=tc(Rt(S)?S:S.contextElement||At(s.elements.popper),l,c,i),W=os(s.elements.reference),L=ba({reference:W,element:T,placement:o}),$=Qn(Object.assign({},T,L)),R=p===Zt?$:W,M={top:j.top-R.top+m.top,bottom:R.bottom-j.bottom+m.bottom,left:j.left-R.left+m.left,right:R.right-j.right+m.right},z=s.modifiersData.offset;if(p===Zt&&z){var oe=z[o];Object.keys(M).forEach(function(le){var V=[Ve,Ye].indexOf(le)>=0?1:-1,H=[Pe,Ye].indexOf(le)>=0?"y":"x";M[le]+=oe[H]*V})}return M}function sc(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,r=t.rootBoundary,i=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?vo:l,c=rs(n),_=c?a?Zn:Zn.filter(function(w){return rs(w)===c}):_s,p=_.filter(function(w){return u.indexOf(w)>=0});p.length===0&&(p=_);var f=p.reduce(function(w,E){return w[E]=as(s,{placement:E,boundary:o,rootBoundary:r,padding:i})[rt(E)],w},{});return Object.keys(f).sort(function(w,E){return f[w]-f[E]})}function nc(s){if(rt(s)===dn)return[];var e=Qs(s);return[Po(s),e,Po(e)]}function oc(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!0:i,l=t.fallbackPlacements,u=t.padding,c=t.boundary,_=t.rootBoundary,p=t.altBoundary,f=t.flipVariations,w=f===void 0?!0:f,E=t.allowedAutoPlacements,g=e.options.placement,m=rt(g),C=m===g,T=l||(C||!w?[Qs(g)]:nc(g)),S=[g].concat(T).reduce(function(pe,de){return pe.concat(rt(de)===dn?sc(e,{placement:de,boundary:c,rootBoundary:_,padding:u,flipVariations:w,allowedAutoPlacements:E}):de)},[]),j=e.rects.reference,W=e.rects.popper,L=new Map,$=!0,R=S[0],M=0;M<S.length;M++){var z=S[M],oe=rt(z),le=rs(z)===$t,V=[Pe,Ye].indexOf(oe)>=0,H=V?"width":"height",ee=as(e,{placement:z,boundary:c,rootBoundary:_,altBoundary:p,padding:u}),Q=V?le?Ve:je:le?Ye:Pe;j[H]>W[H]&&(Q=Qs(Q));var we=Qs(Q),Ce=[];if(r&&Ce.push(ee[oe]<=0),a&&Ce.push(ee[Q]<=0,ee[we]<=0),Ce.every(function(pe){return pe})){R=z,$=!1;break}L.set(z,Ce)}if($)for(var ze=w?3:1,Ke=function(de){var Oe=S.find(function(Ie){var Ae=L.get(Ie);if(Ae)return Ae.slice(0,de).every(function(tt){return tt})});if(Oe)return R=Oe,"break"},q=ze;q>0;q--){var xe=Ke(q);if(xe==="break")break}e.placement!==R&&(e.modifiersData[n]._skip=!0,e.placement=R,e.reset=!0)}}const wa={name:"flip",enabled:!0,phase:"main",fn:oc,requiresIfExists:["offset"],data:{_skip:!1}};function zo(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function Fo(s){return[Pe,Ve,Ye,je].some(function(e){return s[e]>=0})}function rc(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,i=as(e,{elementContext:"reference"}),a=as(e,{altBoundary:!0}),l=zo(i,n),u=zo(a,o,r),c=Fo(l),_=Fo(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":_})}const Ea={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rc};function ac(s,e,t){var n=rt(s),o=[je,Pe].indexOf(n)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,i=r[0],a=r[1];return i=i||0,a=(a||0)*o,[je,Ve].indexOf(n)>=0?{x:a,y:i}:{x:i,y:a}}function ic(s){var e=s.state,t=s.options,n=s.name,o=t.offset,r=o===void 0?[0,0]:o,i=vo.reduce(function(c,_){return c[_]=ac(_,e.rects,r),c},{}),a=i[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=i}const Ta={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ic};function lc(s){var e=s.state,t=s.name;e.modifiersData[t]=ba({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Ao={name:"popperOffsets",enabled:!0,phase:"read",fn:lc,data:{}};function cc(s){return s==="x"?"y":"x"}function uc(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!1:i,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,_=t.padding,p=t.tether,f=p===void 0?!0:p,w=t.tetherOffset,E=w===void 0?0:w,g=as(e,{boundary:l,rootBoundary:u,padding:_,altBoundary:c}),m=rt(e.placement),C=rs(e.placement),T=!C,S=yo(m),j=cc(S),W=e.modifiersData.popperOffsets,L=e.rects.reference,$=e.rects.popper,R=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,M=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,oe={x:0,y:0};if(W){if(r){var le,V=S==="y"?Pe:je,H=S==="y"?Ye:Ve,ee=S==="y"?"height":"width",Q=W[S],we=Q+g[V],Ce=Q-g[H],ze=f?-$[ee]/2:0,Ke=C===$t?L[ee]:$[ee],q=C===$t?-$[ee]:-L[ee],xe=e.elements.arrow,pe=f&&xe?mo(xe):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:va(),Oe=de[V],Ie=de[H],Ae=Ns(0,L[ee],pe[ee]),tt=T?L[ee]/2-ze-Ae-Oe-M.mainAxis:Ke-Ae-Oe-M.mainAxis,Ut=T?-L[ee]/2+ze+Ae+Ie+M.mainAxis:q+Ae+Ie+M.mainAxis,lt=e.elements.arrow&&xs(e.elements.arrow),ms=lt?S==="y"?lt.clientTop||0:lt.clientLeft||0:0,kt=(le=z==null?void 0:z[S])!=null?le:0,A=Q+tt-kt-ms,y=Q+Ut-kt,h=Ns(f?sn(we,A):we,Q,f?Dt(Ce,y):Ce);W[S]=h,oe[S]=h-Q}if(a){var k,D=S==="x"?Pe:je,P=S==="x"?Ye:Ve,G=W[j],te=j==="y"?"height":"width",X=G+g[D],ce=G-g[P],fe=[Pe,je].indexOf(m)!==-1,ue=(k=z==null?void 0:z[j])!=null?k:0,ot=fe?X:G-L[te]-$[te]-ue+M.altAxis,gt=fe?G+L[te]+$[te]-ue-M.altAxis:ce,St=f&&fe?Ul(ot,G,gt):Ns(f?ot:X,G,f?gt:ce);W[j]=St,oe[j]=St-G}e.modifiersData[n]=oe}}const Na={name:"preventOverflow",enabled:!0,phase:"main",fn:uc,requiresIfExists:["offset"]};function dc(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function _c(s){return s===Ge(s)||!Qe(s)?Eo(s):dc(s)}function fc(s){var e=s.getBoundingClientRect(),t=ns(e.width)/s.offsetWidth||1,n=ns(e.height)/s.offsetHeight||1;return t!==1||n!==1}function pc(s,e,t){t===void 0&&(t=!1);var n=Qe(e),o=Qe(e)&&fc(e),r=At(e),i=os(s,o,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((it(e)!=="body"||No(r))&&(a=_c(e)),Qe(e)?(l=os(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=To(r))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function vc(s){var e=new Map,t=new Set,n=[];s.forEach(function(r){e.set(r.name,r)});function o(r){t.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&o(l)}}),n.push(r)}return s.forEach(function(r){t.has(r.name)||o(r)}),n}function hc(s){var e=vc(s);return _a.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function gc(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function mc(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Uo={placement:"bottom",modifiers:[],strategy:"absolute"};function Wo(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function fn(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,r=o===void 0?Uo:o;return function(a,l,u){u===void 0&&(u=r);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Uo,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},_=[],p=!1,f={state:c,setOptions:function(m){var C=typeof m=="function"?m(c.options):m;E(),c.options=Object.assign({},r,c.options,C),c.scrollParents={reference:Rt(a)?As(a):a.contextElement?As(a.contextElement):[],popper:As(l)};var T=hc(mc([].concat(n,c.options.modifiers)));return c.orderedModifiers=T.filter(function(S){return S.enabled}),w(),f.update()},forceUpdate:function(){if(!p){var m=c.elements,C=m.reference,T=m.popper;if(Wo(C,T)){c.rects={reference:pc(C,xs(T),c.options.strategy==="fixed"),popper:mo(T)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(M){return c.modifiersData[M.name]=Object.assign({},M.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var j=c.orderedModifiers[S],W=j.fn,L=j.options,$=L===void 0?{}:L,R=j.name;typeof W=="function"&&(c=W({state:c,options:$,name:R,instance:f})||c)}}}},update:gc(function(){return new Promise(function(g){f.forceUpdate(),g(c)})}),destroy:function(){E(),p=!0}};if(!Wo(a,l))return f;f.setOptions(u).then(function(g){!p&&u.onFirstUpdate&&u.onFirstUpdate(g)});function w(){c.orderedModifiers.forEach(function(g){var m=g.name,C=g.options,T=C===void 0?{}:C,S=g.effect;if(typeof S=="function"){var j=S({state:c,name:m,instance:f,options:T}),W=function(){};_.push(j||W)}})}function E(){_.forEach(function(g){return g()}),_=[]}return f}}var yc=fn(),bc=[wo,Ao,bo,go],wc=fn({defaultModifiers:bc}),Ec=[wo,Ao,bo,go,Ta,wa,Na,ma,Ea],Co=fn({defaultModifiers:Ec});const Aa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:la,afterRead:ra,afterWrite:da,applyStyles:go,arrow:ma,auto:dn,basePlacements:_s,beforeMain:aa,beforeRead:na,beforeWrite:ca,bottom:Ye,clippingParents:ta,computeStyles:bo,createPopper:Co,createPopperBase:yc,createPopperLite:wc,detectOverflow:as,end:ss,eventListeners:wo,flip:wa,hide:Ea,left:je,main:ia,modifierPhases:_a,offset:Ta,placements:vo,popper:Zt,popperGenerator:fn,popperOffsets:Ao,preventOverflow:Na,read:oa,reference:sa,right:Ve,start:$t,top:Pe,variationPlacements:Zn,viewport:po,write:ua},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const mt=new Map,Nn={set(s,e,t){mt.has(s)||mt.set(s,new Map);const n=mt.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return mt.has(s)&&mt.get(s).get(e)||null},remove(s,e){if(!mt.has(s))return;const t=mt.get(s);t.delete(e),t.size===0&&mt.delete(s)}},Tc=1e6,Nc=1e3,Xn="transitionend",Ca=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),Ac=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),Cc=s=>{do s+=Math.floor(Math.random()*Tc);while(document.getElementById(s));return s},Ic=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Nc)},Ia=s=>{s.dispatchEvent(new Event(Xn))},_t=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),Et=s=>_t(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(Ca(s)):null,fs=s=>{if(!_t(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},Tt=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",ka=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?ka(s.parentNode):null},nn=()=>{},Os=s=>{s.offsetHeight},Sa=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,An=[],kc=s=>{document.readyState==="loading"?(An.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of An)e()}),An.push(s)):s()},Xe=()=>document.documentElement.dir==="rtl",et=s=>{kc(()=>{const e=Sa();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},We=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,xa=(s,e,t=!0)=>{if(!t){We(s);return}const o=Ic(e)+5;let r=!1;const i=({target:a})=>{a===e&&(r=!0,e.removeEventListener(Xn,i),We(s))};e.addEventListener(Xn,i),setTimeout(()=>{r||Ia(e)},o)},Io=(s,e,t,n)=>{const o=s.length;let r=s.indexOf(e);return r===-1?!t&&n?s[o-1]:s[0]:(r+=t?1:-1,n&&(r=(r+o)%o),s[Math.max(0,Math.min(r,o-1))])},Sc=/[^.]*(?=\..*)\.|.*/,xc=/\..*/,Oc=/::\d+$/,Cn={};let Ho=1;const Oa={mouseenter:"mouseover",mouseleave:"mouseout"},Mc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ma(s,e){return e&&`${e}::${Ho++}`||s.uidEvent||Ho++}function Da(s){const e=Ma(s);return s.uidEvent=e,Cn[e]=Cn[e]||{},Cn[e]}function Dc(s,e){return function t(n){return ko(n,{delegateTarget:s}),t.oneOff&&x.off(s,n.type,e),e.apply(s,[n])}}function Lc(s,e,t){return function n(o){const r=s.querySelectorAll(e);for(let{target:i}=o;i&&i!==this;i=i.parentNode)for(const a of r)if(a===i)return ko(o,{delegateTarget:i}),n.oneOff&&x.off(s,o.type,e,t),t.apply(i,[o])}}function La(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function $a(s,e,t){const n=typeof e=="string",o=n?t:e||t;let r=Ra(s);return Mc.has(r)||(r=s),[n,o,r]}function Bo(s,e,t,n,o){if(typeof e!="string"||!s)return;let[r,i,a]=$a(e,t,n);e in Oa&&(i=(w=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return w.call(this,E)})(i));const l=Da(s),u=l[a]||(l[a]={}),c=La(u,i,r?t:null);if(c){c.oneOff=c.oneOff&&o;return}const _=Ma(i,e.replace(Sc,"")),p=r?Lc(s,t,i):Dc(s,i);p.delegationSelector=r?t:null,p.callable=i,p.oneOff=o,p.uidEvent=_,u[_]=p,s.addEventListener(a,p,r)}function qn(s,e,t,n,o){const r=La(e[t],n,o);r&&(s.removeEventListener(t,r,!!o),delete e[t][r.uidEvent])}function $c(s,e,t,n){const o=e[t]||{};for(const[r,i]of Object.entries(o))r.includes(n)&&qn(s,e,t,i.callable,i.delegationSelector)}function Ra(s){return s=s.replace(xc,""),Oa[s]||s}const x={on(s,e,t,n){Bo(s,e,t,n,!1)},one(s,e,t,n){Bo(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,r,i]=$a(e,t,n),a=i!==e,l=Da(s),u=l[i]||{},c=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(u).length)return;qn(s,l,i,r,o?t:null);return}if(c)for(const _ of Object.keys(l))$c(s,l,_,e.slice(1));for(const[_,p]of Object.entries(u)){const f=_.replace(Oc,"");(!a||e.includes(f))&&qn(s,l,i,p.callable,p.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=Sa(),o=Ra(e),r=e!==o;let i=null,a=!0,l=!0,u=!1;r&&n&&(i=n.Event(e,t),n(s).trigger(i),a=!i.isPropagationStopped(),l=!i.isImmediatePropagationStopped(),u=i.isDefaultPrevented());const c=ko(new Event(e,{bubbles:a,cancelable:!0}),t);return u&&c.preventDefault(),l&&s.dispatchEvent(c),c.defaultPrevented&&i&&i.preventDefault(),c}};function ko(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function Yo(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function In(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ft={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${In(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${In(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Yo(s.dataset[n])}return e},getDataAttribute(s,e){return Yo(s.getAttribute(`data-bs-${In(e)}`))}};class Ms{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=_t(t)?ft.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},..._t(t)?ft.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const r=e[n],i=_t(r)?"element":Ac(r);if(!new RegExp(o).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${o}".`)}}}const Rc="5.3.3";class nt extends Ms{constructor(e,t){super(),e=Et(e),e&&(this._element=e,this._config=this._getConfig(t),Nn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Nn.remove(this._element,this.constructor.DATA_KEY),x.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){xa(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Nn.get(Et(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Rc}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const kn=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Ca(t)).join(","):null},Y={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!Tt(t)&&fs(t))},getSelectorFromElement(s){const e=kn(s);return e&&Y.findOne(e)?e:null},getElementFromSelector(s){const e=kn(s);return e?Y.findOne(e):null},getMultipleElementsFromSelector(s){const e=kn(s);return e?Y.find(e):[]}},pn=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;x.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Tt(this))return;const r=Y.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(r)[e]()})},Pc="alert",jc="bs.alert",Pa=`.${jc}`,zc=`close${Pa}`,Fc=`closed${Pa}`,Uc="fade",Wc="show";class vn extends nt{static get NAME(){return Pc}close(){if(x.trigger(this._element,zc).defaultPrevented)return;this._element.classList.remove(Wc);const t=this._element.classList.contains(Uc);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),x.trigger(this._element,Fc),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=vn.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}pn(vn,"close");et(vn);const Hc="button",Bc="bs.button",Yc=`.${Bc}`,Vc=".data-api",Gc="active",Vo='[data-bs-toggle="button"]',Kc=`click${Yc}${Vc}`;class hn extends nt{static get NAME(){return Hc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Gc))}static jQueryInterface(e){return this.each(function(){const t=hn.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}x.on(document,Kc,Vo,s=>{s.preventDefault();const e=s.target.closest(Vo);hn.getOrCreateInstance(e).toggle()});et(hn);const Zc="swipe",ps=".bs.swipe",Jc=`touchstart${ps}`,Qc=`touchmove${ps}`,Xc=`touchend${ps}`,qc=`pointerdown${ps}`,eu=`pointerup${ps}`,tu="touch",su="pen",nu="pointer-event",ou=40,ru={endCallback:null,leftCallback:null,rightCallback:null},au={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class on extends Ms{constructor(e,t){super(),this._element=e,!(!e||!on.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ru}static get DefaultType(){return au}static get NAME(){return Zc}dispose(){x.off(this._element,ps)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),We(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ou)return;const t=e/this._deltaX;this._deltaX=0,t&&We(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(x.on(this._element,qc,e=>this._start(e)),x.on(this._element,eu,e=>this._end(e)),this._element.classList.add(nu)):(x.on(this._element,Jc,e=>this._start(e)),x.on(this._element,Qc,e=>this._move(e)),x.on(this._element,Xc,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===su||e.pointerType===tu)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const iu="carousel",lu="bs.carousel",Ct=`.${lu}`,ja=".data-api",cu="ArrowLeft",uu="ArrowRight",du=500,ys="next",Wt="prev",Jt="left",Xs="right",_u=`slide${Ct}`,Sn=`slid${Ct}`,fu=`keydown${Ct}`,pu=`mouseenter${Ct}`,vu=`mouseleave${Ct}`,hu=`dragstart${Ct}`,gu=`load${Ct}${ja}`,mu=`click${Ct}${ja}`,za="carousel",js="active",yu="slide",bu="carousel-item-end",wu="carousel-item-start",Eu="carousel-item-next",Tu="carousel-item-prev",Fa=".active",Ua=".carousel-item",Nu=Fa+Ua,Au=".carousel-item img",Cu=".carousel-indicators",Iu="[data-bs-slide], [data-bs-slide-to]",ku='[data-bs-ride="carousel"]',Su={[cu]:Xs,[uu]:Jt},xu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ou={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ds extends nt{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Y.findOne(Cu,this._element),this._addEventListeners(),this._config.ride===za&&this.cycle()}static get Default(){return xu}static get DefaultType(){return Ou}static get NAME(){return iu}next(){this._slide(ys)}nextWhenVisible(){!document.hidden&&fs(this._element)&&this.next()}prev(){this._slide(Wt)}pause(){this._isSliding&&Ia(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){x.one(this._element,Sn,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){x.one(this._element,Sn,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?ys:Wt;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&x.on(this._element,fu,e=>this._keydown(e)),this._config.pause==="hover"&&(x.on(this._element,pu,()=>this.pause()),x.on(this._element,vu,()=>this._maybeEnableCycle())),this._config.touch&&on.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of Y.find(Au,this._element))x.on(n,hu,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Jt)),rightCallback:()=>this._slide(this._directionToOrder(Xs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),du+this._config.interval))}};this._swipeHelper=new on(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Su[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Y.findOne(Fa,this._indicatorsElement);t.classList.remove(js),t.removeAttribute("aria-current");const n=Y.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(js),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===ys,r=t||Io(this._getItems(),n,o,this._config.wrap);if(r===n)return;const i=this._getItemIndex(r),a=f=>x.trigger(this._element,f,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:i});if(a(_u).defaultPrevented||!n||!r)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=r;const c=o?wu:bu,_=o?Eu:Tu;r.classList.add(_),Os(r),n.classList.add(c),r.classList.add(c);const p=()=>{r.classList.remove(c,_),r.classList.add(js),n.classList.remove(js,_,c),this._isSliding=!1,a(Sn)};this._queueCallback(p,n,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(yu)}_getActive(){return Y.findOne(Nu,this._element)}_getItems(){return Y.find(Ua,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Xe()?e===Jt?Wt:ys:e===Jt?ys:Wt}_orderToDirection(e){return Xe()?e===Wt?Jt:Xs:e===Wt?Xs:Jt}static jQueryInterface(e){return this.each(function(){const t=Ds.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}x.on(document,mu,Iu,function(s){const e=Y.getElementFromSelector(this);if(!e||!e.classList.contains(za))return;s.preventDefault();const t=Ds.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(ft.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});x.on(window,gu,()=>{const s=Y.find(ku);for(const e of s)Ds.getOrCreateInstance(e)});et(Ds);const Mu="collapse",Du="bs.collapse",Ls=`.${Du}`,Lu=".data-api",$u=`show${Ls}`,Ru=`shown${Ls}`,Pu=`hide${Ls}`,ju=`hidden${Ls}`,zu=`click${Ls}${Lu}`,xn="show",qt="collapse",zs="collapsing",Fu="collapsed",Uu=`:scope .${qt} .${qt}`,Wu="collapse-horizontal",Hu="width",Bu="height",Yu=".collapse.show, .collapse.collapsing",eo='[data-bs-toggle="collapse"]',Vu={parent:null,toggle:!0},Gu={parent:"(null|element)",toggle:"boolean"};class Is extends nt{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=Y.find(eo);for(const o of n){const r=Y.getSelectorFromElement(o),i=Y.find(r).filter(a=>a===this._element);r!==null&&i.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Vu}static get DefaultType(){return Gu}static get NAME(){return Mu}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Yu).filter(a=>a!==this._element).map(a=>Is.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||x.trigger(this._element,$u).defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove(qt),this._element.classList.add(zs),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(zs),this._element.classList.add(qt,xn),this._element.style[n]="",x.trigger(this._element,Ru)},i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||x.trigger(this._element,Pu).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Os(this._element),this._element.classList.add(zs),this._element.classList.remove(qt,xn);for(const o of this._triggerArray){const r=Y.getElementFromSelector(o);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(zs),this._element.classList.add(qt),x.trigger(this._element,ju)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(xn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Et(e.parent),e}_getDimension(){return this._element.classList.contains(Wu)?Hu:Bu}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(eo);for(const t of e){const n=Y.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=Y.find(Uu,this._config.parent);return Y.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(Fu,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=Is.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}x.on(document,zu,eo,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of Y.getMultipleElementsFromSelector(this))Is.getOrCreateInstance(e,{toggle:!1}).toggle()});et(Is);const Go="dropdown",Ku="bs.dropdown",Pt=`.${Ku}`,So=".data-api",Zu="Escape",Ko="Tab",Ju="ArrowUp",Zo="ArrowDown",Qu=2,Xu=`hide${Pt}`,qu=`hidden${Pt}`,ed=`show${Pt}`,td=`shown${Pt}`,Wa=`click${Pt}${So}`,Ha=`keydown${Pt}${So}`,sd=`keyup${Pt}${So}`,Qt="show",nd="dropup",od="dropend",rd="dropstart",ad="dropup-center",id="dropdown-center",Ot='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ld=`${Ot}.${Qt}`,qs=".dropdown-menu",cd=".navbar",ud=".navbar-nav",dd=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",_d=Xe()?"top-end":"top-start",fd=Xe()?"top-start":"top-end",pd=Xe()?"bottom-end":"bottom-start",vd=Xe()?"bottom-start":"bottom-end",hd=Xe()?"left-start":"right-start",gd=Xe()?"right-start":"left-start",md="top",yd="bottom",bd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},wd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class at extends nt{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Y.next(this._element,qs)[0]||Y.prev(this._element,qs)[0]||Y.findOne(qs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return bd}static get DefaultType(){return wd}static get NAME(){return Go}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Tt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!x.trigger(this._element,ed,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ud))for(const n of[].concat(...document.body.children))x.on(n,"mouseover",nn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qt),this._element.classList.add(Qt),x.trigger(this._element,td,e)}}hide(){if(Tt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!x.trigger(this._element,Xu,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))x.off(n,"mouseover",nn);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qt),this._element.classList.remove(Qt),this._element.setAttribute("aria-expanded","false"),ft.removeDataAttribute(this._menu,"popper"),x.trigger(this._element,qu,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!_t(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Go.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Aa>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:_t(this._config.reference)?e=Et(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Co(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Qt)}_getPlacement(){const e=this._parent;if(e.classList.contains(od))return hd;if(e.classList.contains(rd))return gd;if(e.classList.contains(ad))return md;if(e.classList.contains(id))return yd;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(nd)?t?fd:_d:t?vd:pd}_detectNavbar(){return this._element.closest(cd)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ft.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...We(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=Y.find(dd,this._menu).filter(o=>fs(o));n.length&&Io(n,t,e===Zo,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=at.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Qu||e.type==="keyup"&&e.key!==Ko)return;const t=Y.find(ld);for(const n of t){const o=at.getInstance(n);if(!o||o._config.autoClose===!1)continue;const r=e.composedPath(),i=r.includes(o._menu);if(r.includes(o._element)||o._config.autoClose==="inside"&&!i||o._config.autoClose==="outside"&&i||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Ko||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:o._element};e.type==="click"&&(a.clickEvent=e),o._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Zu,o=[Ju,Zo].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const r=this.matches(Ot)?this:Y.prev(this,Ot)[0]||Y.next(this,Ot)[0]||Y.findOne(Ot,e.delegateTarget.parentNode),i=at.getOrCreateInstance(r);if(o){e.stopPropagation(),i.show(),i._selectMenuItem(e);return}i._isShown()&&(e.stopPropagation(),i.hide(),r.focus())}}x.on(document,Ha,Ot,at.dataApiKeydownHandler);x.on(document,Ha,qs,at.dataApiKeydownHandler);x.on(document,Wa,at.clearMenus);x.on(document,sd,at.clearMenus);x.on(document,Wa,Ot,function(s){s.preventDefault(),at.getOrCreateInstance(this).toggle()});et(at);const Ba="backdrop",Ed="fade",Jo="show",Qo=`mousedown.bs.${Ba}`,Td={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Nd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ya extends Ms{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Td}static get DefaultType(){return Nd}static get NAME(){return Ba}show(e){if(!this._config.isVisible){We(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Os(t),t.classList.add(Jo),this._emulateAnimation(()=>{We(e)})}hide(e){if(!this._config.isVisible){We(e);return}this._getElement().classList.remove(Jo),this._emulateAnimation(()=>{this.dispose(),We(e)})}dispose(){this._isAppended&&(x.off(this._element,Qo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ed),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Et(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),x.on(e,Qo,()=>{We(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){xa(e,this._getElement(),this._config.isAnimated)}}const Ad="focustrap",Cd="bs.focustrap",rn=`.${Cd}`,Id=`focusin${rn}`,kd=`keydown.tab${rn}`,Sd="Tab",xd="forward",Xo="backward",Od={autofocus:!0,trapElement:null},Md={autofocus:"boolean",trapElement:"element"};class Va extends Ms{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Od}static get DefaultType(){return Md}static get NAME(){return Ad}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),x.off(document,rn),x.on(document,Id,e=>this._handleFocusin(e)),x.on(document,kd,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,x.off(document,rn))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=Y.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===Xo?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Sd&&(this._lastTabNavDirection=e.shiftKey?Xo:xd)}}const qo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",er=".sticky-top",Fs="padding-right",tr="margin-right";class to{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fs,t=>t+e),this._setElementAttributes(qo,Fs,t=>t+e),this._setElementAttributes(er,tr,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fs),this._resetElementAttributes(qo,Fs),this._resetElementAttributes(er,tr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),r=i=>{if(i!==this._element&&window.innerWidth>i.clientWidth+o)return;this._saveInitialAttribute(i,t);const a=window.getComputedStyle(i).getPropertyValue(t);i.style.setProperty(t,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&ft.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const r=ft.getDataAttribute(o,t);if(r===null){o.style.removeProperty(t);return}ft.removeDataAttribute(o,t),o.style.setProperty(t,r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(_t(e)){t(e);return}for(const n of Y.find(e,this._element))t(n)}}const Dd="modal",Ld="bs.modal",qe=`.${Ld}`,$d=".data-api",Rd="Escape",Pd=`hide${qe}`,jd=`hidePrevented${qe}`,Ga=`hidden${qe}`,Ka=`show${qe}`,zd=`shown${qe}`,Fd=`resize${qe}`,Ud=`click.dismiss${qe}`,Wd=`mousedown.dismiss${qe}`,Hd=`keydown.dismiss${qe}`,Bd=`click${qe}${$d}`,sr="modal-open",Yd="fade",nr="show",On="modal-static",Vd=".modal.show",Gd=".modal-dialog",Kd=".modal-body",Zd='[data-bs-toggle="modal"]',Jd={backdrop:!0,focus:!0,keyboard:!0},Qd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class is extends nt{constructor(e,t){super(e,t),this._dialog=Y.findOne(Gd,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new to,this._addEventListeners()}static get Default(){return Jd}static get DefaultType(){return Qd}static get NAME(){return Dd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||x.trigger(this._element,Ka,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(sr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||x.trigger(this._element,Pd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){x.off(window,qe),x.off(this._dialog,qe),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ya({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Va({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Y.findOne(Kd,this._dialog);t&&(t.scrollTop=0),Os(this._element),this._element.classList.add(nr);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,x.trigger(this._element,zd,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){x.on(this._element,Hd,e=>{if(e.key===Rd){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),x.on(window,Fd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),x.on(this._element,Wd,e=>{x.one(this._element,Ud,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(sr),this._resetAdjustments(),this._scrollBar.reset(),x.trigger(this._element,Ga)})}_isAnimated(){return this._element.classList.contains(Yd)}_triggerBackdropTransition(){if(x.trigger(this._element,jd).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(On)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(On),this._queueCallback(()=>{this._element.classList.remove(On),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Xe()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Xe()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=is.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}x.on(document,Bd,Zd,function(s){const e=Y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),x.one(e,Ka,o=>{o.defaultPrevented||x.one(e,Ga,()=>{fs(this)&&this.focus()})});const t=Y.findOne(Vd);t&&is.getInstance(t).hide(),is.getOrCreateInstance(e).toggle(this)});pn(is);et(is);const Xd="offcanvas",qd="bs.offcanvas",ht=`.${qd}`,Za=".data-api",e_=`load${ht}${Za}`,t_="Escape",or="show",rr="showing",ar="hiding",s_="offcanvas-backdrop",Ja=".offcanvas.show",n_=`show${ht}`,o_=`shown${ht}`,r_=`hide${ht}`,ir=`hidePrevented${ht}`,Qa=`hidden${ht}`,a_=`resize${ht}`,i_=`click${ht}${Za}`,l_=`keydown.dismiss${ht}`,c_='[data-bs-toggle="offcanvas"]',u_={backdrop:!0,keyboard:!0,scroll:!1},d_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Nt extends nt{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return u_}static get DefaultType(){return d_}static get NAME(){return Xd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||x.trigger(this._element,n_,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new to().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(rr);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(or),this._element.classList.remove(rr),x.trigger(this._element,o_,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||x.trigger(this._element,r_).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ar),this._backdrop.hide();const t=()=>{this._element.classList.remove(or,ar),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new to().reset(),x.trigger(this._element,Qa)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){x.trigger(this._element,ir);return}this.hide()},t=!!this._config.backdrop;return new Ya({className:s_,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Va({trapElement:this._element})}_addEventListeners(){x.on(this._element,l_,e=>{if(e.key===t_){if(this._config.keyboard){this.hide();return}x.trigger(this._element,ir)}})}static jQueryInterface(e){return this.each(function(){const t=Nt.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}x.on(document,i_,c_,function(s){const e=Y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Tt(this))return;x.one(e,Qa,()=>{fs(this)&&this.focus()});const t=Y.findOne(Ja);t&&t!==e&&Nt.getInstance(t).hide(),Nt.getOrCreateInstance(e).toggle(this)});x.on(window,e_,()=>{for(const s of Y.find(Ja))Nt.getOrCreateInstance(s).show()});x.on(window,a_,()=>{for(const s of Y.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&Nt.getOrCreateInstance(s).hide()});pn(Nt);et(Nt);const __=/^aria-[\w-]*$/i,Xa={"*":["class","dir","id","lang","role",__],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},f_=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),p_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,v_=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?f_.has(t)?!!p_.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function h_(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...o.body.querySelectorAll("*"));for(const i of r){const a=i.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){i.remove();continue}const l=[].concat(...i.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(const c of l)v_(c,u)||i.removeAttribute(c.nodeName)}return o.body.innerHTML}const g_="TemplateFactory",m_={allowList:Xa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},y_={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},b_={entry:"(string|element|function|null)",selector:"(string|element)"};class w_ extends Ms{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return m_}static get DefaultType(){return y_}static get NAME(){return g_}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,r]of Object.entries(this._config.content))this._setContent(e,r,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},b_)}_setContent(e,t,n){const o=Y.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(_t(t)){this._putElementInTemplate(Et(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?h_(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return We(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const E_="tooltip",T_=new Set(["sanitize","allowList","sanitizeFn"]),Mn="fade",N_="modal",Us="show",A_=".tooltip-inner",lr=`.${N_}`,cr="hide.bs.modal",bs="hover",Dn="focus",C_="click",I_="manual",k_="hide",S_="hidden",x_="show",O_="shown",M_="inserted",D_="click",L_="focusin",$_="focusout",R_="mouseenter",P_="mouseleave",j_={AUTO:"auto",TOP:"top",RIGHT:Xe()?"left":"right",BOTTOM:"bottom",LEFT:Xe()?"right":"left"},z_={allowList:Xa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},F_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class vs extends nt{constructor(e,t){if(typeof Aa>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return z_}static get DefaultType(){return F_}static get NAME(){return E_}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),x.off(this._element.closest(lr),cr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=x.trigger(this._element,this.constructor.eventName(x_)),n=(ka(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(o),x.trigger(this._element,this.constructor.eventName(M_))),this._popper=this._createPopper(o),o.classList.add(Us),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))x.on(a,"mouseover",nn);const i=()=>{x.trigger(this._element,this.constructor.eventName(O_)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(i,this.tip,this._isAnimated())}hide(){if(!this._isShown()||x.trigger(this._element,this.constructor.eventName(k_)).defaultPrevented)return;if(this._getTipElement().classList.remove(Us),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))x.off(o,"mouseover",nn);this._activeTrigger[C_]=!1,this._activeTrigger[Dn]=!1,this._activeTrigger[bs]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),x.trigger(this._element,this.constructor.eventName(S_)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Mn,Us),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Cc(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Mn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new w_({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[A_]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mn)}_isShown(){return this.tip&&this.tip.classList.contains(Us)}_createPopper(e){const t=We(this._config.placement,[this,e,this._element]),n=j_[t.toUpperCase()];return Co(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return We(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...We(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")x.on(this._element,this.constructor.eventName(D_),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==I_){const n=t===bs?this.constructor.eventName(R_):this.constructor.eventName(L_),o=t===bs?this.constructor.eventName(P_):this.constructor.eventName($_);x.on(this._element,n,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusin"?Dn:bs]=!0,i._enter()}),x.on(this._element,o,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusout"?Dn:bs]=i._element.contains(r.relatedTarget),i._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},x.on(this._element.closest(lr),cr,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ft.getDataAttributes(this._element);for(const n of Object.keys(t))T_.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Et(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=vs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}et(vs);const U_="popover",W_=".popover-header",H_=".popover-body",B_={...vs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Y_={...vs.DefaultType,content:"(null|string|element|function)"};class xo extends vs{static get Default(){return B_}static get DefaultType(){return Y_}static get NAME(){return U_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[W_]:this._getTitle(),[H_]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=xo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}et(xo);const V_="scrollspy",G_="bs.scrollspy",Oo=`.${G_}`,K_=".data-api",Z_=`activate${Oo}`,ur=`click${Oo}`,J_=`load${Oo}${K_}`,Q_="dropdown-item",Ht="active",X_='[data-bs-spy="scroll"]',Ln="[href]",q_=".nav, .list-group",dr=".nav-link",ef=".nav-item",tf=".list-group-item",sf=`${dr}, ${ef} > ${dr}, ${tf}`,nf=".dropdown",of=".dropdown-toggle",rf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},af={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gn extends nt{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rf}static get DefaultType(){return af}static get NAME(){return V_}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Et(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(x.off(this._config.target,ur),x.on(this._config.target,ur,Ln,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=i=>this._targetLinks.get(`#${i.target.id}`),n=i=>{this._previousScrollData.visibleEntryTop=i.target.offsetTop,this._process(t(i))},o=(this._rootElement||document.documentElement).scrollTop,r=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const a=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(n(i),!o)return;continue}!r&&!a&&n(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Y.find(Ln,this._config.target);for(const t of e){if(!t.hash||Tt(t))continue;const n=Y.findOne(decodeURI(t.hash),this._element);fs(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ht),this._activateParents(e),x.trigger(this._element,Z_,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Q_)){Y.findOne(of,e.closest(nf)).classList.add(Ht);return}for(const t of Y.parents(e,q_))for(const n of Y.prev(t,sf))n.classList.add(Ht)}_clearActiveClass(e){e.classList.remove(Ht);const t=Y.find(`${Ln}.${Ht}`,e);for(const n of t)n.classList.remove(Ht)}static jQueryInterface(e){return this.each(function(){const t=gn.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}x.on(window,J_,()=>{for(const s of Y.find(X_))gn.getOrCreateInstance(s)});et(gn);const lf="tab",cf="bs.tab",jt=`.${cf}`,uf=`hide${jt}`,df=`hidden${jt}`,_f=`show${jt}`,ff=`shown${jt}`,pf=`click${jt}`,vf=`keydown${jt}`,hf=`load${jt}`,gf="ArrowLeft",_r="ArrowRight",mf="ArrowUp",fr="ArrowDown",$n="Home",pr="End",Mt="active",vr="fade",Rn="show",yf="dropdown",qa=".dropdown-toggle",bf=".dropdown-menu",Pn=`:not(${qa})`,wf='.list-group, .nav, [role="tablist"]',Ef=".nav-item, .list-group-item",Tf=`.nav-link${Pn}, .list-group-item${Pn}, [role="tab"]${Pn}`,ei='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jn=`${Tf}, ${ei}`,Nf=`.${Mt}[data-bs-toggle="tab"], .${Mt}[data-bs-toggle="pill"], .${Mt}[data-bs-toggle="list"]`;class ls extends nt{constructor(e){super(e),this._parent=this._element.closest(wf),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),x.on(this._element,vf,t=>this._keydown(t)))}static get NAME(){return lf}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?x.trigger(t,uf,{relatedTarget:e}):null;x.trigger(e,_f,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Mt),this._activate(Y.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Rn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),x.trigger(e,ff,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(vr))}_deactivate(e,t){if(!e)return;e.classList.remove(Mt),e.blur(),this._deactivate(Y.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Rn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),x.trigger(e,df,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(vr))}_keydown(e){if(![gf,_r,mf,fr,$n,pr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!Tt(o));let n;if([$n,pr].includes(e.key))n=t[e.key===$n?0:t.length-1];else{const o=[_r,fr].includes(e.key);n=Io(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),ls.getOrCreateInstance(n).show())}_getChildren(){return Y.find(jn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Y.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(yf))return;const o=(r,i)=>{const a=Y.findOne(r,n);a&&a.classList.toggle(i,t)};o(qa,Mt),o(bf,Rn),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Mt)}_getInnerElement(e){return e.matches(jn)?e:Y.findOne(jn,e)}_getOuterElement(e){return e.closest(Ef)||e}static jQueryInterface(e){return this.each(function(){const t=ls.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}x.on(document,pf,ei,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!Tt(this)&&ls.getOrCreateInstance(this).show()});x.on(window,hf,()=>{for(const s of Y.find(Nf))ls.getOrCreateInstance(s)});et(ls);const Af="toast",Cf="bs.toast",It=`.${Cf}`,If=`mouseover${It}`,kf=`mouseout${It}`,Sf=`focusin${It}`,xf=`focusout${It}`,Of=`hide${It}`,Mf=`hidden${It}`,Df=`show${It}`,Lf=`shown${It}`,$f="fade",hr="hide",Ws="show",Hs="showing",Rf={animation:"boolean",autohide:"boolean",delay:"number"},Pf={animation:!0,autohide:!0,delay:5e3};class mn extends nt{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pf}static get DefaultType(){return Rf}static get NAME(){return Af}show(){if(x.trigger(this._element,Df).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add($f);const t=()=>{this._element.classList.remove(Hs),x.trigger(this._element,Lf),this._maybeScheduleHide()};this._element.classList.remove(hr),Os(this._element),this._element.classList.add(Ws,Hs),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||x.trigger(this._element,Of).defaultPrevented)return;const t=()=>{this._element.classList.add(hr),this._element.classList.remove(Hs,Ws),x.trigger(this._element,Mf)};this._element.classList.add(Hs),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ws),super.dispose()}isShown(){return this._element.classList.contains(Ws)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){x.on(this._element,If,e=>this._onInteraction(e,!0)),x.on(this._element,kf,e=>this._onInteraction(e,!1)),x.on(this._element,Sf,e=>this._onInteraction(e,!0)),x.on(this._element,xf,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=mn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}pn(mn);et(mn);/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ti;const yn=s=>ti=s,si=Symbol();function so(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Cs;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Cs||(Cs={}));function jf(){const s=Yr(!0),e=s.run(()=>N({}));let t=[],n=[];const o=Vr({install(r){yn(o),o._a=r,r.provide(si,o),r.config.globalProperties.$pinia=o,n.forEach(i=>t.push(i)),n=[]},use(r){return this._a?t.push(r):n.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const ni=()=>{};function gr(s,e,t,n=ni){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&bi()&&wi(o),o}function Bt(s,...e){s.slice().forEach(t=>{t(...e)})}const zf=s=>s(),mr=Symbol(),zn=Symbol();function no(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];so(o)&&so(n)&&s.hasOwnProperty(t)&&!tn(n)&&!Gr(n)?s[t]=no(o,n):s[t]=n}return s}const Ff=Symbol();function Uf(s){return!so(s)||!s.hasOwnProperty(Ff)}const{assign:bt}=Object;function Wf(s){return!!(tn(s)&&s.effect)}function Hf(s,e,t,n){const{state:o,actions:r,getters:i}=e,a=t.state.value[s];let l;function u(){a||(t.state.value[s]=o?o():{});const c=Ti(t.state.value[s]);return bt(c,r,Object.keys(i||{}).reduce((_,p)=>(_[p]=Vr(B(()=>{yn(t);const f=t._s.get(s);return i[p].call(f,f)})),_),{}))}return l=oi(s,u,e,t,n,!0),l}function oi(s,e,t={},n,o,r){let i;const a=bt({actions:{}},t),l={deep:!0};let u,c,_=[],p=[],f;const w=n.state.value[s];!r&&!w&&(n.state.value[s]={}),N({});let E;function g($){let R;u=c=!1,typeof $=="function"?($(n.state.value[s]),R={type:Cs.patchFunction,storeId:s,events:f}):(no(n.state.value[s],$),R={type:Cs.patchObject,payload:$,storeId:s,events:f});const M=E=Symbol();Ei().then(()=>{E===M&&(u=!0)}),c=!0,Bt(_,R,n.state.value[s])}const m=r?function(){const{state:R}=t,M=R?R():{};this.$patch(z=>{bt(z,M)})}:ni;function C(){i.stop(),_=[],p=[],n._s.delete(s)}const T=($,R="")=>{if(mr in $)return $[zn]=R,$;const M=function(){yn(n);const z=Array.from(arguments),oe=[],le=[];function V(Q){oe.push(Q)}function H(Q){le.push(Q)}Bt(p,{args:z,name:M[zn],store:j,after:V,onError:H});let ee;try{ee=$.apply(this&&this.$id===s?this:j,z)}catch(Q){throw Bt(le,Q),Q}return ee instanceof Promise?ee.then(Q=>(Bt(oe,Q),Q)).catch(Q=>(Bt(le,Q),Promise.reject(Q))):(Bt(oe,ee),ee)};return M[mr]=!0,M[zn]=R,M},S={_p:n,$id:s,$onAction:gr.bind(null,p),$patch:g,$reset:m,$subscribe($,R={}){const M=gr(_,$,R.detached,()=>z()),z=i.run(()=>dt(()=>n.state.value[s],oe=>{(R.flush==="sync"?c:u)&&$({storeId:s,type:Cs.direct,events:f},oe)},bt({},l,R)));return M},$dispose:C},j=mi(S);n._s.set(s,j);const L=(n._a&&n._a.runWithContext||zf)(()=>n._e.run(()=>(i=Yr()).run(()=>e({action:T}))));for(const $ in L){const R=L[$];if(tn(R)&&!Wf(R)||Gr(R))r||(w&&Uf(R)&&(tn(R)?R.value=w[$]:no(R,w[$])),n.state.value[s][$]=R);else if(typeof R=="function"){const M=T(R,$);L[$]=M,a.actions[$]=R}}return bt(j,L),bt(yi(j),L),Object.defineProperty(j,"$state",{get:()=>n.state.value[s],set:$=>{g(R=>{bt(R,$)})}}),n._p.forEach($=>{bt(j,i.run(()=>$({store:j,app:n._a,pinia:n,options:a})))}),w&&r&&t.hydrate&&t.hydrate(j.$state,w),u=!0,c=!0,j}/*! #__NO_SIDE_EFFECTS__ */function zt(s,e,t){let n;const o=typeof e=="function";n=o?t:e;function r(i,a){const l=Ai();return i=i||(l?Ni(si,null):null),i&&yn(i),i=ti,i._s.has(s)||(o?oi(s,e,n,i):Hf(s,n,i)),i._s.get(s)}return r.$id=s,r}const Bf=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Yf=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Vf=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Gf(s,e){if(s==="__proto__"||s==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Kf(s);return}return e}function Kf(s){console.warn(`[destr] Dropping "${s}" key to prevent prototype pollution.`)}function Zf(s,e={}){if(typeof s!="string")return s;const t=s.trim();if(s[0]==='"'&&s.endsWith('"')&&!s.includes("\\"))return t.slice(1,-1);if(t.length<=9){const n=t.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Vf.test(s)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return s}try{if(Bf.test(s)||Yf.test(s)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(s,Gf)}return JSON.parse(s)}catch(n){if(e.strict)throw n;return s}}function Jf(s,e){if(s==null)return;let t=s;for(let n=0;n<e.length;n++){if(t==null||t[e[n]]==null)return;t=t[e[n]]}return t}function Mo(s,e,t){if(t.length===0)return e;const n=t[0];return t.length>1&&(e=Mo(typeof s!="object"||s===null||!Object.prototype.hasOwnProperty.call(s,n)?Number.isInteger(Number(t[1]))?[]:{}:s[n],e,Array.prototype.slice.call(t,1))),Number.isInteger(Number(n))&&Array.isArray(s)?s.slice()[n]:Object.assign({},s,{[n]:e})}function ri(s,e){if(s==null||e.length===0)return s;if(e.length===1){if(s==null)return s;if(Number.isInteger(e[0])&&Array.isArray(s))return Array.prototype.slice.call(s,0).splice(e[0],1);const t={};for(const n in s)t[n]=s[n];return delete t[e[0]],t}if(s[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(s))return Array.prototype.concat.call([],s);const t={};for(const n in s)t[n]=s[n];return t}return Mo(s,ri(s[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function ai(s,e){return e.map(t=>t.split(".")).map(t=>[t,Jf(s,t)]).filter(t=>t[1]!==void 0).reduce((t,n)=>Mo(t,n[1],n[0]),{})}function ii(s,e){return e.map(t=>t.split(".")).reduce((t,n)=>ri(t,n),s)}function yr(s,{storage:e,serializer:t,key:n,debug:o,pick:r,omit:i,beforeHydrate:a,afterHydrate:l},u,c=!0){try{c&&(a==null||a(u));const _=e.getItem(n);if(_){const p=t.deserialize(_),f=r?ai(p,r):p,w=i?ii(f,i):f;s.$patch(w)}c&&(l==null||l(u))}catch(_){o&&console.error("[pinia-plugin-persistedstate]",_)}}function br(s,{storage:e,serializer:t,key:n,debug:o,pick:r,omit:i}){try{const a=r?ai(s,r):s,l=i?ii(a,i):a,u=t.serialize(l);e.setItem(n,u)}catch(a){o&&console.error("[pinia-plugin-persistedstate]",a)}}function Qf(s,e,t){const{pinia:n,store:o,options:{persist:r=t}}=s;if(!r)return;if(!(o.$id in n.state.value)){const l=n._s.get(o.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(r)?r:r===!0?[{}]:[r]).map(e);o.$hydrate=({runHooks:l=!0}={})=>{a.forEach(u=>{yr(o,u,s,l)})},o.$persist=()=>{a.forEach(l=>{br(o.$state,l)})},a.forEach(l=>{yr(o,l,s),o.$subscribe((u,c)=>br(c,l),{detached:!0})})}function Xf(s={}){return function(e){Qf(e,t=>({key:(s.key?s.key:n=>n)(t.key??e.store.$id),debug:t.debug??s.debug??!1,serializer:t.serializer??s.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>Zf(n)},storage:t.storage??s.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),s.auto??!1)}}var qf=Xf();const hs=zt("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=N([]),t=N(new Re([],s)),n=N(!1),o=structuredClone(s);o.keys=[];const r=structuredClone(s);r.keys=["name","type"];const i=N(new Re([],o)),a=N(new Re([],o)),l=N(new Re([],o)),u=N(new Re([],o)),c=N(new Re([],r)),_=N(new Re([],r)),p=N(new Re([],r));function f(T){n.value=T}function w(T){const S=T.split("/");S.length===3&&e.value.push(S[0]+"."+S[1]+"."+S[2])}function E(T){u.value.add(T+"_Request"),u.value.add(T+"_Response")}function g(T){u.value.add(T+"_Goal"),u.value.add(T+"_Result"),u.value.add(T+"_Feedback")}function m(T){e.value=[],i.value.setCollection(T.topics),a.value.setCollection(T.services),l.value.setCollection(T.actions),u.value.setCollection(T.topics),T.services.forEach(E),T.actions.forEach(g),T.topics.forEach(w),t.value.setCollection(e.value)}function C(T){c.value.setCollection(T.topics),_.value.setCollection(T.services),p.value.setCollection(T.actions)}return{messages:e,messages_fuse:t,messages_available:n,ros_topic_type_fuse:i,ros_service_type_fuse:a,ros_action_type_fuse:l,ros_all_messages_fuse:u,ros_topic_name_fuse:c,ros_service_name_fuse:_,ros_action_name_fuse:p,areMessagesAvailable:f,updateAvailableMessages:m,updateMessageChannels:C}}),bn=zt("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=ne([]),t=ne(new Re([],s)),n=N(!1);function o(i){n.value=i}function r(i){e.value=i,t.value=new Re(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:r}}),gs=zt("nodes",()=>{const s=be(),e={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},t=ne([]),n=ne(new Re([],e)),o=ne([]);function r(u){t.value=u;const c=u.map(_=>(_.max_children<0?_.node_type="Flow control":_.max_children>0?_.node_type="Decorator":_.node_type="Leaf",_));n.value=new Re(c,e)}function i(u){if(u===""){o.value=[];return}o.value=n.value.search(u).map(c=>c.item)}function a(){o.value=[]}function l(u){s.get_available_nodes_service.callService({node_modules:[u]},c=>{c.success?(r(c.available_nodes),O({title:"Updated available BT nodes!",type:"success"})):O({title:"Failed to update available BT nodes!",text:c.error_message,type:"error"})},c=>{O({title:"Failed to call GetAvailableNodes service!",text:c,type:"error"})})}return{nodes:t,nodes_fuse:n,filtered_nodes:o,updateAvailableNode:r,filterNodes:i,clearFilteredNodes:a,getNodes:l}}),Te="00000000-0000-0000-0000-000000000000",ep=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function li(s){return typeof s=="string"&&ep.test(s)}const Se=[];for(let s=0;s<256;++s)Se.push((s+256).toString(16).slice(1));function tp(s,e=0){return(Se[s[e+0]]+Se[s[e+1]]+Se[s[e+2]]+Se[s[e+3]]+"-"+Se[s[e+4]]+Se[s[e+5]]+"-"+Se[s[e+6]]+Se[s[e+7]]+"-"+Se[s[e+8]]+Se[s[e+9]]+"-"+Se[s[e+10]]+Se[s[e+11]]+Se[s[e+12]]+Se[s[e+13]]+Se[s[e+14]]+Se[s[e+15]]).toLowerCase()}let Fn;const sp=new Uint8Array(16);function np(){if(!Fn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fn=crypto.getRandomValues.bind(crypto)}return Fn(sp)}const op=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wr={randomUUID:op};function rp(s,e,t){var o;s=s||{};const n=s.random??((o=s.rng)==null?void 0:o.call(s))??np();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,tp(n)}function ci(s,e,t){return wr.randomUUID?wr.randomUUID():rp(s)}var $e=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))($e||{});const Me=new Map,ap="ros_bt_py.custom_types.TypeWrapper",Er="collections.OrderedDict";Me.set(Er,{"py/reduce":[{"py/type":Er},{"py/tuple":[[]]},null,null,null]});const Tr="ros_bt_py.ros_helpers.LoggerLevel";Me.set(Tr,{"py/object":Tr,logger_level:"Debug"});const oo="ros_bt_py.helpers.MathUnaryOperator";Me.set(oo,{"py/object":oo,operator:"sqrt"});const ro="ros_bt_py.helpers.MathBinaryOperator";Me.set(ro,{"py/object":ro,operator:"+"});const ao="ros_bt_py.helpers.MathOperandType";Me.set(ao,{"py/object":ao,operand_type:"float"});const io="ros_bt_py.helpers.MathUnaryOperandType";Me.set(io,{"py/object":io,operand_type:"float"});const Nr="ros_bt_py.ros_helpers.EnumValue";Me.set(Nr,{"py/object":Nr,enum_value:"",field_names:[]});const lo="ros_bt_py.custom_types.FilePath";Me.set(lo,{"py/object":lo,path:""});const ks="ros_bt_py.custom_types.RosTopicType";Me.set(ks,{"py/object":ks,type_str:"example_interfaces/msg/Empty"});const an="ros_bt_py.custom_types.RosServiceType";Me.set(an,{"py/object":an,type_str:"example_interfaces/srv/Trigger"});const ln="ros_bt_py.custom_types.RosActionType";Me.set(ln,{"py/object":ln,type_str:"example_interfaces/action/Fibonacci"});const co="ros_bt_py.custom_types.RosTopicName";Me.set(co,{"py/object":co,name:""});const uo="ros_bt_py.custom_types.RosServiceName";Me.set(uo,{"py/object":uo,name:""});const _o="ros_bt_py.custom_types.RosActionName";Me.set(_o,{"py/object":_o,name:""});function ip(s){return Me.has(s)}function lp(s){return structuredClone(Me.get(s))}var De=(s=>(s.RUNNING="RUNNING",s.IDLE="IDLE",s.SUCCEEDED="SUCCEEDED",s.FAILED="FAILED",s.SHUTDOWN="SHUTDOWN",s.UNINITIALIZED="UNINITIALIZED",s.UNASSIGNED="UNASSIGNED",s.ASSIGNED="ASSIGNED",s.BROKEN="BROKEN",s.PAUSED="PAUSED",s))(De||{}),Le=(s=>(s.IDLE="IDLE",s.EDITABLE="EDITABLE",s.TICKING="TICKING",s.WAITING_FOR_TICK="WAITING_FOR_TICK",s.STOP_REQUESTED="STOP_REQUESTED",s.ERROR="ERROR",s))(Le||{}),Ue=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))(Ue||{}),Z=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.ROOT="root",s))(Z||{}),ut=(s=>(s.FILE="file",s.DIR="directory",s))(ut||{}),Ee=(s=>(s[s.DEBUG=10]="DEBUG",s[s.INFO=20]="INFO",s[s.WARN=30]="WARN",s[s.ERROR=40]="ERROR",s[s.FATAL=50]="FATAL",s))(Ee||{});function cp(s){return new Date(s.sec*1e3+s.nanosec/1e6)}function ae(s){if(!li(s))throw TypeError(`Message ${s} is not a valid uuid`);return s}function st(s){if(!li(s))throw TypeError(`String ${s} is not a valid uuid`);return s}function es(s,e){return ae(s)===ae(e)}function ui(s,e){return s.nodes.find(t=>t.tree_ref===""?!1:ae(t.tree_ref)===e)}function Ar(s,e){if(s.node.data.node_id===e.node.data.node_id||s.kind===e.kind)return!1;const t=s.kind===Ue.OUTPUT?s:e,n=s.kind===Ue.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:ke(t.type)===ke(n.type)}const en=["int","float","str","bytes","bool","list","dict","set","type"];function fo(s){return s.length%2!=0&&(s="0"+s),{"py/b64":Uint8Array.fromHex(s).toBase64()}}function di(s){return Uint8Array.fromBase64(s["py/b64"]).toHex()}function ke(s){const e=JSON.parse(s);if(e["py/type"]!==void 0)return e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"str").replace(/^unicode$/,"str");if(e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef")return"OptionRef("+e.option_key+")";if(e["py/object"]!==void 0&&e["py/object"]===ap){const t=e;return ke(JSON.stringify(t.actual_type))+"("+t.info+")"}return e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function up(s){const e=JSON.parse(s);return e["py/b64"]!==void 0?"0x"+di(e):e}function wn(s){let e;return s.startsWith("OptionRef(")?e=s.match(/(.*\(.*\))\((.*)\)/):e=s.match(/(.*)\((.*)\)/),e===null?[s,""]:[e[1],e[2]]}const cs="unset_optionref";function _i(s,e=null){if(s.startsWith("OptionRef(")){const t=s.substring(10,s.length-1);if(e===null)return cs;const n=e.find(o=>o.key===t);return n?n.serialized_value===""?ts(ke(n.serialized_type)).value:ke(n.serialized_value):cs}else return s}function ts(s,e=null){const t=wn(s)[0];if(t==="type")return{type:s,value:"int"};if(t==="int")return{type:s,value:0};if(t==="str")return{type:s,value:"foo"};if(t==="bytes")return{type:s,value:fo("00")};if(t==="float")return{type:s,value:1.2};if(t==="bool")return{type:s,value:!0};if(t==="list")return{type:s,value:[]};if(t==="dict")return{type:s,value:{}};if(t.startsWith("OptionRef(")){const n=_i(t,e);if(n===cs){const o=t.substring(10,t.length-1);return{type:cs,value:'Ref to "'+o+'"'}}return ts(n,e)}else return ip(t)?{type:s,value:lp(t)||{}}:{type:"__"+s,value:{}}}function Do(s){return s.map(e=>{const t={key:e.key,serialized_value:"",serialized_type:""};if(e.value.type.startsWith("type"))en.indexOf(e.value.value)>=0&&(e.value.value="builtins."+e.value.value),t.serialized_value=JSON.stringify({"py/type":e.value.value});else if(e.value.type.startsWith("__")){const n=e.value.value;n["py/object"]=e.value.type.substring(2),t.serialized_value=JSON.stringify(e.value.value)}else t.serialized_value=JSON.stringify(e.value.value);return t})}function cn(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}var wt=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(wt||{});function fi(s){let e,t;switch(s){case"Ask before overwrite":e=!1,t=!1;break;case"Overwrite file":e=!0,t=!1;break;case"Rename file":e=!1,t=!0;break;default:console.warn("Improper state for name conflict resolution strategy",s),e=!1,t=!1;break}return[e,t]}var un=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(un||{});const _e=zt("editor",()=>{const s=N([]),e=N([]),t=N([]),n=N(!1),o=N(!1),r=N(!1),i=N(new Set);let a=0;const l=200,u=N(),c=N(),_=N(),p=B(()=>u.value!==void 0||c.value!==void 0||_.value!==void 0),f=N(!0),w=N("darkmode"),E=N(Te),g=B(()=>E.value!==Te),m=B(()=>({structure:s.value.find(q=>ae(q.tree_id)===E.value),state:e.value.find(q=>ae(q.tree_id)===E.value),data:t.value.find(q=>ae(q.tree_id)===E.value)})),C=N(""),T=N(void 0),S=N(!1);function j(q){n.value=q}function W(q){r.value=q}function L(q){i.value.add(q)}function $(q){i.value.delete(q)}function R(q){a=setTimeout(()=>u.value=q,l)}function M(q){a=setTimeout(()=>c.value=q,l)}function z(q){_.value=q}function oe(){clearTimeout(a),u.value=void 0,c.value=void 0,_.value=void 0}function le(){_.value=void 0}function V(q){f.value=q}function H(){switch(w.value){case"darkmode":w.value="lightmode";return;case"lightmode":w.value="darkmode";return;default:w.value="darkmode";return}}function ee(q){q.startsWith("file://")?C.value=q:C.value="file://"+q}function Q(){C.value=""}function we(q){T.value=q}function Ce(){T.value=void 0}function ze(q){return s.value.find(xe=>ae(xe.tree_id)===q)}function Ke(q){return s.value.find(xe=>xe.nodes.find(pe=>pe.tree_ref===""?!1:ae(pe.tree_ref)===q)!==void 0)}return{selected_tree:E,has_selected_subtree:g,current_tree:m,publish_subtrees:n,publish_data:o,debug:r,tree_structure_list:s,findTree:ze,findOuterTree:Ke,tree_state_list:e,tree_data_list:t,running_commands:i,dragging_new_node:u,dragging_existing_node:c,data_edge_endpoint:_,is_dragging:p,is_layer_mode:S,runNewCommand:L,removeRunningCommand:$,enableSubtreePublishing:j,enableDebugging:W,startDraggingNewNode:R,startDraggingExistingNode:M,startDrawingDataEdge:z,stopDragging:oe,stopDrawingDataEdge:le,show_data_graph:f,enableShowDataGraph:V,skin:w,cycleEditorSkin:H,selected_edge:T,selectEdge:we,unselectEdge:Ce,quick_save_location:C,setQuickSaveLocation:ee,resetQuickSaveLocation:Q}},{persist:{pick:["publish_data","publish_subtrees","quick_save_location"],storage:sessionStorage}}),be=zt("ros",()=>{const s=hs(),e=bn(),t=gs(),n=_e(),o=ne(new Ri({})),r=N(!1),i=N("ws://"+window.location.hostname+":9090"),a=N(""),l=N(["/"]);function u(){console.log("Start connect attempt"),o.value.connect(i.value)}const c=N(!0);let _=0;function p(){console.log("Start connect timeout"),clearTimeout(_),c.value&&(_=setTimeout(()=>{console.log("Connect callback"),c.value&&u()},1e3))}function f(){c.value=!c.value,c.value&&p()}const w=ne(new J({ros:o.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),E=ne(new J({ros:o.value,name:a.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),g=ne(new J({ros:o.value,name:a.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),m=ne(new J({ros:o.value,name:a.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),C=ne(new J({ros:o.value,name:a.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),T=ne(new J({ros:o.value,name:a.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),S=ne(new J({ros:o.value,name:a.value+"debug/set_publish_data",serviceType:"std_srvs/srv/SetBool"}));function j(){return new J({ros:o.value,name:a.value+"set_log_level",serviceType:"ros_bt_py_interfaces/srv/SetLogLevel"})}const W=ne(j()),L=ne(new Fe({ros:o.value,name:a.value+"tree_structure_list",messageType:"ros_bt_py_interfaces/msg/TreeStructureList",latch:!0,reconnect_on_close:!0})),$=ne(new Fe({ros:o.value,name:a.value+"tree_state_list",messageType:"ros_bt_py_interfaces/msg/TreeStateList",latch:!0,reconnect_on_close:!0})),R=ne(new Fe({ros:o.value,name:a.value+"tree_data_list",messageType:"ros_bt_py_interfaces/msg/TreeDataList",latch:!0,reconnect_on_close:!0})),M=ne(new Fe({ros:o.value,name:a.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),z=ne(new Fe({ros:o.value,name:a.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0})),oe=ne(new Fe({ros:o.value,name:a.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0})),le=ne(new Fe({ros:o.value,name:a.value+"log_messages",messageType:"ros_bt_py_interfaces/msg/BTLogMessage",latch:!0,reconnect_on_close:!0})),V=ne(new J({ros:o.value,name:a.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),H=ne(new J({ros:o.value,name:a.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),ee=ne(new J({ros:o.value,name:a.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),Q=ne(new J({ros:o.value,name:a.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),we=ne(new J({ros:o.value,name:a.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),Ce=ne(new J({ros:o.value,name:a.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),ze=ne(new J({ros:o.value,name:a.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),Ke=ne(new J({ros:o.value,name:a.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),q=ne(new J({ros:o.value,name:a.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),xe=ne(new J({ros:o.value,name:a.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),pe=ne(new J({ros:o.value,name:a.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),de=ne(new J({ros:o.value,name:a.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),Oe=ne(new J({ros:o.value,name:a.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),Ie=ne(new J({ros:o.value,name:a.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),Ae=ne(new J({ros:o.value,name:a.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),tt=ne(new J({ros:o.value,name:a.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),Ut=ne(new J({ros:o.value,name:a.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));o.value.on("connection",()=>{kt()}),o.value.on("close",()=>{A()}),o.value.on("error",()=>{O({title:"ROS connection error!",type:"error"})});function lt(){L.value.unsubscribe(),L.value.removeAllListeners(),L.value=new Fe({ros:o.value,name:a.value+"tree_structure_list",messageType:"ros_bt_py_interfaces/msg/TreeStructureList",latch:!0,reconnect_on_close:!0}),$.value.unsubscribe(),$.value.removeAllListeners(),$.value=new Fe({ros:o.value,name:a.value+"tree_state_list",messageType:"ros_bt_py_interfaces/msg/TreeStateList",latch:!0,reconnect_on_close:!0}),R.value.unsubscribe(),R.value.removeAllListeners(),R.value=new Fe({ros:o.value,name:a.value+"tree_data_list",messageType:"ros_bt_py_interfaces/msg/TreeDataList",latch:!0,reconnect_on_close:!0}),z.value.unsubscribe(),z.value.removeAllListeners(),z.value=new Fe({ros:o.value,name:a.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0}),M.value.unsubscribe(),M.value.removeAllListeners(),M.value=new Fe({ros:o.value,name:a.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),oe.value.unsubscribe(),oe.value.removeAllListeners(),oe.value=new Fe({ros:o.value,name:a.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0}),le.value.unsubscribe(),le.value.removeAllListeners(),le.value=new Fe({ros:o.value,name:a.value+"log_messages",messageType:"ros_bt_py_interfaces/msg/BTLogMessage",latch:!0,reconnect_on_close:!0}),T.value=new J({ros:o.value,name:a.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),S.value=new J({ros:o.value,name:a.value+"debug/set_publish_data",serviceType:"std_srvs/srv/SetBool"}),W.value=j(),w.value=new J({ros:o.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),E.value=new J({ros:o.value,name:a.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),g.value=new J({ros:o.value,name:a.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),m.value=new J({ros:o.value,name:a.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),C.value=new J({ros:o.value,name:a.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),V.value=new J({ros:o.value,name:a.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),H.value=new J({ros:o.value,name:a.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),ee.value=new J({ros:o.value,name:a.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),Q.value=new J({ros:o.value,name:a.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),we.value=new J({ros:o.value,name:a.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"}),Ce.value=new J({ros:o.value,name:a.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),ze.value=new J({ros:o.value,name:a.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),pe.value=new J({ros:o.value,name:a.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),xe.value=new J({ros:o.value,name:a.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),q.value=new J({ros:o.value,name:a.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),Ke.value=new J({ros:o.value,name:a.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),de.value=new J({ros:o.value,name:a.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),Oe.value=new J({ros:o.value,name:a.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),Ie.value=new J({ros:o.value,name:a.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),Ae.value=new J({ros:o.value,name:a.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),tt.value=new J({ros:o.value,name:a.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),Ut.value=new J({ros:o.value,name:a.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}),t.getNodes("")}function ms(k){i.value=k,o.value.close()}function kt(){r.value=!0,clearTimeout(_),O({title:"ROS connection established!",type:"success"})}function A(){r.value=!1,s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),n.enableSubtreePublishing(!1),n.publish_data=!1,p(),O({title:"ROS connection closed!",type:"warn"})}function y(k){a.value=k,l.value.indexOf(k)===-1&&l.value.push(a.value),lt()}function h(k){l.value=k}return{ros:o,connected:r,url:i,namespace:a,available_namespaces:l,connect:u,auto_connect:c,toggleAutoConnect:f,services_for_type_service:w,load_tree_service:E,fix_yaml_service:g,control_tree_execution_service:m,clear_tree_service:C,get_available_nodes_service:V,get_message_fields_service:H,unwire_data_service:ee,remove_node_service:Q,morph_node_service:ze,set_options_service:Ce,move_node_service:Ke,replace_node_service:we,wire_data_service:xe,add_node_at_index_service:q,generate_subtree_service:pe,set_publish_subtrees_service:T,set_publish_data_service:S,set_log_level_service:W,get_storage_folders_service:de,get_folder_structure_service:Oe,get_package_structure_service:Ie,save_tree_service:Ae,change_tree_name_service:tt,load_tree_from_path_service:Ut,tree_structure_sub:L,tree_state_sub:$,tree_data_sub:R,packages_sub:M,messages_sub:z,channels_sub:oe,log_msgs_sub:le,startConnectTimeout:p,setUrl:ms,changeNamespace:y,setAvailableNamespaces:h,hasConnected:kt,hasDisconnected:A,updateROSServices:lt}},{persist:{pick:["namespace","url","available_namespaces","auto_connect"],storage:localStorage,afterHydrate:s=>{s.store.updateROSServices(),s.store.connect()}}}),Lo=zt("logs",()=>{const s=N([]),e=N(Ee.INFO);function t(u){let c;u.tree_id!==""&&(c={id:ae(u.tree_id),name:u.tree_name});let _;u.node_id!==""&&(_={id:ae(u.node_id),name:u.node_name});const p={stamp:cp(u.stamp),level:u.level,tree:c,node:_,msg:u.msg,file:u.file,function:u.function,line:u.line};s.value.push(p)}function n(u){const c=e.value;e.value=u,be().set_log_level_service.callService({min_log_level:u},()=>{O({title:`Set log level to ${o(u)}`,type:"success"}),s.value=s.value.filter(p=>p.level>=e.value)},p=>{O({title:"Failed to set log level",text:p,type:"error"}),e.value=c})}function o(u){switch(u){case Ee.DEBUG:return"DEBUG";case Ee.INFO:return"INFO";case Ee.WARN:return"WARN";case Ee.ERROR:return"ERROR";case Ee.FATAL:return"FATAL";default:return"UNKNOWN"}}function r(u,c,_,p){return!(!p.includes(u.level)||c!==void 0&&(u.tree===void 0||u.tree.id!==c)||_!==void 0&&(u.node===void 0||u.node.id!==_))}function i(u,c,_){return s.value.filter(p=>r(p,u,c,_)).reverse()}function a(u,c,_){s.value=s.value.filter(p=>!r(p,u,c,_))}function l(u){const c=s.value.indexOf(u);c!==-1&&s.value.splice(c,1)}return{log_messages:s,min_log_level:e,storeLogMessage:t,setMinLogLevel:n,getLogLevelString:o,getRelevantLogs:i,clearRelevantLogs:a,removeLogMessage:l}}),dp={class:"border rounded mb-2"},_p={key:0,class:"m-2"},fp={class:"d-grid gap-2 mb-2"},pp={class:"input-group mb-3"},vp=["value"],hp=se({__name:"PackageLoader",setup(s){const e=gs(),t=N(!0),n=N("ros_bt_py.nodes.sequence");function o(){t.value=!t.value}function r(i){const a=i.target;n.value=a.value}return(i,a)=>{const l=ye("FontAwesomeIcon");return v(),I("div",dp,[d("div",{class:"text-center cursor-pointer font-weight-bold m-2",onClick:o},[a[2]||(a[2]=ve(" Package Loader ")),t.value?(v(),K(l,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(v(),K(l,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),t.value?ge("",!0):(v(),I("div",_p,[d("div",fp,[d("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:a[0]||(a[0]=()=>b(e).getNodes(""))}," Refresh ")]),d("div",pp,[d("input",{id:"loadPackageForm",type:"text",class:"form-control","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:n.value,onChange:r},null,40,vp),d("button",{id:"loadPackageFormConfirm",type:"button",className:"btn btn-block btn-outline-primary",onClick:a[1]||(a[1]=()=>b(e).getNodes(n.value))}," Load package ")])]))])}}});function Yt(s,e){return{key:s.key,type:_i(ke(s.serialized_type),e)}}const Ne=zt("edit_node",()=>{const s=_e(),e=gs(),t=N(!1),n=N(!1),o=N(void 0),r=N(void 0),i=N([]),a=N("none"),l=N(""),u=N(""),c=N(""),_=N([]),p=N([]),f=N([]),w=N(!1),E=N(!1),g=B(()=>e.nodes.filter(V=>V.max_children==-1)),m=B(()=>g.value.filter(V=>c.value===V.module&&u.value===V.node_class).length>0),C=N(!1);function T(){n.value=!0}function S(){n.value=!1}function j(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return!1;return o.value=void 0,r.value=void 0,i.value=[],a.value="none",!0}function W(V){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=V,C.value=!1,t.value=!0,i.value=[],a.value="nodelist",l.value=V.node_class,u.value=V.node_class,c.value=V.module,w.value=!0,E.value=!1,_.value=V.options.map(H=>({key:H.key,value:ts(ke(H.serialized_type),V.options)})),p.value=V.inputs.map(H=>Yt(H,V.options)),f.value=V.outputs.map(H=>Yt(H,V.options))}function L(V){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const H=s.current_tree.structure.nodes.find(Q=>ae(Q.node_id)===V);if(H===void 0){console.error("Could not find node in tree"),j();return}const ee=e.nodes.find(Q=>Q.node_class===H.node_class&&Q.module===H.module);ee===void 0&&console.error("Cannot recover node information"),o.value=H,r.value=ee,C.value=!0,t.value=!1,i.value=[V],a.value="editor",l.value=H.name,u.value=H.node_class,c.value=H.module,w.value=!0,E.value=!1,_.value=H.options.map(Q=>{const we=ke(Q.serialized_type);let Ce=JSON.parse(Q.serialized_value);return we.startsWith("type")&&(Ce=ke(Q.serialized_value)),{key:Q.key,value:{type:we,value:Ce}}}),p.value=H.inputs.map(Q=>Yt(Q,H.options)),f.value=H.outputs.map(Q=>Yt(Q,H.options))}function $(V){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,a.value="multiple",i.value.forEach(H=>{const ee=V.indexOf(H);ee===-1?V.push(H):V.splice(ee,1)}),i.value=V}function R(V){C.value=V}function M(V){n.value=!0,l.value=V}function z(V){const H=g.value.find(ee=>ee.module+ee.node_class===V);if(H===void 0){console.warn("Can't locate node morph target");return}r.value=H,u.value=H.node_class,c.value=H.module,_.value=H.options.map(ee=>({key:ee.key,value:ts(ke(ee.serialized_type),H.options)})),p.value=H.inputs.map(ee=>Yt(ee,H.options)),f.value=H.outputs.map(ee=>Yt(ee,H.options)),n.value=!0,E.value=!0}function oe(V,H,ee){n.value=!0;function Q(we){return we.key===H?{key:H,value:{type:we.value.type,value:ee}}:we}if(V==="options"){let we=function(pe){return pe.filter(de=>ke(de.serialized_type).startsWith("OptionRef(")).map(de=>[de.key,ke(de.serialized_type).substring(10,ke(de.serialized_type).length-1)]).filter(de=>de[1]===H)},Ce=function(pe,de){const Oe=pe.find(Ie=>Ie[0]===de.key);if(Oe){const Ie=_.value.find(Ae=>Ae.key===Oe[1]);if(Ie){const Ae=Ie.value.value;return{key:de.key,value:ts(Ae)}}}return de},ze=function(pe,de){const Oe=pe.find(Ie=>Ie[0]===de.key);if(Oe){const Ie=_.value.find(Ae=>Ae.key===Oe[1]);if(Ie){const Ae=Ie.value.value;return{key:de.key,type:Ae}}}return de};if(r.value===void 0){console.error("Cannot recover node information");return}const Ke=we(r.value.options),q=we(r.value.inputs),xe=we(r.value.outputs);_.value=_.value.map(Q),_.value=_.value.map(pe=>Ce(Ke,pe)),q.length>0&&(p.value=p.value.map(pe=>ze(q,pe))),xe.length>0&&(f.value=f.value.map(pe=>ze(xe,pe)))}}function le(){return{node_id:st(ci()),name:l.value,module:c.value,node_class:u.value,version:"",max_children:0,child_ids:[],options:Do(_.value),inputs:[],outputs:[],tree_ref:""}}return{selected_node:o,reference_node:r,selected_node_ids:i,last_seletion_source:a,node_has_changed:n,copy_node_mode:C,node_is_valid:w,node_is_morphed:E,new_node_name:l,new_node_class:u,new_node_module:c,new_node_options:_,new_node_inputs:p,new_node_outputs:f,flow_control_nodes:g,is_flow_control_node:m,nodeListSelectionChange:W,editorSelectionChange:L,selectMultipleNodes:$,clearSelection:j,setNodeHasChanged:T,clearNodeHasChanged:S,changeCopyMode:R,changeNodeName:M,changeNodeClass:z,updateParamValue:oe,buildNodeMsg:le}}),gp={class:"list-group-item"},mp={class:"d-flex w-100"},yp={class:"fs-5"},bp={class:"text-truncate"},wp={class:"text-truncate text-muted ms-2 mb-2"},Un=se({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){const e=N(!0);return(t,n)=>{const o=ye("FontAwesomeIcon");return v(),I("div",gp,[d("div",mp,[d("div",yp,U(t.title),1),F(o,{icon:"fa-solid "+(e.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:n[0]||(n[0]=()=>e.value=!e.value)},null,8,["icon"])]),e.value?(v(!0),I(ie,{key:0},me(t.io_node_data,r=>(v(),I(ie,{key:t.title+r.key},[d("div",bp,U(r.key),1),d("div",wp,U(b(ke)(r.serialized_type)),1)],64))),128)):ge("",!0)])}}}),Ep={class:"d-flex w-100"},Tp={class:"text-truncate fs-4"},Np={class:"text-muted mx-2 my-auto"},Ap={class:"text-muted"},Cp={key:0,class:"mt-3"},Ip={class:"list-group"},kp={key:0,class:"list-group-item"},Sp={class:"d-flex w-100"},xp={key:0},Op=se({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=_e(),n=Ne(),o=B(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),r=B(()=>o.value?"border-primary":"grab"),i=B(()=>e.node.max_children>0?"fa-link":e.node.max_children===0?"fa-leaf":"fa-network-wired"),a=N(!1),l=N(!0);function u(){n.nodeListSelectionChange(e.node)}return(c,_)=>{const p=ye("FontAwesomeIcon");return v(),I("div",{class:he(["border rounded p-2 m-2",r.value]),tabindex:"0",onClick:u,onMousedown:_[2]||(_[2]=Kn(()=>b(t).startDraggingNewNode(c.node),["stop","prevent"])),onKeydown:_[3]||(_[3]=He(f=>b(n).nodeListSelectionChange(c.node),["enter"]))},[d("div",Ep,[d("div",Tp,U(c.node.node_class),1),d("div",Np,[F(p,{icon:"fa-solid "+i.value},null,8,["icon"]),ve(" "+U(c.node.max_children>0?"("+c.node.max_children+")":""),1)]),F(p,{icon:"fa-solid "+(a.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto p-1",onClick:_[0]||(_[0]=Kn(()=>a.value=!a.value,["stop"]))},null,8,["icon"])]),d("div",Ap,U(c.node.module),1),a.value?(v(),I("div",Cp,[d("div",Ip,[b(cn)(c.node.doc)!==""?(v(),I("div",kp,[d("div",Sp,[_[4]||(_[4]=d("div",{class:"fs-5"},"Description",-1)),F(p,{icon:"fa-solid "+(l.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:_[1]||(_[1]=()=>l.value=!l.value)},null,8,["icon"])]),l.value?(v(),I("div",xp,U(b(cn)(c.node.doc)),1)):ge("",!0)])):ge("",!0),c.node.options.length>0?(v(),K(Un,{key:1,title:"Options",io_node_data:c.node.options},null,8,["io_node_data"])):ge("",!0),c.node.inputs.length>0?(v(),K(Un,{key:2,title:"Inputs",io_node_data:c.node.inputs},null,8,["io_node_data"])):ge("",!0),c.node.outputs.length>0?(v(),K(Un,{key:3,title:"Outputs",io_node_data:c.node.outputs},null,8,["io_node_data"])):ge("",!0)])])):ge("",!0)],34)}}}),Ft=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},Mp=Ft(Op,[["__scopeId","data-v-85486fcf"]]),Dp={class:"border rounded m-1 pb-2 d-flex flex-column"},Lp={key:0,class:"scroll-col flex-shrink-1"},$p=se({__name:"NodeList",setup(s){const e=N(!1),t=gs(),n=function(i,a){return i.node_class<a.node_class?-1:i.node_class>a.node_class?1:0},o=function(i,a){return i.module<a.module?-1:i.module>a.module?1:n(i,a)},r=B(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let i=[...t.nodes].sort(n);return i=i.sort(o),i}});return(i,a)=>{const l=ye("FontAwesomeIcon");return v(),I("div",Dp,[d("div",{class:"text-center cursor-pointer m-2",onClick:a[0]||(a[0]=u=>e.value=!e.value)},[a[1]||(a[1]=ve(" Node List ")),F(l,{icon:"fa-solid "+(e.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),e.value?ge("",!0):(v(),I("div",Lp,[(v(!0),I(ie,null,me(r.value,u=>(v(),K(Mp,{key:u.node_class+u.module,node:u},null,8,["node"]))),128))]))])}}}),Rp=Ft($p,[["__scopeId","data-v-8b862e14"]]),Pp={class:"ms-4 mt-1 mb-2"},jp={class:"btn-group w-100"},zp={key:0},Fp=se({__name:"ListSubtrees",props:{tree_id:{}},emits:["close"],setup(s,{emit:e}){const t=_e(),n=s,o=e,r=N(!0),i=B(()=>t.findTree(n.tree_id)),a=B(()=>{if(i.value===void 0)return[];const _=new Set(t.tree_structure_list.map(f=>ae(f.tree_id))),p=[];return i.value.nodes.forEach(f=>{if(f.tree_ref!==""){const w=ae(f.tree_ref);_.has(w)&&p.push(w)}}),p}),l=B(()=>i.value===void 0?"UNKNOWN":i.value.name),u=B(()=>{if(n.tree_id===Te)return"Main Tree";const _=t.findOuterTree(n.tree_id);if(_===void 0)return"UNKNOWN";const p=ui(_,n.tree_id);return p===void 0?"UNKNOWN":p.name});function c(){t.selected_tree=n.tree_id,o("close")}return(_,p)=>{const f=ye("FontAwesomeIcon"),w=ye("ListSubtrees",!0);return v(),I("div",Pp,[d("div",jp,[d("button",{class:he(["btn btn-outline-contrast text-start w-100",{active:_.tree_id===b(t).selected_tree}]),onClick:c},[F(f,{icon:"fa-solid fa-share-nodes",class:"me-1"}),ve(" "+U(u.value)+" ("+U(l.value)+") ",1)],2),a.value.length>0?(v(),I("button",{key:0,class:"btn btn-outline-contrast",onClick:p[0]||(p[0]=E=>r.value=!r.value)},[F(f,{icon:"fa-solid "+(r.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto p-1"},null,8,["icon"])])):ge("",!0)]),r.value?(v(),I("div",zp,[(v(!0),I(ie,null,me(a.value,E=>(v(),K(w,{key:E,parent_id:n.tree_id,tree_id:E,onClose:p[1]||(p[1]=g=>o("close"))},null,8,["parent_id","tree_id"]))),128))])):ge("",!0)])}}}),Up={class:"m-4"},Wp={class:"overflow-auto",style:{"max-height":"80vh"}},Hp=se({__name:"SelectSubtreeModal",emits:["close"],setup(s,{emit:e}){const t=e;return(n,o)=>{const r=ye("FontAwesomeIcon");return v(),K(b(Ss),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:pt(()=>[d("button",{class:"btn float-end",onClick:o[0]||(o[0]=i=>t("close"))},[F(r,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),d("div",Up,[o[2]||(o[2]=d("h1",{class:"fs-1 mb-3"},"Select Tree to Display",-1)),d("div",Wp,[F(Fp,{tree_id:Te,onClose:o[1]||(o[1]=i=>t("close"))},null,8,["tree_id"])])])]),_:1})}}}),Bp={class:"input-group my-2"},Yp=["checked"],Cr="publish_subtrees",Vp=se({__name:"SelectSubtree",setup(s){const e=_e(),t=Ne(),n=be(),o=B(()=>{if(e.selected_tree===Te)return"Main Tree";const l=e.findOuterTree(e.selected_tree);if(l===void 0)return"UNKNOWN";const u=ui(l,e.selected_tree);return u===void 0?"UNKNOWN":u.name});function r(l){const u=l.target;if(!n.connected){O({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}n.set_publish_subtrees_service.callService({data:u.checked},c=>{c.success?(O({title:(u.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(u.checked)):O({title:"Failed to toggle subtree publishing",text:c.message,type:"warn"})},c=>{O({title:"Failed to call setPublishSubtrees service",text:c,type:"error"})})}const i=Zs({component:Hp,attrs:{onClose(){i.close()}}});function a(){t.clearSelection()&&i.open()}return(l,u)=>{const c=ye("FontAwesomeIcon");return v(),I("div",Bp,[u[0]||(u[0]=d("label",{class:"input-group-text"}," Tree ",-1)),d("button",{class:"btn btn-contrast dropdown-toggle",onClick:a},U(o.value),1),d("input",{id:Cr,type:"checkbox",class:"btn-check",autocomplete:"off",checked:b(e).publish_subtrees,onChange:r},null,40,Yp),d("label",{class:"btn btn-primary",for:Cr,title:"Publish subtrees"},[F(c,{class:he(b(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])}}});function Xt(s,e,t,n=!0){const o=be();let r;return n?r=O:r=i=>console.log(i),new Promise((i,a)=>{o.add_node_at_index_service.callService({parent_node_id:st(e),node:s,new_child_index:t},l=>{l.success?(r({title:"Added node "+s.name,type:"success"}),i(ae(l.node_id))):(r({title:"Failed to add node "+s.name,text:l.error_message,type:"warn"}),a(l.error_message))},l=>{r({title:"Failed to call addNodeAtIndex service",text:l,type:"error"}),a(l)})})}function Vt(s,e,t,n,o=!0){const r=be();let i;return o?i=O:i=a=>console.log(a),new Promise((a,l)=>{r.move_node_service.callService({node_id:st(s),parent_node_id:st(t),new_child_index:n},u=>{u.success?(i({title:"Moved node "+e,type:"success"}),a()):(i({title:"Failed to move node "+e,text:u.error_message,type:"warn"}),l(u.error_message))},u=>{i({title:"Failed to call moveNode service",text:u,type:"error"}),l(u)})})}function pi(s,e,t,n=!0){const o=be();let r;return n?r=O:r=i=>console.log(i),new Promise((i,a)=>{o.remove_node_service.callService({node_id:st(s),remove_children:t},l=>{l.success?(r({title:"Removed node "+e,type:"success"}),i()):(r({title:"Failed to remove node "+e,text:l.error_message,type:"warn"}),a(l.error_message))},l=>{r({title:"Failed to call removeNode service",text:l,type:"error"}),a(l)})})}function Ir(s,e,t,n,o=!0){const r=be();let i;return o?i=O:i=a=>console.log(a),new Promise((a,l)=>{r.replace_node_service.callService({old_node_id:st(s),new_node_id:st(t)},u=>{u.success?(i({title:"Replaced node "+e,text:"with node "+n,type:"success"}),a()):(i({title:"Failed to replace node",text:u.error_message,type:"warn"}),l(u.error_message))},u=>{i({title:"Failed to call ReplaceNode service",text:u,type:"error"}),l(u)})})}const Gp=["visibility"],Kp=["href"],Zp=["href"],Jp=["href"],Qp=["visibility"],Xp=["fill"],qp=30,Ze=50,Bs=10,Je=15,ws=10,kr=20,ev=50,tv=.02,Wn=5,Hn=1e-4,xt=10,ct=80,Sr=20,sv=3,nv=25,Ys=30,xr=40,ov=30,Or=150,Es="node",Gt="btnode",Mr="node_name",Dr="class_name",Lr="state_icon",$r="link",Vs="drop_target",Ts="gripper-group",Rr="gripper",Kt="label",Pr="label-type",Gs="data-link",jr="hightlightEdge",Bn="highlightV1",zr="highlightV2",yt="data-hover",Yn="compatible",rv="node-selected",Ks="data-select",av=se({__name:"D3BehaviorTreeEditor",setup(s){const e=_e(),t=Ne(),n=be(),o=N(),r=N(),i=N(),a=N(),l=N(),u=N(),c=N(),_=N(),p=N(),f=N();let w,E=!1,g=!1,m=0,C=0;const T=N([]);let S,j=[0,0];const W=new RegExp("[a-z0-9][A-Z]|[_\\- ][a-zA-Z]","dg");let L;function $(){if(o.value===void 0||r.value===void 0||w===void 0){O({title:"Element reference undefined!",type:"error"});return}const A=re(o.value),y=A.node().getBoundingClientRect().height,h=Yi(o.value).k,k=y*.5/h-60;A.call(w.translateTo,0,k)}function R(A){const y=A.options.map(h=>({key:h.key,value:ts(ke(h.serialized_type),A.options)}));return{node_id:st(ci()),name:A.node_class,module:A.module,node_class:A.node_class,version:"",max_children:0,child_ids:[],options:Do(y),inputs:[],outputs:[],tree_ref:""}}function M(A){if(o.value===void 0)return;if(!e.is_dragging){S!==void 0&&(window.clearInterval(S),j=[]);return}const y=o.value.getBoundingClientRect().width,h=o.value.getBoundingClientRect().height,k=Rs(A,o.value);let D=!1;if(j=[0,0],k[0]<Ze){D=!0;const P=(Ze-k[0])/Ze;j[0]=Bs*P}else if(k[0]>y-Ze){D=!0;const P=(Ze-(y-k[0]))/Ze;j[0]=-1*Bs*P}if(k[1]<Ze){D=!0;const P=(Ze-k[1])/Ze;j[1]=Bs*P}else if(k[1]>h-Ze){D=!0;const P=(Ze-(h-k[1]))/Ze;j[1]=-1*Bs*P}if(!D&&S!==void 0){window.clearInterval(S),S=void 0;return}S===void 0&&(S=window.setInterval(z,1e3/qp))}function z(){if(!e.is_dragging&&S){window.clearInterval(S),S=void 0;return}re(o.value).call(w.translateBy,j[0],j[1])}dt([()=>e.current_tree.structure,()=>e.is_layer_mode],oe,{immediate:!0});function oe(){if(r.value===void 0||i.value===void 0){console.warn("DOM is broken");return}if(e.current_tree.structure===void 0){console.warn("Nothing to draw");return}L=re(r.value).transition("tree-transition").duration(100).ease(ji);const A=X=>({key:X.key,serialized_type:X.serialized_type}),y=e.current_tree.structure.nodes.map(X=>({node_id:ae(X.node_id),name:X.name,node_class:X.node_class,module:X.module,max_children:X.max_children,child_ids:X.child_ids.map(ae),options:X.options.map(A),inputs:X.inputs.map(A),outputs:X.outputs.map(A),size:{width:1,height:1},offset:{x:0,y:0}})),h={node_id:Te,name:"",node_class:"",module:"",max_children:-1,child_ids:[],inputs:[],outputs:[],options:[],size:{width:0,height:0},offset:{x:0,y:0}};y.findIndex(X=>X.node_id===Te)<0&&y.push(h);const k={};for(const X in y){const ce=y[X];for(const fe in ce.child_ids)k[ce.child_ids[fe]]=ce.node_id}const D=zi().id(X=>X.node_id).parentId(X=>X.node_id in k?k[X.node_id]:X.node_id===h.node_id?void 0:(h.child_ids.push(X.node_id),h.node_id))(y);D.sort(function(X,ce){if(X.depth!==ce.depth)return ce.depth-X.depth;for(;X.parent!==ce.parent;)X=X.parent,ce=ce.parent;const fe=X.parent.data.child_ids;return fe.findIndex(ue=>ue===X.data.node_id)-fe.findIndex(ue=>ue===ce.data.node_id)});const G=re(i.value).selectAll("."+Es).data(D.descendants().filter(X=>X.data.node_id!==Te),X=>X.id).join(le).call(ee);Q();const te=we(G,D);Ce(te),ze(te),Oe(te,e.current_tree.structure.data_wirings)}function le(A){const y=A.append("g").classed(Es,!0).classed("node--internal",h=>h.children!==void 0&&h.children.length>0).classed("node--leaf",h=>h.children===void 0||h.children.length==0).on("click.select",(h,k)=>{h.shiftKey?t.selectMultipleNodes([k.data.node_id]):t.editorSelectionChange(k.data.node_id),h.stopPropagation()});return e.has_selected_subtree||y.on("mousedown.dragdrop",(h,k)=>{e.startDraggingExistingNode(k),h.stopPropagation()}),y.append("rect").classed(Gt,!0),y.append("text").classed(Mr,!0),y.append("text").classed(Dr,!0),y.append("svg").classed(Lr,!0).attr("width",Ys).attr("height",Ys).append("path"),y}function V(A){switch(A){case De.RUNNING:return ea.icon;case De.IDLE:return qr.icon;case De.SUCCEEDED:return Xr.icon;case De.FAILED:return Qr.icon;case De.BROKEN:return Jr.icon;case De.SHUTDOWN:default:return Zr.icon}}function H(A,y){let h=0;const k=re(A),D=k.select("."+Mr),P=k.select("."+Dr),G=y.data.name,te=y.data.node_class;D.selectAll("tspan").remove(),P.selectAll("tspan").remove();let X=0,ce=[0];for(const ue of G.matchAll(W))ce.push(ue.index+1);ce.push(G.length),ce.reverse();let fe=0;for(;fe<G.length;){const ue=D.append("tspan");ue.attr("x",0),fe>0&&ue.attr("dy",xr);let ot=ce.findIndex(St=>fe===0?St<Sr-sv:St<fe+Sr);ce[ot]===fe&&(ot-=1);const gt=ce[ot];ue.text(G.slice(fe,gt)),fe===0?h=ue.node().getComputedTextLength()+Ys+xt:h=Math.max(h,ue.node().getComputedTextLength()),fe=gt,X+=1}P.attr("y",X*xr),ce=[0];for(const ue of te.matchAll(W))ce.push(ue.index+1);for(ce.push(te.length),ce.reverse(),fe=0;fe<te.length;){const ue=P.append("tspan");ue.attr("x",0),fe>0&&ue.attr("dy",ov);let ot=ce.findIndex(St=>St<fe+nv);ce[ot]===fe&&(ot-=1);const gt=ce[ot];ue.text(te.slice(fe,gt)),h=Math.max(h,ue.node().getComputedTextLength()),fe=gt}return h}function ee(A){return A.each(function(y){y.data.size.width=H(this,y)}),A.select("."+Gt).attr("x",null).attr("y",null).attr("width",null).attr("height",null),A.each(function(y){const h=y.data.inputs||[],k=y.data.outputs||[],D=Math.max(h.length,k.length),P=Je*D+ws*(D+1),G=this.getBBox();y.data.offset.x=G.x-xt,y.data.offset.y=G.y-.5*xt,y.data.size.width+=2*xt,y.data.size.height=Math.max(G.height+1.5*xt,P)}),A.select("."+Gt).attr("x",y=>y.data.offset.x).attr("y",y=>y.data.offset.y).attr("width",y=>y.data.size.width).attr("height",y=>y.data.size.height),A}dt(()=>e.current_tree.state,Q);function Q(){if(i.value===void 0){console.warn("DOM is broken");return}const y=re(i.value).selectAll("."+Es).each(h=>{if(e.current_tree.state===void 0){console.warn("No state to update");return}const k=e.current_tree.state.node_states.find(D=>ae(D.node_id)===h.data.node_id);k!==void 0&&(h.data.state=k.state)});y.select("."+Gt).style("stroke",h=>{switch(h.data.state){case De.RUNNING:return"var(--node-color-running)";case De.IDLE:return"var(--node-color-idle)";case De.SUCCEEDED:return"var(--node-color-succeeded)";case De.FAILED:case De.BROKEN:return"var(--node-color-failed)";case De.SHUTDOWN:return"var(--node-color-shutdown)";case De.UNINITIALIZED:default:return"var(--node-color-default)"}}).style("fill",h=>h.data.state==De.BROKEN?"var(--node-bg-broken)":"var(--node-bg-default)"),y.select("."+Lr).attr("viewBox",h=>{const k=V(h.data.state);return"0 0 "+k[0]+" "+k[1]}).attr("x",h=>h.data.size.width-Ys-2*xt).attr("y",h=>h.data.offset.y+xt).select("path").attr("d",h=>{const k=V(h.data.state);return typeof k[4]=="string"?k[4]:(console.warn("Potentially unhandled multivalue path",k[4]),k[4].join(""))})}function we(A,y){const h=Array(y.height+1).fill(0);A.each(D=>{h[D.depth]=Math.max(D.data.size.height,h[D.depth])});const k=Fi({nodeSize:D=>{let P;return e.is_layer_mode?P=h[D.depth]:P=D.data.size.height,P+=D.depth>0?ct:0,[D.data.size.width,P]},spacing:(D,P)=>e.is_layer_mode?ct:D.parent!==P.parent?2*ct:ct})(y);return A.data(k.descendants().filter(D=>D.data.node_id!==Te),D=>D.id).transition(L).attr("transform",D=>{const P=D.x-D.data.size.width/2,G=D.y;return"translate("+P+", "+G+")"}),k}function Ce(A){if(a.value===void 0){console.warn("DOM is broken");return}re(a.value).selectAll("."+$r).data(A.links().filter(y=>y.source.data.node_id!==Te),y=>y.source.id+"###"+y.target.id).join("path").classed($r,!0).transition(L).attr("d",Ui().source(y=>{const h=y.source;return[h.x+h.data.offset.x,h.y+h.data.offset.y+h.data.size.height]}).target(y=>{const h=y.target;return[h.x+h.data.offset.x,h.y+h.data.offset.y]}))}function ze(A){if(_.value===void 0){console.warn("DOM is broken");return}const y=[];e.has_selected_subtree||A.each(h=>{h.data.node_id!==Te&&(y.push({node:h,position:Z.LEFT}),y.push({node:h,position:Z.CENTER}),y.push({node:h,position:Z.RIGHT}),y.push({node:h,position:Z.TOP}),(h.data.max_children===-1||h.data.max_children>h.data.child_ids.length)&&y.push({node:h,position:Z.BOTTOM}))}),y.length===0&&y.push({node:A,position:Z.ROOT}),re(_.value).selectAll("."+Vs).data(y,h=>h.node.id+"###"+h.position).join("rect").classed(Vs,!0).attr("width",h=>{switch(h.position){case Z.LEFT:case Z.RIGHT:return ct;case Z.TOP:case Z.BOTTOM:case Z.CENTER:return h.node.data.size.width;case Z.ROOT:return Or;default:return 0}}).attr("height",h=>{switch(h.position){case Z.LEFT:case Z.RIGHT:case Z.CENTER:return h.node.data.size.height;case Z.TOP:case Z.BOTTOM:return .5*ct;case Z.ROOT:return Or;default:return 0}}).attr("x",h=>{if(h.position===Z.ROOT)return-150/2;let k=h.node.x+h.node.data.offset.x;return h.position===Z.RIGHT?k+=.5*h.node.data.size.width:(k-=.5*h.node.data.size.width,h.position===Z.LEFT&&(k-=ct)),k}).attr("y",h=>{if(h.position===Z.ROOT)return-.5*ct;let k=h.node.y+h.node.data.offset.y;return h.position===Z.TOP&&(k-=.5*ct),h.position===Z.BOTTOM&&(k+=h.node.data.size.height),k}).attr("opacity",.2).on("mouseover.highlight",function(){re(this).attr("opacity",.8)}).on("mouseout.highlight",function(){re(this).attr("opacity",.2)}).on("mouseup.dragdrop",(h,k)=>{e.dragging_new_node?pe(k):e.dragging_existing_node?q(k):console.warn("Unintended drag release")})}function Ke(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}async function q(A){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const y=e.dragging_existing_node.data.node_id,h=e.dragging_existing_node.data.name;if(!A.node.parent){console.error("A tree with an existing node should never show the root target");return}if(A.position===Z.BOTTOM){await Vt(y,h,A.node.data.node_id,0);return}if(A.position===Z.LEFT||A.position===Z.RIGHT){const k=A.node.parent.data.node_id;let D=A.node.parent.children.indexOf(A.node);A.position===Z.RIGHT&&D++,k===e.dragging_existing_node.parent.data.node_id&&D>A.node.parent.children.findIndex(P=>P.data.node_id===y)&&D--,await Vt(y,h,k,D);return}if(A.position===Z.TOP){const k=A.node.parent.data.node_id;let D=A.node.parent.children.indexOf(A.node);k===e.dragging_existing_node.parent.data.node_id&&D>A.node.parent.children.findIndex(P=>P.data.node_id===y)&&D--,await Vt(A.node.data.node_id,A.node.data.name,y,-1),await Vt(y,h,k,D);return}if(A.position===Z.CENTER){await Ir(A.node.data.node_id,A.node.data.name,y,h);return}console.warn("Couldn't identify drop target position, this should never happen")}Js(xe);function xe(){if(_.value===void 0){console.warn("DOM is broken");return}const A=re(_.value).selectAll("."+Vs).attr("visibility",null);e.dragging_existing_node!==void 0&&(A.filter(y=>e.dragging_existing_node.descendants().find(h=>h.data.node_id===y.node.data.node_id)!==void 0).attr("visibility","hidden"),A.filter(y=>{switch(y.position){case Z.CENTER:return e.dragging_existing_node.data.max_children!==-1&&y.node.data.child_ids.length+e.dragging_existing_node.data.child_ids.length>e.dragging_existing_node.data.max_children;case Z.TOP:return e.dragging_existing_node.data.max_children!==-1&&e.dragging_existing_node.data.child_ids.length>=e.dragging_existing_node.data.max_children;case Z.BOTTOM:return y.node.data.max_children!==-1&&y.node.data.node_id!==e.dragging_existing_node.parent.data.node_id&&y.node.data.child_ids.length>=y.node.data.max_children;case Z.LEFT:case Z.RIGHT:return y.node.parent.data.max_children!==-1&&y.node.parent.data.node_id!==e.dragging_existing_node.parent.data.node_id&&y.node.parent.data.child_ids.length>=y.node.parent.data.max_children;case Z.ROOT:default:return!0}}).attr("visibility","hidden"))}async function pe(A){if(e.dragging_new_node===void 0){console.warn("Tried to add new node by dragging but none selected");return}const y=R(e.dragging_new_node);if(A.position===Z.ROOT){await Xt(y,Te,0);return}if(!A.node.parent){console.error("All non-root targets should have a set parent node");return}if(A.position===Z.BOTTOM){const h=A.node.data.node_id;await Xt(y,h,0);return}if(A.position===Z.LEFT||A.position===Z.RIGHT){const h=A.node.parent.data.node_id;let k=A.node.parent.children.indexOf(A.node);A.position===Z.RIGHT&&k++,await Xt(y,h,k);return}if(A.position===Z.TOP){const h=A.node.parent.data.node_id,k=A.node.parent.children.indexOf(A.node),D=await Xt(y,Te,-1);await Vt(A.node.data.node_id,A.node.data.name,D,0),await Vt(D,y.name,h,k);return}if(A.position===Z.CENTER){const h=await Xt(y,Te,-1);await Ir(A.node.data.node_id,A.node.data.name,h,y.name);return}console.warn("Couldn't identify drop target position, this should never happen")}Js(de);function de(){if(_.value===void 0){console.warn("DOM is broken");return}const A=re(_.value).selectAll("."+Vs).attr("visibility",null);e.dragging_new_node!==void 0&&A.filter(y=>{switch(y.position){case Z.CENTER:return e.dragging_new_node.max_children!==-1&&y.node.data.child_ids.length>e.dragging_new_node.max_children;case Z.TOP:return e.dragging_new_node.max_children===0;case Z.BOTTOM:return y.node.data.max_children!==-1&&y.node.data.child_ids.length>=y.node.data.max_children;case Z.LEFT:case Z.RIGHT:return y.node.parent.data.max_children!==-1&&y.node.parent.data.child_ids.length>=y.node.parent.data.max_children;case Z.ROOT:return!1;default:return!0}}).attr("visibility","hidden")}function Oe(A,y){if(l.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const h=[];A.each(D=>{D.data.node_id!==Te&&(D.data.inputs.map((P,G)=>{h.push({node:D,index:G,kind:Ue.INPUT,key:P.key,type:P.serialized_type,x:D.x+D.data.offset.x-D.data.size.width*.5-Je,y:D.y+D.data.offset.y+ws+G*(Je+ws)})}),D.data.outputs.map((P,G)=>{h.push({node:D,index:G,kind:Ue.OUTPUT,key:P.key,type:P.serialized_type,x:D.x+D.data.offset.x+D.data.size.width*.5,y:D.y+D.data.offset.y+ws+G*(Je+ws)})}))});const k=re(c.value).selectAll("."+Ts).data(h,D=>D.node.id+"###"+D.kind+"###"+D.key).join(Ie);e.has_selected_subtree||k.select("."+Rr).on("mousedown.drawedge",(D,P)=>{e.startDrawingDataEdge(P)}).on("mouseup.drawedge",(D,P)=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!Ar(P,e.data_edge_endpoint)){console.warn("Invalid edge");return}P.kind===Ue.INPUT?lt(e.data_edge_endpoint,P):lt(P,e.data_edge_endpoint)}),k.select("."+Kt).select("."+Pr).text(D=>"(type: "+ke(D.type)+")"),k.transition(L).attr("transform",D=>"translate("+D.x+", "+D.y+")"),Ae(h,k,y)}function Ie(A){const y=A.append("g").classed(Ts,!0).on("mouseover.highlight",function(){if(e.is_dragging){const k=re(this).classed(Yn);re(this).classed(yt,k),re(p.value).classed(yt,k)}else re(this).classed(yt,!0).attr("id",Bn).select("."+Kt).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?(re(this).classed(yt,!1),re(p.value).classed(yt,!1)):re(this).classed(yt,!1).attr("id",null).select("."+Kt).attr("visibility","hidden")});return y.append("rect").classed(Rr,!0).attr("width",Je).attr("height",Je),y.append("text").classed(Kt,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",k=>k.kind===Ue.INPUT?"end":"start").text(k=>k.key).attr("x",k=>{switch(k.kind){case Ue.INPUT:return-5;case Ue.OUTPUT:return Je+5;case Ue.OTHER:default:return 0}}).attr("y",.5*Je).append("tspan").classed(Pr,!0).attr("x",function(){return re(this.parentElement).attr("x")}).attr("dy","1em"),y}function Ae(A,y,h){if(l.value===void 0||c.value===void 0||u.value===void 0){console.warn("DOM is broken");return}const k=[];function D(P,G){return ae(P.node_id)===G.node.data.node_id&&P.data_kind===G.kind&&P.data_key===G.key}h.forEach(P=>{const G=A.find(X=>D(P.source,X)),te=A.find(X=>D(P.target,X));if(G===void 0||te===void 0){console.warn("Bad data edge",G,te);return}G.kind===Ue.INPUT?k.push({source:te,target:G,wiring:P}):k.push({source:G,target:te,wiring:P})}),re(u.value).selectAll("."+Gs).data(k,P=>P.source.node.id+"###"+P.source.kind+"###"+P.source.index+"#####"+P.target.node.id+"###"+P.target.kind+"###"+P.target.index).join("path").classed(Gs,!0).on("click.select",(P,G)=>{e.selectEdge(G.wiring),P.stopPropagation()}).on("mouseover.highlight",function(P,G){e.is_dragging||(y.filter(te=>te===G.source||te===G.target).dispatch("mouseover").attr("id",te=>te.kind===Ue.INPUT?zr:Bn).select("."+Kt).attr("visibility",te=>te.kind===Ue.INPUT?"hidden":"visible"),re(this).classed(yt,!0).attr("id",jr))}).on("mouseout.highlight",function(P,G){e.is_dragging||(y.filter(te=>te===G.source||te===G.target).dispatch("mouseout"),re(this).classed(yt,!1).attr("id",null))}).transition(L).attr("d",P=>tt(P.source,P.target))}function tt(A,y){const h=Wi().x(te=>te.x+Je/2).y(te=>te.y+Je/2).curve(Hi.alpha(.9));let k=0;Math.abs(A.y-y.y)<ev&&(k=Math.min(A.y,y.y)-tv*Math.abs(A.x-y.x));const D={x:A.x+kr,y:A.y},P={x:y.x-kr,y:y.y},G={x:(A.x+y.x)/2,y:k||(A.y+y.y)/2};if(A.x>y.x)if(k===0)D.y+=Hn*(y.y-A.y)+Math.sign(y.y-A.y)*Wn,P.y+=Hn*(A.y-y.y)+Math.sign(A.y-y.y)*Wn;else{const te=Wn+Hn*Math.abs(A.x-y.x);D.y-=te,G.y-=te*4,P.y-=te}return h([A,D,G,P,y])}Js(Ut);function Ut(){if(c.value===void 0||p.value===void 0){console.warn("DOM is broken");return}const A=re(c.value).selectAll("."+Ts).classed(Yn,!1);A.select("."+Kt).attr("visibility","hidden");const y=re(p.value).attr("d",null);e.data_edge_endpoint!==void 0&&(A.filter(h=>Ar(h,e.data_edge_endpoint)).classed(Yn,!0),y.attr("d",()=>tt(e.data_edge_endpoint,e.data_edge_endpoint)))}function lt(A,y){n.wire_data_service.callService({wirings:[{source:{node_id:st(A.node.data.node_id),data_kind:A.kind,data_key:A.key},target:{node_id:st(y.node.data.node_id),data_kind:y.kind,data_key:y.key}}],ignore_failure:!1},h=>{const k=e.current_tree.structure.nodes.find(P=>ae(P.node_id)===A.node.data.node_id).name,D=e.current_tree.structure.nodes.find(P=>ae(P.node_id)===y.node.data.node_id).name;h.success?O({title:"Added data edge: "+k+" -> "+D+"!",type:"success"}):O({title:"Failed to add data edge: "+k+" -> "+D+"!",text:h.error_message,type:"warn"})},h=>{O({title:"Failed to call dataWiring service",text:h,type:"error"})})}dt(()=>[t.selected_node_ids,T.value],()=>ms());function ms(){if(i.value===void 0){console.warn("DOM is broken");return}const A=t.selected_node_ids.filter(k=>!T.value.includes(k)),y=T.value.filter(k=>!t.selected_node_ids.includes(k)),h=A.concat(y);re(i.value).selectAll("."+Es).select("."+Gt).classed(rv,k=>h.includes(k.data.node_id))}dt(()=>e.selected_edge,()=>{kt()});function kt(){if(u.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const A=re(u.value),y=re(c.value);if(A.selectAll("."+Gs).classed(Ks,!1),y.selectAll("."+Ts).classed(Ks,!1),e.selected_edge!==void 0){const h=A.selectAll("."+Gs).filter(k=>k.wiring===e.selected_edge).classed(Ks,!0).datum();y.selectAll("."+Ts).filter(k=>k===h.source||k===h.target).classed(Ks,!0)}}return us(()=>{if(o.value===void 0||r.value===void 0){O({title:"Element reference undefined!",type:"error"});return}const A=re(o.value);w=Bi(),w.scaleExtent([.3,1]);const y=re(r.value);A.call(w.on("zoom",h=>{y.attr("transform",h.transform)})),w.filter(h=>!h.shiftKey&&(!e.is_dragging||h.type==="wheel")),$(),A.on("mousemove.pan_if_drag",M),A.on("click.unselect",h=>{h.shiftKey||(t.clearSelection(),e.unselectEdge())}),E=!1,g=!1,A.on("mousedown.drawselect",h=>{if(r.value===void 0){console.warn("DOM is broken");return}if(h.shiftKey){E=!0;const[k,D]=Rs(h,r.value);m=k,C=D}}),A.on("mousemove.drawselect",h=>{if(r.value===void 0||i.value===void 0||f.value===void 0){console.warn("DOM is broken");return}if(h.shiftKey&&E){g=!0;const k=re(f.value),[D,P]=Rs(h,r.value),G=Math.min(D,m),te=Math.min(P,C),X=Math.abs(D-m),ce=Math.abs(P-C);k.attr("x",G).attr("y",te),k.attr("width",X).attr("height",ce);const fe=[];re(i.value).selectAll("."+Es).select("."+Gt).each(ue=>{ue.x-ue.data.size.width/2>=G&&ue.x+ue.data.size.width/2<=G+X&&ue.y>=te&&ue.y+ue.data.size.height<=te+ce&&fe.push(ue.data.node_id)}),T.value=fe}}),A.on("mouseup.drawselect",()=>{if(i.value===void 0||f.value===void 0){console.warn("DOM is broken");return}E&&g&&(E=!1,g=!1,re(f.value).attr("width",0).attr("height",0),t.selectMultipleNodes(T.value),T.value=[])}),A.on("mousemove.drawedge",h=>{if(r.value===void 0||p.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[k,D]=Rs(h,r.value),P={x:k-Je/2,y:D-Je/2};re(p.value).attr("d",()=>e.data_edge_endpoint.kind===Ue.INPUT?tt(P,e.data_edge_endpoint):tt(e.data_edge_endpoint,P))}),A.on("mouseup.drawedge",()=>{if(p.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),re(p.value).attr("d",null)})}),(A,y)=>(v(),I("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:he(["reactive-svg",b(e).skin])},[d("g",{id:"container",ref_key:"svg_g_ref",ref:r},[d("g",{ref_key:"g_edges_ref",ref:a,class:"edges"},null,512),d("g",{ref_key:"g_vertices_ref",ref:i,class:"vertices"},null,512),d("g",{ref_key:"g_data_graph_ref",ref:l,class:"data_graph",visibility:b(e).show_data_graph?"visible":"hidden"},[d("g",{ref_key:"g_data_edges_ref",ref:u,class:"data_edges"},null,512),d("g",{ref_key:"g_data_vertices_ref",ref:c,class:"data_vertices"},null,512),d("use",{href:"#"+Bn,"pointer-events":"none"},null,8,Kp),d("use",{href:"#"+zr,"pointer-events":"none"},null,8,Zp),d("use",{href:"#"+jr,"pointer-events":"none"},null,8,Jp)],8,Gp),d("g",{ref_key:"g_drop_targets_ref",ref:_,class:"drop_targets",visibility:Ke()},null,8,Qp),d("path",{ref_key:"draw_indicator_ref",ref:p,class:"drawing-indicator"},null,512),d("rect",{ref_key:"selection_rect_ref",ref:f,class:"selection"},null,512)],512),d("text",{x:"10",y:"20",fill:b(e).skin===b(un).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:$}," Reset View ",8,Xp)],2))}}),iv={class:"d-flex flex-column"},lv={class:"btn-group d-flex mb-2",role:"group"},cv=["disabled"],uv={class:"d-flex justify-content-between align-items-center mb-3"},dv={class:""},_v={class:"text-primary"},fv={class:""},pv={class:"text-primary"},vv={key:0,class:"mx-auto text-center"},hv=se({__name:"BehaviorTreeEdge",setup(s){const e=be(),t=_e(),n=Ne(),o=B(()=>{if(t.selected_edge===void 0)return"";const c=t.current_tree.structure.nodes.find(_=>ae(_.node_id)===ae(t.selected_edge.source.node_id));return c===void 0?"":c.name}),r=B(()=>{if(t.selected_edge===void 0)return"";const c=t.current_tree.structure.nodes.find(_=>ae(_.node_id)===ae(t.selected_edge.target.node_id));return c===void 0?"":c.name}),i=B(()=>{if(t.selected_edge===void 0||t.current_tree.data===void 0)return;const c=t.selected_edge;return t.current_tree.data.wiring_data.find(_=>{const p=_.wiring;return es(p.source.node_id,c.source.node_id)&&p.source.data_kind===c.source.data_kind&&p.source.data_key===c.source.data_key&&es(p.target.node_id,c.target.node_id)&&p.target.data_kind===c.target.data_kind&&p.target.data_key===c.target.data_key})});function a(){const c=t.selected_edge;e.unwire_data_service.callService({wirings:[{source:c.source,target:c.target}]},_=>{const p=t.current_tree.structure.nodes.find(w=>es(c.source.node_id,w.node_id)).name,f=t.current_tree.structure.nodes.find(w=>es(c.target.node_id,w.node_id)).name;_.success?(O({title:"Removed data edge: "+p+" -> "+f+"!",type:"success"}),t.unselectEdge()):O({title:"Failed to remove data edge: "+p+" -> "+f+"!",text:_.error_message,type:"warn"})},_=>{O({title:"Failed to call UnwireNodeData service",text:_,type:"error"})})}function l(){n.editorSelectionChange(ae(t.selected_edge.source.node_id))}function u(){n.editorSelectionChange(ae(t.selected_edge.target.node_id))}return(c,_)=>(v(),I("div",iv,[d("div",lv,[d("button",{class:"btn btn-danger w-100",disabled:b(t).has_selected_subtree,onClick:_[0]||(_[0]=()=>a())}," Delete Edge ",8,cv)]),d("div",uv,[d("div",dv,[d("button",{class:"btn btn-outline-contrast",onClick:_[1]||(_[1]=()=>l())},[d("span",_v,U(o.value),1),_[3]||(_[3]=d("br",null,null,-1)),ve(" "+U(b(t).selected_edge.source.data_key),1)])]),_[5]||(_[5]=d("hr",{class:"flex-fill connector"},null,-1)),d("div",fv,[d("button",{class:"btn btn-outline-contrast",onClick:_[2]||(_[2]=()=>u())},[d("span",pv,U(r.value),1),_[4]||(_[4]=d("br",null,null,-1)),ve(" "+U(b(t).selected_edge.target.data_key),1)])])]),i.value!==void 0?(v(),I("div",vv,[ve(" Value: "+U(b(up)(i.value.serialized_data))+" ",1),_[6]||(_[6]=d("br",null,null,-1)),ve(" of type: "+U(b(ke)(i.value.serialized_type))+" ",1),_[7]||(_[7]=d("br",null,null,-1)),ve(" expected type: "+U(b(ke)(i.value.serialized_expected_type)),1)])):ge("",!0)]))}}),gv=Ft(hv,[["__scopeId","data-v-422c9be3"]]),mv={class:"fs-1 mb-3 mt-4 mx-4"},yv={key:0,class:"mx-4 mb-4"},bv={class:"input-group mb-3"},wv={class:"input-group-text"},Ev=["disabled","placeholder"],Tv={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},Nv=["onClick"],Av={key:1},Cv={class:"input-group mb-3"},Iv=["disabled"],kv=["onClick"],Sv={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},xv=["onClick"],Ov={key:2},Mv={key:1},En=se({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=be(),r=bn(),i=RegExp("config|hook|cmake|environment"),a=N(null),l=N([]),u=N(""),c=N(new Re([],{keys:["package","path"]})),_=B(()=>{let L;return t.fromPackages?u.value===""?L=r.packages:L=r.packages_fuse.search(u.value).map($=>$.item):u.value===""?L=l.value:L=c.value.search(u.value).map($=>$.item),L.sort(($,R)=>$.package.localeCompare(R.package))}),p=B(()=>t.fromPackages&&r.packages_available||l.value.length>0),f=N(null),w=N(null),E=N(new Re([],{keys:["data.name"]})),g=B(()=>{var $;let L=[];return t.search_term===""?L=(($=f.value)==null?void 0:$.children)||[]:L=E.value.search(t.search_term).map(R=>R.item),L=L.filter(R=>{var M;switch(R.data.type){case ut.DIR:return t.fromPackages&&(f.value===void 0||((M=f.value)==null?void 0:M.parent)===null)?!i.test(R.data.name):!0;case ut.FILE:return t.file_filter===void 0?!0:t.file_filter.test(R.data.name);default:return!1}}),L.sort((R,M)=>R.data.type===M.data.type?R.data.name.localeCompare(M.data.name):R.data.type===ut.DIR?-1:1)});function m(){o.get_storage_folders_service.callService({},L=>{l.value=L.storage_folders.map($=>({package:$,path:$})),c.value.setCollection(l.value)},L=>{O({title:"Failed to call GetStorageFolders service!",text:L,type:"error"})})}function C(L){f.value=Vi(JSON.parse(L)),E.value.setCollection(f.value.children||[])}function T(){o.get_folder_structure_service.callService({storage_folder:a.value.package,show_hidden:!0},L=>{L.success?C(L.storage_folder_structure):O({title:"Error when calling GetFolderStructure service!",text:L.error_message,type:"warn"})},L=>{O({title:"Failed to call GetFolderStructure service!",text:L,type:"error"})})}function S(){o.get_package_structure_service.callService({package:a.value.package,show_hidden:!0},L=>{L.success?C(L.package_structure):O({title:"Error when calling GetPackageStructure service!",text:L.error_message,type:"error"})},L=>{O({title:"Failed to call GetPackageStructure service!",text:L,type:"error"})})}function j(L){L===null?(a.value=null,u.value="",f.value=null,w.value=null,n("location",""),n("select",[],!0)):(a.value=L,u.value=L.package,t.fromPackages?S():T(),n("location",L.package))}function W(L){switch(L.data.type){case ut.DIR:f.value=L,E.value.setCollection(L.children||[]);break;case ut.FILE:w.value=L;break}n("select",L.ancestors().slice(0,-1).reverse().map($=>$.data.name),L.data.type===ut.DIR)}return us(()=>{t.fromPackages||m()}),(L,$)=>{const R=ye("FontAwesomeIcon");return v(),I(ie,null,[d("button",{class:"btn float-end",onClick:$[0]||($[0]=M=>n("close"))},[F(R,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),d("h1",mv,U(t.title),1),p.value?(v(),I("div",yv,[d("div",bv,[d("span",wv,U(t.location)+": ",1),Be(d("input",{"onUpdate:modelValue":$[1]||($[1]=M=>u.value=M),disabled:a.value!==null,type:"text",class:"form-control",placeholder:"Search "+t.location+" Name"},null,8,Ev),[[ds,u.value]]),d("button",{class:"btn btn-outline-secondary",onClick:$[2]||($[2]=M=>j(null))},[F(R,{icon:"fa-solid fa-xmark"})])]),a.value===null?(v(),I("div",Tv,[(v(!0),I(ie,null,me(_.value,M=>(v(),I("button",{key:M.path,class:"btn btn-outline-contrast ms-4 mb-3 text-start",onClick:z=>j(M)},[F(R,{icon:"fa-solid fa-cubes",class:"me-1"}),ve(" "+U(M.package),1)],8,Nv))),128))])):f.value!==null?(v(),I("div",Av,[Ci(L.$slots,"default",{},()=>[$[4]||($[4]=ve("Control Buttons, Selects, ..."))]),d("div",Cv,[d("button",{disabled:f.value.parent===null,class:"btn btn-outline-secondary",onClick:$[3]||($[3]=M=>W(f.value.parent))},[F(R,{icon:"fa-solid fa-angle-up"})],8,Iv),(v(!0),I(ie,null,me(f.value.ancestors().slice(0,-1).reverse(),M=>(v(),I("button",{key:M.data.item_id,class:"btn btn-outline-secondary",onClick:z=>W(M)},U(M.data.name),9,kv))),128))]),d("div",Sv,[(v(!0),I(ie,null,me(g.value,M=>{var z;return v(),I("button",{key:M.data.item_id,class:he(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:M.data.item_id===((z=w.value)==null?void 0:z.data.item_id)}]),onClick:oe=>W(M)},[M.data.type===b(ut).DIR?(v(),K(R,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):ge("",!0),M.data.type===b(ut).FILE?(v(),K(R,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):ge("",!0),ve(" "+U(M.data.name),1)],10,xv)}),128))])])):(v(),I("div",Ov,"Loading content of storage location"))])):(v(),I("div",Mv,"Loading possible storage locations"))],64)}}}),Dv={class:"d-flex justify-content-between mb-3"},Lv=["disabled"],$v=["value"],Rv={class:"input-group mb-3"},Pv=se({__name:"SelectLocationModal",emits:["select","close"],setup(s,{emit:e}){const t=e,n=/\.(yaml)$/,o=N(n),r=N(""),i=N([]),a=N(!0),l=N(""),u=N(wt.ASK),c=B(()=>a.value?[...i.value,l.value].join("/"):[...i.value.slice(0,-1),l.value].join("/"));function _(p,f){i.value=p,a.value=f,f?l.value="":l.value=p[p.length-1]}return(p,f)=>(v(),K(b(Ss),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:pt(()=>[F(En,{location:"Folder",title:"Save Tree to Folder",file_filter:o.value,search_term:l.value,onClose:f[4]||(f[4]=w=>t("close")),onLocation:f[5]||(f[5]=w=>r.value=w),onSelect:f[6]||(f[6]=(w,E)=>_(w,E))},{default:pt(()=>[d("div",Dv,[d("button",{class:"btn btn-primary me-2",disabled:!n.test(l.value),onClick:f[0]||(f[0]=w=>t("select",r.value,c.value,u.value))}," Select ",8,Lv),Be(d("select",{"onUpdate:modelValue":f[1]||(f[1]=w=>o.value=w),class:"form-select me-2"},[d("option",{value:n},"Valid files"),f[7]||(f[7]=d("option",{value:void 0},"All files",-1))],512),[[Lt,o.value]]),Be(d("select",{"onUpdate:modelValue":f[2]||(f[2]=w=>u.value=w),class:"form-select"},[(v(!0),I(ie,null,me(Object.values(b(wt)),w=>(v(),I("option",{key:w,value:w},U(w),9,$v))),128))],512),[[Lt,u.value]])]),d("div",Rv,[f[8]||(f[8]=d("span",{class:"input-group-text"}," Name: ",-1)),Be(d("input",{"onUpdate:modelValue":f[3]||(f[3]=w=>l.value=w),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[ds,l.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),jv={class:"d-flex flex-column"},zv={class:"row g-2 mb-3"},Fv={class:"btn-group col-8"},Uv=["disabled"],Wv={class:"input-group mb-3"},Hv=["value"],Bv=["value"],Yv={class:"d-flex flex-column"},Vv={class:"input-group mb-3"},Gv=se({__name:"MultipleSelection",setup(s){const e=be(),t=_e(),n=Ne();let o=n.selected_node_ids.join("_");o.length===0&&(o="Subtree");const r=N(o),i=N(""),a=N(""),l=N(!1),u=N(wt.ASK);async function c(){if(!window.confirm("Really delete all selected nodes ("+n.selected_node_ids.join(", ")+")?"))return;const E=[];n.selected_node_ids.forEach(g=>{const m=t.current_tree.structure.nodes.find(T=>ae(T.node_id)===g);let C=g;m!==void 0&&(C=m.name),E.push(pi(g,C,!1).then(()=>{n.selected_node_ids=n.selected_node_ids.filter(T=>T!==g)}))}),await Promise.all(E)}function _(){l.value=!0}function p(E,g,m){l.value=!1,i.value=E,a.value=g,u.value=m}function f(){e.generate_subtree_service.callService({node_ids:n.selected_node_ids.map(E=>st(E))},E=>{E.success?(O({title:"Generated subtree successfully!",type:"success"}),w(E.tree)):O({title:"Failed to generate subtree!",text:E.error_message,type:"warn"})},E=>{O({title:"Failed to call GenerateSubtree service!",text:E,type:"error"})})}function w(E){E.name=r.value;const[g,m]=fi(u.value),C={storage_path:i.value,filepath:a.value,tree:E,allow_overwrite:g,allow_rename:m};e.save_tree_service.callService(C,T=>{if(T.success)O({title:"Successfully saved subtree!",text:T.file_path,type:"success"});else{if(u.value!==wt.ASK||T.error_message!=="Overwrite not allowed"){O({title:"Failed to save subtree!",text:T.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+i.value+"/"+a.value+"' ?")){O({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}C.allow_overwrite=!0,C.allow_rename=!1,e.save_tree_service.callService(C,S=>{S.success?O({title:"Successfully saved subtree!",text:S.file_path,type:"success"}):O({title:"Failed to save subtree!",text:S.error_message,type:"warn"})},S=>{O({title:"Failed to call SaveTree service!",text:S,type:"error"})})}},T=>{O({title:"Failed to call SaveTree service!",text:T,type:"error"})})}return(E,g)=>(v(),I(ie,null,[F(Pv,{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=m=>l.value=m),onClose:g[1]||(g[1]=m=>l.value=!1),onSelect:p},null,8,["modelValue"]),d("div",jv,[d("div",zv,[d("div",Fv,[d("button",{class:"btn btn-primary",onClick:_},"Select Location"),d("button",{class:"btn btn-primary",disabled:i.value===""||a.value==="",onClick:f}," Save Subtree ",8,Uv)]),d("div",{class:"btn-group col-4"},[d("button",{class:"btn btn-danger",onClick:c},"Delete Nodes")])]),d("div",Wv,[g[3]||(g[3]=d("span",{class:"input-group-text"},"Location:",-1)),d("input",{class:"form-control overflow-x-auto",type:"text",value:i.value,placeholder:"Storage Folder","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Hv),d("input",{class:"form-control overflow-x-auto",type:"text",value:a.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Bv)]),d("div",Yv,[d("div",Vv,[g[4]||(g[4]=d("span",{class:"input-group-text"},"Name:",-1)),Be(d("input",{"onUpdate:modelValue":g[2]||(g[2]=m=>r.value=m),class:"form-control",type:"text",placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name"},null,512),[[ds,r.value]])])])])],64))}}),Kv={key:0,class:"form-group"},Zv={class:"d-block"},Jv=["value"],Qv={key:1},Xv=se({__name:"BytesParam",props:{category:{},data_key:{}},setup(s){const e=Ne(),t=s,n=B(()=>e.new_node_options.find(a=>a.key===t.data_key)),o=B(()=>{if(n.value===void 0)return"";const a=n.value.value.value;return di(a)});function r(a){if(n.value===void 0){console.error("Undefined parameter");return}const l=a.target;try{fo(l.value)}catch{l.classList.add("is-invalid");return}l.classList.remove("is-invalid")}function i(a){if(n.value===void 0){console.error("Undefined parameter");return}const l=a.target;let u;try{u=fo(l.value)}catch{return}e.updateParamValue(t.category,n.value.key,u)}return(a,l)=>n.value!==void 0?(v(),I("div",Kv,[d("label",Zv,U(n.value.key),1),d("input",{class:"form-control",type:"text",value:o.value,onChange:i,onInput:r},null,40,Jv)])):(v(),I("div",Qv,"Error loading param data"))}}),qv={key:0,class:"form-group"},eh={class:"d-block"},th=["value","disabled"],sh={class:"mb-2 search-results"},nh=["onClick","onKeyup"],oh={key:1},rh=se({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=_e(),n=Ne(),o=hs(),r=N([]),i=B(()=>n.new_node_options.find(C=>C.key===e.data_key)),a=B(()=>i.value===void 0?o.messages_fuse:wn(i.value.value.type)[1]==="builtin"?new Re(en):o.messages_fuse),l=B(()=>{if(i.value===void 0)return"";let C=i.value.value.value;return en.includes(C)&&(C="builtins."+C),C}),u=N(!0),c=N(!1);function _(C){if(i.value===void 0){console.error("Undefined parameter");return}let S=C.target.value||"";S=S.replace("__builtin__.","").replace("builtins.","");const j=a.value.search(S);r.value=j.map(W=>W.item),n.updateParamValue(e.category,e.data_key,S)}function p(C){n.updateParamValue(e.category,e.data_key,C),m()}function f(C){return en.includes(C)&&(C="builtins."+C),C.replace(/\./g,".")}function w(){n.changeCopyMode(!1),u.value=!1}function E(){u.value=!0}function g(){c.value=!0}function m(){c.value=!1}return(C,T)=>i.value!==void 0?(v(),I("div",qv,[d("label",eh,[ve(U(i.value.key)+" ",1),d("input",{type:"text",class:"form-control mt-2",value:l.value,disabled:b(t).has_selected_subtree,onInput:_,onFocus:w,onBlur:E,onKeyup:T[0]||(T[0]=He(()=>{E(),m()},["esc"])),onKeydown:He(g,["tab"])},null,40,th)]),d("div",sh,[d("div",{class:he(["list-group rounded-top-0",{"d-none":u.value&&!c.value}]),onMouseenter:g,onMouseleave:m},[(v(!0),I(ie,null,me(r.value,S=>(v(),I("div",{key:S,class:"list-group-item search-result",tabindex:"0",onClick:()=>p(S),onKeyup:[He(()=>p(S),["enter"]),He(m,["esc"])]},U(f(S)),41,nh))),128))],34)])])):(v(),I("div",oh,"Error loading param data"))}});var ah=Rl();const ih=Pi(ah),lh={class:"d-flex align-items-center justify-content-between mb-1"},ch=se({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){const e=Ne(),t=be(),n=s,o=B(()=>e.new_node_options.find(f=>f.key===n.data_key)),r=N(!0),i=N();let a;const l=B(()=>o.value===void 0?!1:o.value.value.type==="dict(ros)"),u=B(()=>{if(l.value)return e.new_node_options.find(f=>f.value.type===ks)});function c(){e.changeCopyMode(!1)}function _(){if(a!==void 0)try{const f=a.get();r.value=!0,e.updateParamValue(n.category,n.data_key,f)}catch(f){console.debug(f),r.value=!1}}function p(){if(u.value===void 0){console.warn("Nothing to fetch");return}const f=u.value.value.value.type_str;console.log(f),t.get_message_fields_service.callService({message_type:f},w=>{if(console.log(w),w.success){const E=JSON.parse(w.fields);a!==void 0&&a.update(E),e.updateParamValue(n.category,n.data_key,E),O({title:"Successfully loaded message fields!",text:"",type:"success"})}else O({title:"Failed to load message fields!",text:w.error_message,type:"warn"})},w=>{O({title:"Failed to call GetMessageFields service!",text:w,type:"error"})}),console.log("Sent message fields request")}return dt(()=>o.value===void 0?"":o.value.value.type,()=>{a===void 0||o.value===void 0||a.update(o.value.value.value)}),us(()=>{i.value!==void 0&&(a=new ih(i.value,{mode:"code",onChange:()=>_()}),a.aceEditor.setOptions({maxLines:100}),a.aceEditor.resize(),o.value!==void 0&&a.update(o.value.value.value))}),Ii(()=>{a!==void 0&&a.destroy()}),(f,w)=>{var E;return v(),I(ie,null,[d("div",lh,[d("label",null,U((E=o.value)==null?void 0:E.key),1),u.value?(v(),I("button",{key:0,class:"btn btn-primary btn-sm",onClick:p}," Fetch default message fields ")):ge("",!0)]),d("div",{id:"editor",ref_key:"editor_ref",ref:i,onFocus:c},null,544)],64)}}}),uh={key:0,class:"form-group"},dh={class:"d-block"},_h=["value","disabled"],fh=["value"],ph={key:1},Fr=se({__name:"MathOperatorParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=_e(),t=Ne(),n=s,o=B(()=>t.new_node_options.find(a=>a.key===n.data_key));function r(a){if(o.value===void 0){console.error("Undefined parameter");return}const l=a.target,u=o.value.value.value;u.operator=l.value,t.updateParamValue(n.category,o.value.key,u)}const i={unary:["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"],binary:["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"]};return(a,l)=>o.value!==void 0?(v(),I("div",uh,[d("label",dh,U(o.value.key),1),d("select",{class:"form-select",value:o.value.value.value.operator,disabled:b(e).has_selected_subtree,onChange:r},[(v(!0),I(ie,null,me(i[n.op_type],u=>(v(),I("option",{key:u,value:u},U(u),9,fh))),128))],40,_h)])):(v(),I("div",ph,"Error loading param data"))}}),vh={key:0,class:"form-group"},hh={class:"d-block"},gh=["value","disabled"],mh=["value"],yh={key:1},Ur=se({__name:"MathOperandParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=_e(),t=Ne(),n=s,o=B(()=>t.new_node_options.find(a=>a.key===n.data_key));function r(a){if(o.value===void 0){console.error("Undefined parameter");return}const l=a.target,u=o.value.value.value;u.operand_type=l.value,t.updateParamValue(n.category,o.value.key,u)}const i={unary:["int","float"],binary:["int","float","bool"]};return(a,l)=>o.value!==void 0?(v(),I("div",vh,[d("label",hh,U(o.value.key),1),d("select",{class:"form-select",value:o.value.value.value.operand_type,disabled:b(e).has_selected_subtree,onChange:r},[(v(!0),I(ie,null,me(i[n.op_type],u=>(v(),I("option",{key:u,value:u},U(u),9,mh))),128))],40,gh)])):(v(),I("div",yh,"Error loading param data"))}}),bh={class:"d-flex justify-content-between mb-3"},wh=["disabled"],Eh={class:"input-group"},Th=se({__name:"SelectFileModal",props:{fromPackages:{type:Boolean}},emits:["select","close"],setup(s,{emit:e}){const t=s,n=e,o=/\.(yaml)$/,r=N(o),i=N(""),a=N([]),l=N(!0),u=N(""),c=B(()=>(t.fromPackages?"package":"file")+"://"+i.value+"/"+a.value.join("/"));function _(p,f){a.value=p,l.value=f,f&&(u.value="")}return(p,f)=>(v(),K(b(Ss),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:pt(()=>[F(En,{file_filter:r.value,"from-packages":t.fromPackages,title:"Select File from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:u.value,onClose:f[3]||(f[3]=w=>n("close")),onLocation:f[4]||(f[4]=w=>i.value=w),onSelect:f[5]||(f[5]=(w,E)=>_(w,E))},{default:pt(()=>[d("div",bh,[d("button",{class:"btn btn-primary me-2",disabled:l.value,onClick:f[0]||(f[0]=w=>n("select",c.value))}," Select ",8,wh),Be(d("select",{"onUpdate:modelValue":f[1]||(f[1]=w=>r.value=w),class:"form-select me-2 w-50"},[d("option",{value:o},"Valid files"),f[6]||(f[6]=d("option",{value:void 0},"All files",-1))],512),[[Lt,r.value]]),d("div",Eh,[f[7]||(f[7]=d("span",{class:"input-group-text"}," Search: ",-1)),Be(d("input",{"onUpdate:modelValue":f[2]||(f[2]=w=>u.value=w),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[ds,u.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Nh={key:0,class:"form-group"},Ah={class:"d-block"},Ch={class:"input-group"},Ih=["value"],kh={key:1},Sh=se({__name:"FilePathParam",props:{category:{},data_key:{}},setup(s){const e=Ne(),t=s,n=B(()=>e.new_node_options.find(u=>u.key===t.data_key)),o=N(!1),r=N(!1);function i(){r.value=!0,o.value=!0}function a(){r.value=!1,o.value=!0}function l(u){if(n.value===void 0){console.error("Undefined parameter");return}const c=n.value.value.value;c.path=u,e.updateParamValue(t.category,n.value.key,c),o.value=!1}return(u,c)=>{const _=ye("FontAwesomeIcon");return v(),I(ie,null,[F(Th,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=p=>o.value=p),"from-packages":r.value,onClose:c[1]||(c[1]=p=>o.value=!1),onSelect:l},null,8,["modelValue","from-packages"]),n.value!==void 0?(v(),I("div",Nh,[d("label",Ah,U(n.value.key),1),d("div",Ch,[d("input",{type:"text",class:"form-control",value:n.value.value.value.path,disabled:""},null,8,Ih),d("button",{class:"btn btn-primary",onClick:i},[F(_,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),c[2]||(c[2]=d("span",{class:"ms-1"},"Package",-1))]),d("button",{class:"btn btn-primary",onClick:a},[F(_,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),c[3]||(c[3]=d("span",{className:"ms-1"},"File",-1))])])])):(v(),I("div",kh,"Error loading param data"))],64)}}}),xh={key:0,class:"form-group"},Oh={class:"d-block"},Mh=["value","disabled"],Dh={class:"mb-2 search-results"},Lh=["onClick","onKeyup"],$h={key:1},Vn=se({__name:"RosTypeParam",props:{category:{},data_key:{},type:{}},setup(s){const e=Ne(),t=_e(),n=hs(),o=s,r=N([]),i=B(()=>e.new_node_options.find(m=>m.key===o.data_key)),a=B(()=>{if(i.value!==void 0&&wn(i.value.value.type)[1]==="full")return n.ros_all_messages_fuse;switch(o.type){case"topic":return n.ros_topic_type_fuse;case"service":return n.ros_service_type_fuse;case"action":return n.ros_action_type_fuse;default:return}}),l=N(!0),u=N(!1);function c(m){if(i.value===void 0||a.value===void 0){console.error("Undefined parameter");return}const T=m.target.value||"",S=a.value.search(T);r.value=S.map(j=>j.item),_(T)}function _(m){if(i.value===void 0){console.error("Undefined parameter");return}const C=i.value.value.value;C.type_str=m,e.updateParamValue(o.category,o.data_key,C)}function p(m){_(m),g()}function f(){e.changeCopyMode(!1),l.value=!1}function w(){l.value=!0}function E(){u.value=!0}function g(){u.value=!1}return(m,C)=>i.value!==void 0?(v(),I("div",xh,[d("label",Oh,[ve(U(i.value.key)+" ",1),d("input",{type:"text",class:"form-control mt-2",value:i.value.value.value.type_str,disabled:b(t).has_selected_subtree,onInput:c,onFocus:f,onBlur:w,onKeyup:C[0]||(C[0]=He(()=>{w(),g()},["esc"])),onKeydown:He(E,["tab"])},null,40,Mh)]),d("div",Dh,[d("div",{class:he(["list-group rounded-top-0",{"d-none":l.value&&!u.value}]),onMouseenter:E,onMouseleave:g},[(v(!0),I(ie,null,me(r.value,T=>(v(),I("div",{key:T,class:"list-group-item search-result",tabindex:"0",onClick:()=>p(T),onKeyup:[He(()=>p(T),["enter"]),He(g,["esc"])]},U(T),41,Lh))),128))],34)])])):(v(),I("div",$h,"Error loading param data"))}}),Rh={key:0,class:"form-group"},Ph={class:"d-block"},jh=["value","disabled"],zh={class:"mb-2 search-results"},Fh=["onClick","onKeyup"],Uh={key:1},Gn=se({__name:"RosNameParam",props:{category:{},data_key:{},type:{}},setup(s){const e=Ne(),t=_e(),n=hs(),o=s,r=N([]),i=B(()=>e.new_node_options.find(T=>T.key===o.data_key)),a=B(()=>{let T;switch(o.type){case"topic":T=ks;break;case"service":T=an;break;case"action":T=ln;break;default:return}return e.new_node_options.find(S=>S.value.type===T)}),l=B(()=>{switch(o.type){case"topic":return n.ros_topic_name_fuse;case"service":return n.ros_service_name_fuse;case"action":return n.ros_action_name_fuse;default:return}}),u=N(!0),c=N(!1);function _(T){if(i.value===void 0||l.value===void 0){console.error("Undefined parameter");return}const j=T.target.value||"",W=l.value.search({name:j});r.value=W.map(L=>L.item),p(j)}function p(T){if(i.value===void 0){console.error("Undefined parameter");return}const S=i.value.value.value;S.name=T,e.updateParamValue(o.category,o.data_key,S)}function f(T){if(a.value===void 0)return;const S=a.value.value.value;S.type_str=T,e.updateParamValue(o.category,a.value.key,S)}function w(T){p(T.name),f(T.type),C()}function E(){e.changeCopyMode(!1),u.value=!1}function g(){u.value=!0}function m(){c.value=!0}function C(){c.value=!1}return(T,S)=>i.value!==void 0?(v(),I("div",Rh,[d("label",Ph,[ve(U(i.value.key)+" ",1),d("input",{type:"text",class:"form-control mt-2",value:i.value.value.value.name,disabled:b(t).has_selected_subtree,onInput:_,onFocus:E,onBlur:g,onKeyup:S[0]||(S[0]=He(()=>{g(),C()},["esc"])),onKeydown:He(m,["tab"])},null,40,jh)]),d("div",zh,[d("div",{class:he(["list-group rounded-top-0",{"d-none":u.value&&!c.value}]),onMouseenter:m,onMouseleave:C},[(v(!0),I(ie,null,me(r.value,j=>(v(),I("div",{key:j.name,class:"list-group-item search-result",tabindex:"0",onClick:()=>w(j),onKeyup:[He(()=>w(j),["enter"]),He(C,["esc"])]},[ve(U(j.name),1),S[1]||(S[1]=d("br",null,null,-1)),d("small",null,U(j.type),1)],40,Fh))),128))],34)])])):(v(),I("div",Uh,"Error loading param data"))}}),Wh={key:0,class:"list-group-item"},Hh={key:0,class:"form-group"},Bh={class:"d-block"},Yh={key:14,class:"form-group position-relative"},Vh={key:1},Gh=se({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=Ne(),n=_e(),o=B(()=>t.new_node_options.find(c=>c.key===e.data_key)),r=B(()=>o.value===void 0?"":wn(o.value.value.type)[0]),i=["int","float","bool","str",cs],a=B(()=>{if(o.value===void 0||!i.includes(r.value))return;let c,_,p="any",f=["form-control"],w=!1,E=n.has_selected_subtree;switch(r.value){case"int":p=1;case"float":c="number",_=o.value.value.value;break;case"bool":c="checkbox",w=o.value.value.value,f=["form-check-input","d-block"];break;case cs:E=!0;case"str":c="text",_=o.value.value.value;break;default:c="hidden";break}return{type:c,value:_,class:f,step:p,checked:w,disabled:E}});function l(c){if(o.value===void 0)return;const _=c.target;let p;switch(o.value.value.type){case"int":p=parseInt(_.value),isNaN(p)&&(p=0);break;case"float":p=parseFloat(_.value),isNaN(p)&&(p=0);break;case"bool":p=_.checked;break;default:p=_.value;break}t.updateParamValue(e.category,e.data_key,p)}function u(){t.changeCopyMode(!1)}return(c,_)=>o.value!==void 0?(v(),I("div",Wh,[a.value!==void 0?(v(),I("div",Hh,[d("label",Bh,U(o.value.key),1),d("input",Kr(a.value,{onChange:l,onFocus:u}),null,16)])):r.value==="bytes"?(v(),K(Xv,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):r.value==="type"?(v(),K(rh,{key:2,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):r.value===b(oo)?(v(),K(Fr,{key:3,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):r.value===b(io)?(v(),K(Ur,{key:4,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):r.value===b(ro)?(v(),K(Fr,{key:5,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):r.value===b(ao)?(v(),K(Ur,{key:6,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):r.value===b(lo)?(v(),K(Sh,{key:7,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):r.value===b(ks)?(v(),K(Vn,{key:8,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):r.value===b(co)?(v(),K(Gn,{key:9,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):r.value===b(an)?(v(),K(Vn,{key:10,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):r.value===b(uo)?(v(),K(Gn,{key:11,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):r.value===b(ln)?(v(),K(Vn,{key:12,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):r.value===b(_o)?(v(),K(Gn,{key:13,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):(v(),I("div",Yh,[F(ch,{category:e.category,data_key:e.data_key},null,8,["category","data_key"])]))])):(v(),I("div",Vh,"Error loading param data"))}}),Kh={key:0,class:"list-group-item"},Zh={class:"h5"},Jh={className:"text-muted"},Qh={key:0,class:"d-flex flex-wrap m-1"},Xh=["onClick"],qh={key:1},Wr=se({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=_e(),n=Ne(),o=B(()=>{switch(e.category){case"inputs":return n.new_node_inputs.find(l=>l.key===e.data_key);case"outputs":return n.new_node_outputs.find(l=>l.key===e.data_key);default:return}}),r=B(()=>t.current_tree.structure===void 0?[]:t.current_tree.structure.data_wirings.filter(l=>i(l.source)||i(l.target)));function i(l){return n.selected_node===void 0?!1:l.data_key===e.data_key&&l.data_kind===e.category&&es(l.node_id,n.selected_node.node_id)}function a(l){let u=null;if(i(l.source)&&(u=l.target),i(l.target)&&(u=l.source),u===null)return"Other Endpoint";const c=t.current_tree.structure.nodes.find(_=>es(_.node_id,u.node_id));return c===void 0?"Other Endpoint":c.name+"."+u.data_key}return(l,u)=>o.value!==void 0?(v(),I("div",Kh,[d("div",Zh,[ve(U(o.value.key+" ")+" ",1),d("span",Jh,"(type: "+U(o.value.type)+")",1)]),r.value?(v(),I("div",Qh,[(v(!0),I(ie,null,me(r.value,c=>(v(),I("button",{class:"btn btn-outline-primary m-1",onClick:_=>b(t).selectEdge(c)},U(a(c)),9,Xh))),256))])):ge("",!0)])):(v(),I("div",qh,"Error loading param data"))}}),eg={class:"d-flex flex-column overflow-auto pb-3",style:{"max-height":"40vh"}},tg=["value","disabled"],sg={class:"d-flex align-items-baseline mb-2"},ng={class:"text-muted"},og={key:0},rg=["value","disabled"],ag=["value"],ig={key:0,class:"mb-3"},lg={key:0,class:"mx-2"},cg={class:"mb-3"},ug={class:"list-group"},dg={class:"mb-3"},_g={class:"list-group"},fg={className:"mb-3"},pg={class:"list-group"},vi=se({__name:"EditableNode",setup(s){const e=_e(),t=Ne(),n=N(!1);return(o,r)=>{const i=ye("FontAwesomeIcon");return v(),I("div",eg,[d("input",{class:"form-control-lg mb-2",type:"text",value:b(t).new_node_name,disabled:b(e).has_selected_subtree,onFocus:r[0]||(r[0]=()=>b(t).changeCopyMode(!1)),onChange:r[1]||(r[1]=a=>b(t).changeNodeName(a.target.value))},null,40,tg),d("div",sg,[d("h4",ng,[b(t).is_flow_control_node?(v(),I("select",{key:1,class:"form-select",value:b(t).new_node_module+b(t).new_node_class,disabled:b(e).has_selected_subtree,onChange:r[2]||(r[2]=a=>b(t).changeNodeClass(a.target.value))},[(v(!0),I(ie,null,me(b(t).flow_control_nodes,a=>(v(),I("option",{key:a.module+a.node_class,value:a.module+a.node_class},[ve(U(a.node_class)+" ",1),d("small",null,"("+U(a.module)+")",1)],8,ag))),128))],40,rg)):(v(),I("div",og,[ve(U(b(t).new_node_class)+" ",1),d("small",null,"("+U(b(t).new_node_module)+")",1)]))])]),b(t).reference_node&&b(cn)(b(t).reference_node.doc)!==""?(v(),I("div",ig,[d("div",{class:"d-flex align-items-baseline cursor-pointer",onClick:r[3]||(r[3]=()=>n.value=!n.value)},[r[4]||(r[4]=d("h5",null,"Description",-1)),F(i,{icon:"fa-solid "+(n.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"ms-2"},null,8,["icon"])]),n.value?(v(),I("div",lg,U(b(cn)(b(t).reference_node.doc)),1)):ge("",!0)])):ge("",!0),d("div",cg,[r[5]||(r[5]=d("h5",null,"Options",-1)),d("div",ug,[(v(!0),I(ie,null,me(b(t).new_node_options,a=>(v(),K(Gh,{key:"option_"+a.key,data_key:a.key,category:"options"},null,8,["data_key"]))),128))])]),d("div",dg,[r[6]||(r[6]=d("h5",null,"Input",-1)),d("div",_g,[(v(!0),I(ie,null,me(b(t).new_node_inputs,a=>(v(),K(Wr,{key:"input_"+a.key,data_key:a.key,category:"inputs"},null,8,["data_key"]))),128))])]),d("div",fg,[r[7]||(r[7]=d("h5",null,"Output",-1)),d("div",pg,[(v(!0),I(ie,null,me(b(t).new_node_outputs,a=>(v(),K(Wr,{key:"output_"+a.key,data_key:a.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),vg={class:"d-flex flex-column"},hg=["disabled"],gg={class:"pt-2 pb-2"},mg=["disabled"],yg=["value"],bg=se({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=Ne(),n=N(e.parents.length>0?e.parents[0]:null);async function o(){if(t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}const r=await Xt(t.buildNodeMsg(),n.value!==null?ae(n.value.node_id):Te,-1);t.clearNodeHasChanged(),t.editorSelectionChange(r)}return(r,i)=>(v(),I("div",vg,[d("button",{class:"btn btn-block btn-primary",disabled:!b(t).node_is_valid,onClick:o}," Add to Tree ",8,hg),d("label",gg,[i[1]||(i[1]=ve(" Parent ")),Be(d("select",{"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a),class:"custom-select d-block",disabled:r.parents.length===0},[(v(!0),I(ie,null,me(r.parents,a=>(v(),I("option",{key:b(ae)(a.node_id),value:a},U(a.name),9,yg))),128))],8,mg),[[Lt,n.value]])]),F(vi)]))}}),wg={class:"d-flex flex-column"},Eg={class:"mb-3 d-flex justify-content-between"},Tg=["disabled"],Ng=["disabled"],Ag=["disabled"],Cg=["disabled"],Ig={class:"overflow-auto flex-grow-1"},kg={key:0},Sg={key:1},xg=["onClick"],Og={key:2},Mg=["onClick"],Dg=["onClick"],Lg={class:"text-primary-emphasis font-monospace"},$g={class:"text-body-secondary text-break"},Rg={class:"d-flex justify-content-between align-items-end mt-1"},Pg={class:"text-body-tertiary"},jg=["onClick"],hi=se({__name:"LogsDisplay",props:{tree_id:{},node_id:{}},setup(s){const e=s,t=Lo(),n=_e(),o=Ne(),r=N(null),i=N(null),a=N(null),l=N(null),u=B(()=>{const g=[Ee.FATAL];return l.value&&g.push(Ee.ERROR),a.value&&g.push(Ee.WARN),i.value&&g.push(Ee.INFO),r.value&&g.push(Ee.DEBUG),g}),c=B(()=>t.getRelevantLogs(e.tree_id,e.node_id,u.value));dt(()=>t.min_log_level,_,{immediate:!0});function _(g){g>=Ee.FATAL?l.value=null:l.value=!0,g>=Ee.ERROR?a.value=null:a.value=!0,g>=Ee.WARN?i.value=null:i.value=!0,g>=Ee.INFO?r.value=null:r.value=!1}function p(g){switch(g){case Ee.DEBUG:return"text-secondary-emphasis";case Ee.INFO:return"text-info-emphasis";case Ee.WARN:return"text-warning-emphasis";case Ee.ERROR:return"text-danger-emphasis";case Ee.FATAL:return"text-danger-emphasis fw-bold";default:return""}}function f(){t.clearRelevantLogs(e.tree_id,e.node_id,u.value)}function w(g){return g.tree===void 0||!o.clearSelection()?!1:g.tree.id!==Te&&!n.publish_subtrees?(window.alert("You need to enable subtree publishing to display this tree"),!1):n.findTree(g.tree.id)===void 0?(window.alert("This tree doesn't exist, perhaps the message is outdated?"),!1):(n.selected_tree=g.tree.id,!0)}function E(g){return g.node===void 0?!1:w(g)?(window.setTimeout(m=>o.editorSelectionChange(m.node.id),100,g),!0):!1}return(g,m)=>{const C=ye("FontAwesomeIcon");return v(),I("div",wg,[d("div",Eg,[d("div",null,[d("button",{type:"button",class:he(["btn btn-sm mx-1",r.value?"btn-secondary":"btn-outline-secondary"]),disabled:r.value===null,onClick:m[0]||(m[0]=()=>r.value=!r.value)}," Debug ",10,Tg),d("button",{type:"button",class:he(["btn btn-sm mx-1",i.value?"btn-info":"btn-outline-info"]),disabled:i.value===null,onClick:m[1]||(m[1]=()=>i.value=!i.value)}," Info ",10,Ng),d("button",{type:"button",class:he(["btn btn-sm mx-1",a.value?"btn-warning":"btn-outline-warning"]),disabled:a.value===null,onClick:m[2]||(m[2]=()=>a.value=!a.value)}," Warning ",10,Ag),d("button",{type:"button",class:he(["btn btn-sm mx-1",l.value?"btn-danger":"btn-outline-danger"]),disabled:l.value===null,onClick:m[3]||(m[3]=()=>l.value=!l.value)}," Error ",10,Cg)]),d("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:f},[F(C,{icon:"fa-solid fa-trash-can"})])]),d("div",Ig,[(v(!0),I(ie,null,me(c.value,T=>(v(),I("div",{key:T.stamp.getTime(),class:"border border-3 bg-body p-1 my-1"},[T.tree===void 0?(v(),I("div",kg,"General")):T.node===void 0?(v(),I("div",Sg,[m[4]||(m[4]=ve(" Tree ")),d("a",{class:"text-primary text-decoration-underline",onClick:()=>w(T)},U(T.tree.name),9,xg)])):(v(),I("div",Og,[m[5]||(m[5]=ve(" Node ")),d("a",{class:"text-primary text-decoration-underline",onClick:()=>E(T)},U(T.node.name),9,Mg),m[6]||(m[6]=ve(" in Tree ")),d("a",{class:"text-primary text-decoration-underline",onClick:()=>w(T)},U(T.tree.name),9,Dg)])),d("div",{class:he(p(T.level))},U(T.msg)+"  ["+U(b(t).getLogLevelString(T.level))+"] ",3),m[8]||(m[8]=d("hr",{class:"my-1"},null,-1)),d("div",null,[d("span",Lg,U(T.function),1),m[7]||(m[7]=ve("  ")),d("span",$g,U(T.file)+":"+U(T.line),1)]),d("div",Rg,[d("small",Pg,U(T.stamp.toLocaleString()),1),d("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:()=>b(t).removeLogMessage(T)},[F(C,{icon:"fa-solid fa-trash-can"})],8,jg)])]))),128))])])}}}),zg={class:"d-flex flex-column"},Fg={class:"row g-1 mb-3"},Ug={class:"btn-group col-4"},Wg=["disabled"],Hg={class:"btn-group col-1"},Bg={class:"btn-group col-7"},Yg=["disabled"],Vg=["disabled"],Gg=se({__name:"SelectedNode",setup(s){const e=be(),t=_e(),n=Ne(),o=N(!1);async function r(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&(await pi(ae(n.selected_node.node_id),n.selected_node.name,!1),n.clearSelection())}function i(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_id:n.selected_node.node_id,remove_children:!0},u=>{u.success?(O({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):O({title:"Failed to remove node "+n.selected_node.name+"!",text:u.error_message,type:"error"})})}function a(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_id:n.selected_node.node_id,rename_node:!0,new_name:n.new_node_name,options:Do(n.new_node_options)},u=>{u.success?(O({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged()):O({title:"Failed to update node "+n.selected_node.name+"!",text:u.error_message,type:"error"})})}function l(){if(n.node_is_morphed){if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_id:n.selected_node.node_id,new_node:n.buildNodeMsg()},u=>{u.success?(O({title:"Morphed node "+n.new_node_name+" successfully!",type:"success"}),n.node_is_morphed=!1,a()):O({title:"Failed to morph node "+n.selected_node.name+"!",text:u.error_message,type:"error"})})}else a()}return(u,c)=>{var p;const _=ye("FontAwesomeIcon");return v(),I("div",zg,[d("div",Fg,[d("div",Ug,[d("button",{class:"btn btn-primary",disabled:!b(n).node_is_valid||b(t).has_selected_subtree,onClick:l}," Update Node ",8,Wg)]),d("div",Hg,[d("button",{class:he(["btn btn-secondary",{active:o.value}]),onClick:c[0]||(c[0]=()=>o.value=!o.value)},[F(_,{icon:"fa-solid fa-align-justify"})],2)]),d("div",Bg,[d("button",{class:"btn btn-danger",disabled:b(t).has_selected_subtree,onClick:r}," Delete Node ",8,Yg),d("button",{class:"btn btn-danger",disabled:b(t).has_selected_subtree,onClick:i}," Delete Node + Children ",8,Vg)])]),o.value?(v(),K(hi,{key:0,node_id:(p=b(n).selected_node)==null?void 0:p.node_id,style:{"max-height":"40vh"}},null,8,["node_id"])):(v(),K(vi,{key:1}))])}}}),Kg={class:"row my-2"},Zg={class:"col"},Jg={class:"input-group"},Qg=["disabled","value"],Xg=["disabled"],qg={class:"col-auto"},em={class:"input-group state-display"},tm=se({__name:"TreeNameStateDisplay",setup(s){const e=_e(),t=be(),n=B(()=>e.current_tree.structure!==void 0?e.current_tree.structure.name:""),o=N(n.value),r=B(()=>{const c=e.tree_state_list.find(_=>ae(_.tree_id)===Te);return c!==void 0?c.state:Le.EDITABLE}),i=B(()=>{let c="";switch(r.value){case Le.ERROR:c="--bg-color-error";break;case Le.IDLE:c="--bg-color-idle";break;case Le.STOP_REQUESTED:c="--bg-color-stop-requested";break;case Le.TICKING:c="--bg-color-ticking";break;case Le.WAITING_FOR_TICK:c="--bg-color-waiting-for-tick";break;case Le.EDITABLE:default:c="--bg-color-default";break}return{backgroundColor:"var("+c+")"}}),a=B(()=>{let c;switch(r.value){case Le.ERROR:c="fa-exclamation";break;case Le.IDLE:c="fa-pause";break;case Le.STOP_REQUESTED:c="fa-pause";break;case Le.TICKING:c="fa-bolt";break;case Le.WAITING_FOR_TICK:c="fa-hourglass-half";break;case Le.EDITABLE:c="fa-pen";break;default:c="";break}return"fa-solid "+c});Js(l);function l(){r.value===Le.ERROR&&window.alert("There has been an error while running the tree")}function u(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},c=>{c.success?O({title:"Successfully renamed tree!",text:o.value,type:"success"}):O({title:"Failed to rename tree!",text:c.error_message,type:"warn"})},c=>{O({title:"Failed to call ChangeTreeName service!",text:c,type:"error"})})}return(c,_)=>{const p=ye("FontAwesomeIcon");return v(),I("div",Kg,[d("div",Zg,[d("div",Jg,[_[1]||(_[1]=d("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),d("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:b(e).has_selected_subtree,value:n.value,onInput:_[0]||(_[0]=f=>o.value=f.target.value)},null,40,Qg),d("button",{class:"btn btn-primary",disabled:b(e).has_selected_subtree,onClick:u}," Save ",8,Xg)])]),d("div",qg,[d("div",em,[_[2]||(_[2]=d("label",{class:"input-group-text"}," State ",-1)),d("label",{class:"input-group-text",style:ki([i.value,{width:"12em"}])},[F(p,{icon:a.value,class:"me-2"},null,8,["icon"]),ve(" "+U(r.value),1)],4)])])])}}}),sm=Ft(tm,[["__scopeId","data-v-60e2ce2f"]]),nm={class:"d-flex align-items-center h-100"},om={class:"btn-group"},rm=se({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=_e();return(r,i)=>{const a=ye("FontAwesomeIcon");return v(),I("div",nm,[d("div",om,[d("button",{class:"btn btn-primary",title:"Toggle Data Graph",onClick:i[0]||(i[0]=l=>b(o).enableShowDataGraph(!b(o).show_data_graph))},[F(a,{class:he(b(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(v(),I("button",{key:0,class:"btn btn-primary btn-spaced",title:"Hide User Interface",onClick:i[1]||(i[1]=l=>n("hide"))},[F(a,{icon:"fa-solid fa-window-maximize"})])):(v(),I("button",{key:1,class:"btn btn-primary btn-spaced",title:"Show User Interface",onClick:i[2]||(i[2]=l=>n("show"))},[F(a,{icon:"fa-solid fa-window-restore"})])),d("button",{class:"btn btn-primary btn-spaced",title:"Change tree layout (layers/subtrees)",onClick:i[3]||(i[3]=()=>b(o).is_layer_mode=!b(o).is_layer_mode)},[F(a,{class:he(b(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),F(a,{class:he(b(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),d("button",{class:"btn btn-primary btn-spaced",title:"Change editor appearance",onClick:i[4]||(i[4]=(...l)=>b(o).cycleEditorSkin&&b(o).cycleEditorSkin(...l))},[F(a,{class:he(b(o).skin===b(un).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),F(a,{class:he(b(o).skin===b(un).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),am=["disabled"],im=["disabled"],lm=se({__name:"LoadSaveClient",setup(s){const e=be(),t=_e(),n=N(),o=new FileReader;function r(_){const p=_.target;if(o.onloadend=u,p.files===null){O({title:"File selection is null!",type:"error"});return}o.readAsText(p.files[0])}function i(_,p){const f=document.createElement("a");f.download=p,f.href=_,document.body.appendChild(f),f.click(),document.body.removeChild(f)}function a(_){if(e.load_tree_service===void 0){O({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:_,permissive:!1},p=>{if(p.success)O({title:"Loaded tree successfully!",type:"success"}),t.resetQuickSaveLocation();else{if((p.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||p.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(O({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){O({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:_,permissive:!0},f=>{f.success?(O({title:"Loaded tree successfully!",type:"success"}),t.resetQuickSaveLocation()):O({title:"Failed to load tree!",text:f.error_message,type:"warn"})},f=>{O({title:"Failed to call load tree service!",text:f,type:"error"})})}O({title:"Failed to load tree!",text:p.error_message,type:"error"})}},p=>{O({title:"Failed to call load tree service!",text:p,type:"error"})})}function l(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function u(){let _=[];try{if(o.result===null){O({title:"Content of selected reads as null!",type:"error"});return}const p=o.result;_=Tn.loadAll(p);let f=null;for(let w=0;w<_.length;w++)_[w]!=null&&(f=_[w]);a(f)}catch(p){if(console.warn(p),e.fix_yaml_service===void 0){O({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},f=>{if(f.success){_=Tn.loadAll(f.fixed_yaml);let w=null;for(let E=0;E<_.length;E++)_[E]!=null&&(w=_[E]);a(w)}},f=>{O({title:"Failed to call FixYaml service!",text:f,type:"error"})})}}function c(){if(!e.connected){O({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand($e.SHUTDOWN),e.control_tree_execution_service.callService({command:$e.SHUTDOWN},_=>{if(_.success){O({title:"Tree shutdown successful!",type:"success"});const p=t.tree_structure_list.find(w=>ae(w.tree_id)===Te);if(p===void 0){O({title:"Tree is undefined, cannot save!",type:"error"});return}const f=Tn.dump(p);i("data:text/plain,"+encodeURIComponent(f),"tree.yaml")}else O({title:"Failed to shutdown tree, cannot save now!",text:_.error_message,type:"error"})},_=>{O({title:"Calling ControlTreeExecution ROS service failed!",text:_,type:"error"})})}return(_,p)=>{const f=ye("FontAwesomeIcon");return v(),I(ie,null,[d("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:r},null,544),d("button",{class:"btn btn-primary btn-spaced",title:"Upload",disabled:b(t).has_selected_subtree,onClick:l},[F(f,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),p[0]||(p[0]=d("span",{class:"ms-1 hide-button-text"},"Upload",-1))],8,am),d("button",{class:"btn btn-primary btn-spaced",title:"Download",disabled:b(t).has_selected_subtree,onClick:c},[F(f,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),p[1]||(p[1]=d("span",{class:"ms-1 hide-button-text"},"Download",-1))],8,im)],64)}}}),cm=Ft(lm,[["__scopeId","data-v-cc58d44f"]]),um={class:"d-flex justify-content-between mb-3"},dm=["disabled"],_m=["value"],fm={class:"input-group mb-3"},pm=se({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=be(),o=_e(),r=/\.(yaml)$/,i=N(r),a=N(""),l=N([]),u=N(!0),c=N(""),_=B(()=>o.tree_structure_list.find(g=>ae(g.tree_id)===Te)),p=B(()=>u.value?[...l.value,c.value].join("/"):[...l.value.slice(0,-1),c.value].join("/"));function f(g,m){l.value=g,u.value=m,m?c.value="":c.value=g[g.length-1]}const w=N(wt.ASK);function E(){if(!r.test(p.value)){console.error("Path is of improper format: ",p);return}if(_.value===void 0){console.error("No tree to save");return}const[g,m]=fi(w.value),C={storage_path:a.value,filepath:p.value,tree:_.value,allow_overwrite:g,allow_rename:m};n.save_tree_service.callService(C,T=>{if(T.success)O({title:"Successfully saved tree!",text:T.file_path,type:"success"}),o.setQuickSaveLocation(T.file_path),t("close");else{if(w.value!==wt.ASK||T.error_message!=="Overwrite not allowed"){O({title:"Failed to save tree!",text:T.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+a.value+"/"+p.value+"' ?")){O({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}C.allow_overwrite=!0,C.allow_rename=!1,n.save_tree_service.callService(C,S=>{S.success?(O({title:"Successfully saved tree!",text:S.file_path,type:"success"}),o.setQuickSaveLocation(S.file_path),t("close")):O({title:"Failed to save tree!",text:S.error_message,type:"warn"})},S=>{O({title:"Failed to call SaveTree service!",text:S,type:"error"})})}},T=>{O({title:"Failed to call SaveTree service!",text:T,type:"error"})})}return(g,m)=>(v(),K(b(Ss),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:pt(()=>[F(En,{location:"Folder",title:"Save Tree to Folder",file_filter:i.value,search_term:c.value,onClose:m[3]||(m[3]=C=>t("close")),onLocation:m[4]||(m[4]=C=>a.value=C),onSelect:m[5]||(m[5]=(C,T)=>f(C,T))},{default:pt(()=>[d("div",um,[d("button",{class:"btn btn-primary me-2",disabled:!r.test(c.value),onClick:E}," Save ",8,dm),Be(d("select",{"onUpdate:modelValue":m[0]||(m[0]=C=>i.value=C),class:"form-select me-2"},[d("option",{value:r},"Valid files"),m[6]||(m[6]=d("option",{value:void 0},"All files",-1))],512),[[Lt,i.value]]),Be(d("select",{"onUpdate:modelValue":m[1]||(m[1]=C=>w.value=C),class:"form-select"},[(v(!0),I(ie,null,me(Object.values(b(wt)),C=>(v(),I("option",{key:C,value:C},U(C),9,_m))),128))],512),[[Lt,w.value]])]),d("div",fm,[m[7]||(m[7]=d("span",{class:"input-group-text"}," Name: ",-1)),Be(d("input",{"onUpdate:modelValue":m[2]||(m[2]=C=>c.value=C),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[ds,c.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),vm={class:"d-flex justify-content-between mb-3"},hm=["disabled"],gm={class:"input-group"},Hr=se({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=_e(),r=be(),i=[],a=/\.(yaml)$/,l=N(a),u=N(""),c=N([]),_=N(!0),p=N(""),f=B(()=>(t.fromPackages?"package":"file")+"://"+u.value+"/"+c.value.join("/"));function w(g,m){c.value=g,_.value=m,m&&(p.value="")}function E(){r.load_tree_from_path_service.callService({path:f.value,permissive:!1},g=>{if(g.success)O({title:"Successfully loaded tree!",text:f.value,type:"success"}),o.resetQuickSaveLocation(),n("close");else{if(O({title:"Error while calling LoadTree service!",text:g.error_message,type:"warn"}),!i.includes(g.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){O({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}r.load_tree_from_path_service.callService({path:f.value,permissive:!0},m=>{m.success?(O({title:"Successfully loaded tree in permissive mode!",text:f.value,type:"success"}),o.resetQuickSaveLocation(),n("close")):O({title:"Error while calling LoadTree service in permissive mode!",text:m.error_message,type:"warn"})},m=>{O({title:"Failed to call LoadTree service!",text:m,type:"error"})})}},g=>{O({title:"Failed to call LoadTree service!",text:g,type:"error"})})}return(g,m)=>(v(),K(b(Ss),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:pt(()=>[F(En,{file_filter:l.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:p.value,onClose:m[2]||(m[2]=C=>n("close")),onLocation:m[3]||(m[3]=C=>u.value=C),onSelect:m[4]||(m[4]=(C,T)=>w(C,T))},{default:pt(()=>[d("div",vm,[d("button",{class:"btn btn-primary me-2",disabled:_.value,onClick:E}," Load ",8,hm),Be(d("select",{"onUpdate:modelValue":m[0]||(m[0]=C=>l.value=C),class:"form-select me-2 w-50"},[d("option",{value:a},"Valid files"),m[5]||(m[5]=d("option",{value:void 0},"All files",-1))],512),[[Lt,l.value]]),d("div",gm,[m[6]||(m[6]=d("span",{class:"input-group-text"}," Search: ",-1)),Be(d("input",{"onUpdate:modelValue":m[1]||(m[1]=C=>p.value=C),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[ds,p.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),mm=["disabled"],ym={class:"btn-group btn-spaced",role:"group"},bm=["disabled"],wm={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},Em=["disabled"],Tm=["disabled"],Nm=["disabled"],Am=["disabled"],Cm=se({__name:"LoadSaveServer",setup(s){const e=be(),t=_e(),n=N([]),o=B(()=>{let E=t.quick_save_location;const g=t.tree_structure_list.find(C=>ae(C.tree_id)===Te);if(E===""&&g!==void 0&&(E=g.path),E===""||!E.startsWith("file://"))return["",""];E=E.replace("file://","");const m=n.value.find(C=>E.startsWith(C+"/"));return m===void 0?["",""]:[m,E.replace(m+"/","")]}),r=B(()=>o.value[0]===""||o.value[1]===""),i=Zs({component:Hr,attrs:{fromPackages:!0,onClose(){i.close()}}}),a=Zs({component:Hr,attrs:{fromPackages:!1,onClose(){a.close()}}}),l=Zs({component:pm,attrs:{onClose(){l.close()}}});function u(){if(e.clear_tree_service===void 0){O({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},E=>{E.success?(console.log("called ClearTree service successfully"),O({title:"Created new tree successfully!",type:"success"}),t.resetQuickSaveLocation()):O({title:"Could not create new tree!",type:"warn",text:E.error_message})},E=>{O({title:"ClearTree service call failed!",type:"error",text:E})})}function c(){i.open()}function _(){a.open()}function p(){l.open()}function f(){if(r.value||!window.confirm(`Do you want to overwrite ${o.value[0]}/${o.value[1]}?`))return;const E=t.tree_structure_list.find(g=>ae(g.tree_id)===Te);e.save_tree_service.callService({storage_path:o.value[0],filepath:o.value[1],tree:E,allow_overwrite:!0,allow_rename:!1},g=>{g.success?O({title:"Successfully saved tree to",text:g.file_path,type:"success"}):O({title:"Quick save failed",text:g.error_message,type:"warn"})},g=>{O({title:"Failed to call SaveTree service",text:g,type:"error"})})}function w(){e.get_storage_folders_service.callService({},E=>{n.value=E.storage_folders},E=>{O({title:"Failed to call GetStorageFolders service!",text:E,type:"error"})})}return us(()=>{w()}),(E,g)=>{const m=ye("FontAwesomeIcon");return v(),I(ie,null,[d("button",{class:"btn btn-primary",title:"New tree",disabled:b(t).has_selected_subtree,onClick:u},[F(m,{icon:"fa-solid fa-file","aria-hidden":"true"}),g[0]||(g[0]=d("span",{class:"ms-1 hide-button-text"},"New",-1))],8,mm),d("div",ym,[d("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:b(t).has_selected_subtree},[F(m,{icon:"fa-solid fa-folder","aria-hidden":"true"}),g[1]||(g[1]=d("span",{class:"ms-1 hide-button-text"},"Load",-1))],8,bm),d("ul",wm,[d("li",null,[d("button",{class:"dropdown-item btn btn-primary",title:"Load from package",disabled:b(t).has_selected_subtree,onClick:c},[F(m,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),g[2]||(g[2]=d("span",{class:"ms-1"},"Package",-1))],8,Em)]),d("li",null,[d("button",{class:"dropdown-item btn btn-primary",title:"Load from file",disabled:b(t).has_selected_subtree,onClick:_},[F(m,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),g[3]||(g[3]=d("span",{className:"ms-1"},"File",-1))],8,Tm)])])]),d("button",{class:"btn btn-primary btn-spaced",title:"Quick Save to remote",disabled:b(t).has_selected_subtree||r.value,onClick:f},[F(m,{icon:"fa-solid fa-bookmark"}),g[4]||(g[4]=d("span",{class:"ms-1 hide-button-text"},"Quick Save",-1))],8,Nm),d("button",{class:"btn btn-primary btn-spaced",title:"Save to remote",disabled:b(t).has_selected_subtree,onClick:p},[F(m,{icon:"fa-solid fa-save","aria-hidden":"true"}),g[5]||(g[5]=d("span",{class:"ms-1 hide-button-text"},"Save",-1))],8,Am)],64)}}}),Im={class:"form-check form-switch my-3 fs-5"},km=["checked"],Sm={class:"input-group flex-nowrap my-3"},xm=["value"],Om=["value"],Mm={class:"input-group flex-nowrap my-3"},Dm=["value"],Lm=se({__name:"NamespaceSelect",setup(s){const e=be(),t=N(!1),n=N(e.url);function o(l){const u=l.target;e.changeNamespace(u.value)}function r(){if(e.services_for_type_service===void 0){O({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},l=>{const u=l.services.map(c=>c.substring(0,c.lastIndexOf("/"))+"/");u.length>0&&(e.setAvailableNamespaces(u),e.namespace===""&&e.changeNamespace(u[0]))})}function i(l){const u=l.target;n.value=u.value}function a(){e.setUrl(n.value),t.value=!1}return us(r),(l,u)=>{const c=ye("FontAwesomeIcon");return v(),I("div",null,[u[4]||(u[4]=d("div",{class:"h4 my-3"},"Connection Settings",-1)),d("div",Im,[d("input",{type:"checkbox",class:"form-check-input",checked:b(e).auto_connect,onClick:u[0]||(u[0]=(..._)=>b(e).toggleAutoConnect&&b(e).toggleAutoConnect(..._))},null,8,km),u[1]||(u[1]=d("label",{class:"form-check-label ms-2"}," Automatic reconnect ",-1))]),d("div",Sm,[u[2]||(u[2]=d("label",{class:"input-group-text"},"Namespace",-1)),d("select",{class:"form-select w-auto",value:b(e).namespace,onChange:o},[(v(!0),I(ie,null,me(b(e).available_namespaces,_=>(v(),I("option",{key:_,value:_},U(_),9,Om))),128))],40,xm),d("button",{type:"button",class:"btn btn-outline-secondary",onClick:r},[F(c,{icon:"fa-solid fa-sync","aria-hidden":"true"})])]),d("div",Mm,[u[3]||(u[3]=d("label",{class:"input-group-text"},"Rosbridge Server",-1)),d("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:n.value,onChange:i},null,40,Dm),d("button",{type:"button",class:"btn btn-primary",onClick:a},"Save")])])}}}),$m={class:"btn-group"},Rm=se({__name:"TickControls",setup(s){const e=_e(),t=be();function n(o){if(!t.connected){O({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},r=>{e.removeRunningCommand(o),r.success?O({title:"Running tree command",type:"success"}):O({title:"Running the tree command failed!",type:"error",text:r.error_message})})}return(o,r)=>{const i=ye("FontAwesomeIcon");return v(),I("div",$m,[d("button",{class:"btn btn-primary",title:"Tick Once",onClick:r[0]||(r[0]=()=>n(b($e).TICK_ONCE))},[b(e).running_commands.has(b($e).TICK_ONCE)?(v(),K(i,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(v(),K(i,{key:1,icon:"fas fa-check","aria-hidden":"true"})),r[6]||(r[6]=d("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Tick Periodically",onClick:r[1]||(r[1]=()=>n(b($e).TICK_PERIODICALLY))},[b(e).running_commands.has(b($e).TICK_PERIODICALLY)?(v(),K(i,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(v(),K(i,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),r[7]||(r[7]=d("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Tick Until Result",onClick:r[2]||(r[2]=()=>n(b($e).TICK_UNTIL_RESULT))},[b(e).running_commands.has(b($e).TICK_UNTIL_RESULT)?(v(),K(i,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(v(),K(i,{key:1,icon:"fas fa-play","aria-hidden":"true"})),r[8]||(r[8]=d("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Stop",onClick:r[3]||(r[3]=()=>n(b($e).STOP))},[b(e).running_commands.has(b($e).STOP)?(v(),K(i,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(v(),K(i,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),r[9]||(r[9]=d("i",{class:"{stop_classes}"},null,-1)),r[10]||(r[10]=d("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Reset",onClick:r[4]||(r[4]=()=>n(b($e).RESET))},[b(e).running_commands.has(b($e).RESET)?(v(),K(i,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(v(),K(i,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),r[11]||(r[11]=d("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Shutdown",onClick:r[5]||(r[5]=()=>n(b($e).SHUTDOWN))},[b(e).running_commands.has(b($e).SHUTDOWN)?(v(),K(i,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(v(),K(i,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),r[12]||(r[12]=d("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),Pm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgd2lkdGg9IjY0MCIKICAgaGVpZ2h0PSI2NDAiCiAgIHZpZXdCb3g9IjAgMCAxMjcgMTI3IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc4IgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzCiAgIGlkPSJkZWZzMTIiIC8+CgogPHRleHQKICAgdHJhbnNmb3JtPSJzY2FsZSgxLjA1MDY0NTksMC45NTE3OTU0NikiCiAgIGZvbnQtc3R5bGU9Im5vcm1hbCIKICAgZm9udC13ZWlnaHQ9Im5vcm1hbCIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgdGV4dC1hbmNob3I9InN0YXJ0IgogICBmb250LXNpemU9IjUyLjI5NjlweCIKICAgaWQ9InN2Z182IgogICB5PSI0OS42NzY2OTMiCiAgIHg9IjQuNTI3ODU0IgogICBzdHJva2Utd2lkdGg9IjAiCiAgIHN0eWxlPSJzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC4zOTY3ODc7c3Ryb2tlLWRhc2hhcnJheTpub25lIj48dHNwYW4KICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LWZhbWlseTpzYW5zLXNlcmlmOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246c2Fucy1zZXJpZiIKICAgICBpZD0idHNwYW4xOTg3Ij5FPC90c3Bhbj48L3RleHQ+CjxwYXRoCiAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC45OTk5Mjc7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6bWFya2VycyBmaWxsIHN0cm9rZTtzdG9wLWNvbG9yOiMwMDAwMDAiCiAgIGQ9Ik0gMTIuMzIxOTM5LDczLjQyNTI1NCBIIDExNS4yODYwOSIKICAgaWQ9InBhdGg5NTMiIC8+PGcKICAgaWQ9ImcxODgzIgogICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDo2Ljk0NTMxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSI+PHBhdGgKICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlLXdpZHRoOjYuOTQ1MzE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOm1hcmtlcnMgZmlsbCBzdHJva2U7c3RvcC1jb2xvcjojMDAwMDAwIgogICAgIGQ9Ik0gMTMuMjc2NTE5LDcyLjI1MzE2NCAxMTMuNTI3NzksNzIuMTYyODQ4IgogICAgIGlkPSJwYXRoMTAwOSIgLz48cGF0aAogICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjAuNTtzdHJva2Utd2lkdGg6Ni45NDUzMTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6bWFya2VycyBmaWxsIHN0cm9rZTtzdG9wLWNvbG9yOiMwMDAwMDAiCiAgICAgZD0iTSAzOC44MzYwNzYsNzIuNzgwODI1IDM4LjY5NTMxMiw5MS4yNjcwMTIgSCA1MS41OTM3NSBWIDExMC4xMTg1NyBIIDI1Ljc5Njg3NSBWIDkxLjI2NzAxMiBoIDIyLjA3MDg0NCIKICAgICBpZD0icGF0aDExMDciIC8+PHBhdGgKICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlLXdpZHRoOjYuOTQ1MzE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOm1hcmtlcnMgZmlsbCBzdHJva2U7c3RvcC1jb2xvcjojMDAwMDAwIgogICAgIGQ9Ik0gODguNjY1MzgsNzIuNzgwODI1IDg4LjUyNDYxNiw5MS4yNjcwMTIgSCAxMDEuNDIzMDUgViAxMTAuMTE4NTcgSCA3NS42MjYxNzkgViA5MS4yNjcwMTIgaCAyMi4wNzA4NDQiCiAgICAgaWQ9InBhdGgxMTA3LTMiIC8+PHBhdGgKICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eTowLjU7c3Ryb2tlLXdpZHRoOjYuOTQ1MzE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOm1hcmtlcnMgZmlsbCBzdHJva2U7c3RvcC1jb2xvcjojMDAwMDAwIgogICAgIGQ9Ik0gNjMuNTI1MTQ2LDcxLjgzODg4NSA2My42NjU5MSw1My4zNTI2OTUgSCA1MC43Njc0NzUgViAzNC41MDExMzYgaCAyNS43OTY4NyBWIDUzLjM1MjY5NSBIIDU0LjQ5MzUwMyIKICAgICBpZD0icGF0aDExMDctNyIgLz48L2c+PC9zdmc+Cg==",jm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20style='fill-opacity:1;stroke:none;stroke-width:0.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:markers%20stroke%20fill'%20d='m%2084.412499,15.013194%20c%202.357023,0%205,2.069281%205,5%20v%2086.973616%20c%200,2.97159%20-2.642977,5%20-5,5%20-2.357023,0%20-5,-2.11731%20-5,-5%20V%2020.013194%20c%200,-2.92906%202.642977,-5%205,-5%20z'%20id='path1301'%20/%3e%3cpath%20style='fill-opacity:1;stroke:none;stroke-width:0.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:markers%20stroke%20fill'%20d='m%2042.587501,15.013196%20c%202.357023,0%205,2.069281%205,5%20V%20106.9868%20c%200,2.97159%20-2.642977,5%20-5,5%20-2.357023,0%20-5,-2.11731%20-5,-5%20V%2020.013196%20c%200,-2.92906%202.642977,-5%205,-5%20z'%20id='path1301-6'%20/%3e%3c/g%3e%3c/svg%3e",zm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSIxOTgiCiAgICAgICB5PSI0Mi42NjY2NjgiCiAgICAgICB3aWR0aD0iMTAyLjY2NjY3IgogICAgICAgaGVpZ2h0PSIxMDAuNjY2NjciCiAgICAgICBpZD0icmVjdDEzODAiIC8+PC9kZWZzPjxnCiAgICAgaWQ9ImxheWVyMSI+PHBhdGgKICAgICAgIHN0eWxlPSJmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC40Mzk3MTY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6bWFya2VycyBzdHJva2UgZmlsbCIKICAgICAgIGQ9Im0gODMuMzU0MTY1LDQ4IGMgMi4zNTcwMjMsMCA1LDEuNjAwMzk0IDUsMy44NjcwMyB2IDY3LjI2NTkzIGMgMCwyLjI5ODI1IC0yLjY0Mjk3NywzLjg2NzA0IC01LDMuODY3MDQgLTIuMzU3MDIzLDAgLTUsLTEuNjM3NTQgLTUsLTMuODY3MDQgViA1MS44NjcwMyBjIDAsLTIuMjY1MzUzIDIuNjQyOTc3LC0zLjg2NzAzIDUsLTMuODY3MDMgeiIKICAgICAgIGlkPSJwYXRoMTMwMSIgLz48cGF0aAogICAgICAgc3R5bGU9ImZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjQzOTcxNjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIgogICAgICAgZD0ibSA0My42NDU4MzUsNDggYyAyLjM1NzAyMywwIDUsMS42IDUsMy44NjcgdiA2Ny4yNjYgYyAwLDIuMjk4IC0yLjY0Mjk3NywzLjg2NyAtNSwzLjg2NyAtMi4zNTcwMjMsMCAtNSwtMS42MzggLTUsLTMuODY3IFYgNTEuODY3IGMgMCwtMi4yNjUgMi42NDI5NzcsLTMuODY3IDUsLTMuODY3IHoiCiAgICAgICBpZD0icGF0aDEzMDEtNiIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjc3MjM0NjUsMCwwLDAuNjc3MjM0NjUsLTkxLjkwMDY3MSwtMzUuMTg5MDc4KSIKICAgICAgIGlkPSJ0ZXh0MTM3OCIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMzgwKTtkaXNwbGF5OmlubGluZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iMTk4IgogICAgICAgICB5PSIxMTAuNzg2NzEiCiAgICAgICAgIGlkPSJ0c3BhbjMzNyI+TTwvdHNwYW4+PC90ZXh0PjwvZz48L3N2Zz4K",Fm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSIxNTQiCiAgICAgICB5PSIxNDQuNSIKICAgICAgIHdpZHRoPSIyMDMiCiAgICAgICBoZWlnaHQ9IjE0NS41IgogICAgICAgaWQ9InJlY3QxMTcyIiAvPjwvZGVmcz48ZwogICAgIGlkPSJsYXllcjEiPjxwYXRoCiAgICAgICBkPSJtIDExMy41MjIxMiw4MC40MzYxMzcgYyAxLjc1NzY0LC0xLjc1NzYyOSAxLjc1NzY0LC00LjYxMjAyMiAwLC02LjM2OTY1MiBMIDk1LjUyMzk4NSw1Ni4wNjgzNDkgYyAtMS43NTc2MzIsLTEuNzU3NjI5IC00LjYxMjAyMywtMS43NTc2MjkgLTYuMzY5NjU0LDAgLTEuNzU3NjMsMS43NTc2MzEgLTEuNzU3NjMsNC42MTIwMjMgMCw2LjM2OTY1MiBMIDk5LjQ3NTEzOSw3Mi43NTg4MDggSCAxNi42NTkxODMgYyAtMi40ODg4MDQsMCAtNC40OTk1MzMsMi4wMTA3MjkgLTQuNDk5NTMzLDQuNDk5NTM0IDAsMi40ODg4MDQgMi4wMTA3MjksNC40OTk1MzQgNC40OTk1MzMsNC40OTk1MzQgSCA5OS40NzUxMzkgTCA4OS4xNTQzMzEsOTIuMDc4NjgxIGMgLTEuNzU3NjMsMS43NTc2MyAtMS43NTc2Myw0LjYxMjAyMiAwLDYuMzY5NjUyIDEuNzU3NjMxLDEuNzU3NjI3IDQuNjEyMDIyLDEuNzU3NjI3IDYuMzY5NjU0LDAgTCAxMTMuNTIyMTIsODAuNDUwMTk4IFoiCiAgICAgICBpZD0icGF0aDExMDQiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMzI0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNzU0ODg3MDksMCwwLDAuNzU0ODg3MDksLTgxLjc5NTcxNSwtMTAzLjUwODAyKSIKICAgICAgIGlkPSJ0ZXh0MTE3MCIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMTcyKTtkaXNwbGF5OmlubGluZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iMTU0IgogICAgICAgICB5PSIyMTIuNjIwNyIKICAgICAgICAgaWQ9InRzcGFuODgxIj48dHNwYW4KICAgICAgICAgICBzdHlsZT0ic3Ryb2tlOm5vbmUiCiAgICAgICAgICAgaWQ9InRzcGFuODc5Ij5NPC90c3Bhbj48L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+Cg==",Um="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20d='m%20113.52212,90.244608%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2095.523985,65.87682%20c%20-1.757632,-1.757629%20-4.612023,-1.757629%20-6.369654,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20L%2099.475139,82.567279%20H%2016.659183%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20H%2099.475139%20L%2089.154331,101.88716%20c%20-1.75763,1.75763%20-1.75763,4.61202%200,6.36965%201.757631,1.75763%204.612022,1.75763%206.369654,0%20L%20113.52212,90.258669%20Z'%20id='path1104'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3cpath%20d='m%20113.52212,43.110984%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2095.523981,18.743196%20c%20-1.75763,-1.757629%20-4.61202,-1.757629%20-6.36965,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20l%2010.32081,10.320807%20H%2016.659182%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20h%2082.815959%20l%20-10.32081,10.320805%20c%20-1.75763,1.75763%20-1.75763,4.612022%200,6.369652%201.757632,1.757628%204.61202,1.757628%206.369652,0%20L%20113.52212,43.125045%20Z'%20id='path1104-6'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3c/g%3e%3c/svg%3e",Wm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSI3OC41IgogICAgICAgeT0iMTkwIgogICAgICAgd2lkdGg9IjIwMyIKICAgICAgIGhlaWdodD0iMTA1LjUiCiAgICAgICBpZD0icmVjdDEyNjkiIC8+PC9kZWZzPjxnCiAgICAgaWQ9ImxheWVyMSI+PHBhdGgKICAgICAgIGQ9Im0gMTEzLjUyMjEyLDEwNC4wMDI5NyBjIDEuNzU3NjQsLTEuNzU3NjQgMS43NTc2NCwtNC42MTIwNDIgMCwtNi4zNjk2NzIgTCA5NS41MjM5ODUsNzkuNjM1MTYyIGMgLTEuNzU3NjMyLC0xLjc1NzYyOSAtNC42MTIwMjMsLTEuNzU3NjI5IC02LjM2OTY1NCwwIC0xLjc1NzYzLDEuNzU3NjMxIC0xLjc1NzYzLDQuNjEyMDIzIDAsNi4zNjk2NTIgTCA5OS40NzUxMzksOTYuMzI1NjIxIEggMTYuNjU5MTgzIGMgLTIuNDg4ODA0LDAgLTQuNDk5NTMzLDIuMDEwNzI5IC00LjQ5OTUzMyw0LjQ5OTUzOSAwLDIuNDg4ODIgMi4wMTA3MjksNC40OTk1NiA0LjQ5OTUzMyw0LjQ5OTU2IGggODIuODE1OTU2IGwgLTEwLjMyMDgwOCwxMC4zMjA4NiBjIC0xLjc1NzYzLDEuNzU3NjMgLTEuNzU3NjMsNC42MTIwMiAwLDYuMzY5NjUgMS43NTc2MzEsMS43NTc2MyA0LjYxMjAyMiwxLjc1NzYzIDYuMzY5NjU0LDAgbCAxNy45OTgxMzUsLTE3Ljk5ODIgeiIKICAgICAgIGlkPSJwYXRoMTEwNCIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4zMjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIiAvPjxwYXRoCiAgICAgICBkPSJtIDExMy41MjIxMiw1OC40NTY4MjcgYyAxLjc1NzY0LC0xLjc1NzYyOSAxLjc1NzY0LC00LjYxMjAyMiAwLC02LjM2OTY1MiBMIDk1LjUyMzk4MSwzNC4wODkwMzkgYyAtMS43NTc2MywtMS43NTc2MjkgLTQuNjEyMDIsLTEuNzU3NjI5IC02LjM2OTY1LDAgLTEuNzU3NjMsMS43NTc2MzEgLTEuNzU3NjMsNC42MTIwMjMgMCw2LjM2OTY1MiBsIDEwLjMyMDgxLDEwLjMyMDgwNyBIIDE2LjY1OTE4MiBjIC0yLjQ4ODgwNCwwIC00LjQ5OTUzMywyLjAxMDcyOSAtNC40OTk1MzMsNC40OTk1MzQgMCwyLjQ4ODgwNCAyLjAxMDcyOSw0LjQ5OTUzNCA0LjQ5OTUzMyw0LjQ5OTUzNCBoIDgyLjgxNTk1OSBsIC0xMC4zMjA4MSwxMC4zMjA4MDUgYyAtMS43NTc2MywxLjc1NzYzIC0xLjc1NzYzLDQuNjEyMDIyIDAsNi4zNjk2NTIgMS43NTc2MzIsMS43NTc2MjggNC42MTIwMiwxLjc1NzYyOCA2LjM2OTY1MiwwIEwgMTEzLjUyMjEyLDU4LjQ3MDg4OCBaIgogICAgICAgaWQ9InBhdGgxMTA0LTYiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMzI0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjI5NjU4MDIsMCwwLDAuNjI5NjU4MDIsLTIzLjQ2MTQ2MiwtMTIyLjE0OTM3KSIKICAgICAgIGlkPSJ0ZXh0MTI2NyIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMjY5KTtkaXNwbGF5OmlubGluZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iNzguNSIKICAgICAgICAgeT0iMjU4LjEyMDciCiAgICAgICAgIGlkPSJ0c3Bhbjg4MiI+RlQ8L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+Cg==",Hm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20d='m%20111.67004,66.677796%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2093.671906,42.310008%20c%20-1.757632,-1.757629%20-4.612023,-1.757629%20-6.369654,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20L%2097.62306,59.000467%20H%2014.807104%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20H%2097.62306%20L%2087.302252,78.32034%20c%20-1.75763,1.75763%20-1.75763,4.612022%200,6.369652%201.757631,1.757628%204.612022,1.757628%206.369654,0%20L%20111.67004,66.691857%20Z'%20id='path1104'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3c/g%3e%3c/svg%3e",Bm={class:"border rounded mb-2"},Ym={key:0,class:"d-flex flex-wrap justify-content-center m-1"},Vm=["onClick","onMousedown","onKeydown"],Br="grab",Gm="border-primary",Km=se({__name:"NodeQuickSelect",setup(s){const e=gs(),t=_e(),n=Ne(),o=B(()=>e.nodes.filter(l=>l.max_children===-1)),r=N(!1);function i(l){return t.dragging_new_node&&t.dragging_new_node.node_class===l.node_class&&t.dragging_new_node.module===l.module?Gm:Br}function a(l){switch(l){case"EnumSwitch":return Pm;case"Fallback":return jm;case"MemoryFallback":return zm;case"MemorySequence":return Fm;case"Parallel":return Um;case"ParallelFailureTolerance":return Wm;case"Sequence":return Hm;default:return""}}return(l,u)=>{const c=ye("FontAwesomeIcon");return v(),I("div",Bm,[d("div",{class:"w-100 text-center cursor-pointer m-2",onClick:u[0]||(u[0]=_=>r.value=!r.value)},[u[1]||(u[1]=ve(" Flow Control Nodes ")),F(c,{icon:"fa-solid "+(r.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),r.value?ge("",!0):(v(),I("div",Ym,[(v(!0),I(ie,null,me(o.value,_=>(v(),I("div",{key:_.node_class+_.module,class:he(["border rounded m-1 image-container",i(_)]),tabindex:"0",onClick:p=>b(n).nodeListSelectionChange(_),onMousedown:Kn(()=>b(t).startDraggingNewNode(_),["stop","prevent"]),onKeydown:He(p=>b(n).nodeListSelectionChange(_),["enter"])},[_.node_class==="NameSwitch"?(v(),K(c,{key:0,title:_.node_class,class:"icon",icon:"fa-solid fa-network-wired"},null,8,["title"])):(v(),K(b(Si),{key:1,title:_.node_class,class:"image",src:a(_.node_class)},null,8,["title","src"]))],42,Vm))),128))]))])}}}),Zm=Ft(Km,[["__scopeId","data-v-565f74a2"]]),Jm={class:"input-group mb-3"},Qm=["value","selected"],Xm={class:"form-check form-switch mb-3 fs-5"},qm=["checked"],ey=se({__name:"SettingsPanel",setup(s){const e=_e(),t=Lo(),n=be();function o(i){const a=i.target;n.set_publish_data_service.callService({data:a.checked},l=>{l.success?(O({title:(a.checked?"Enable":"Disable")+" data publishing",type:"success"}),e.publish_data=a.checked):O({title:"Failed to toggle data publishing",text:l.message,type:"warn"})},l=>{O({title:"Failed to call setPublishData service",text:l,type:"error"})})}function r(i){const a=i.target.value;t.setMinLogLevel(parseInt(a))}return(i,a)=>(v(),I(ie,null,[a[2]||(a[2]=d("div",{class:"h4 mb-3"},"General Settings",-1)),d("div",Jm,[a[0]||(a[0]=d("label",{class:"input-group-text"}," Min Log Level ",-1)),d("select",{class:"form-select",onChange:r},[(v(!0),I(ie,null,me(Object.values(b(Ee)),l=>(v(),I(ie,{key:l},[typeof l=="number"?(v(),I("option",{key:0,value:l,selected:b(t).min_log_level===l},U(b(t).getLogLevelString(l)),9,Qm)):ge("",!0)],64))),128))],32)]),d("div",Xm,[d("input",{type:"checkbox",class:"form-check-input",checked:b(e).publish_data,onClick:o},null,8,qm),a[1]||(a[1]=d("label",{class:"form-check-label ms-2"}," Transmit data flow information ",-1))])],64))}}),ty=se({__name:"ConnectionStatus",setup(s){const e=be(),t=hs(),n=bn(),o=B(()=>e.connected?t.messages_available?n.packages_available?{class:"connected",title:"Connected"}:{class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."}:{class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."}:{class:"disconnected",title:"Disconnected"});return(r,i)=>{const a=ye("FontAwesomeIcon");return v(),K(a,Kr({icon:"fa-solid fa-wifi","aria-hidden":"true",class:"mx-2 fs-4"},o.value),null,16)}}}),sy=Ft(ty,[["__scopeId","data-v-8d3c8236"]]),ny={id:"settings",class:"offcanvas offcanvas-start",tabindex:"-1"},oy={class:"offcanvas-body"},ry={id:"logging",class:"offcanvas offcanvas-start",tabindex:"-1"},ay={class:"offcanvas-body"},iy={class:"form-check form-switch mb-3"},ly={key:0,class:"d-flex justify-content-between align-items-center w-100 p-2 top-bar"},cy={class:"d-flex align-items-center"},uy={class:"btn-group",role:"group"},dy={class:"btn btn-outline-contrast",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#settings"},_y={class:"btn btn-outline-contrast",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#logging"},fy={class:"btn-group"},py={key:0,id:"nodelist_container",class:"col-3 d-flex flex-column h-100"},vy={class:"d-flex justify-content-between m-1 mt-2"},hy={class:"m-1"},gy={class:"border rounded"},my={class:"input-group p-2"},yy=["value"],by={class:"row justify-content-between bg-secondary"},wy={class:"col col-xxl-auto order-xxl-1"},Ey={class:"col-auto order-xxl-3"},Ty={class:"col-12 col-xxl order-xxl-2"},Ny={class:"row edit_canvas flex-grow-1 pb-2"},Ay={class:"row"},Cy={class:"col-6"},Iy={key:3,class:"d-flex flex-column"},ky={class:"col-6"},Sy={key:1,class:"d-flex flex-column"},xy=se({__name:"App",setup(s){const e=be(),t=hs(),n=bn(),o=Lo(),r=gs(),i=_e(),a=Ne(),l=N(!1);dt(l,M=>{M?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function u(M){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(M.packages)}function c(){e.packages_sub.subscribe(u)}function _(M){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(M)}function p(){e.messages_sub.subscribe(_)}function f(M){i.tree_structure_list=M.tree_structures}function w(M){i.tree_state_list=M.tree_states}function E(M){i.tree_data_list=M.tree_data}function g(){e.tree_structure_sub.subscribe(f),e.tree_state_sub.subscribe(w),e.tree_data_sub.subscribe(E)}function m(){e.channels_sub.subscribe(t.updateMessageChannels)}function C(){e.log_msgs_sub.subscribe(o.storeLogMessage)}function T(M){const z=M.target;L.value=z.value,r.filterNodes(z.value)}function S(M){M.key=="Escape"&&(L.value="",r.clearFilteredNodes())}function j(){return i.current_tree.structure?i.current_tree.structure.nodes.filter(M=>M.max_children<0||M.child_ids.length<M.max_children).sort(function(M,z){return M.name<z.name?-1:M.name>z.name?1:0}):[]}const W=N(!0),L=N(""),$=N(!0),R=N(!1);return dt(()=>e.connected,M=>{M&&(console.log("Update subscriptions"),g(),p(),m(),c(),C())}),us(()=>{e.connect()}),(M,z)=>{var V;const oe=ye("FontAwesomeIcon"),le=ye("notifications");return v(),I(ie,null,[d("div",ny,[z[9]||(z[9]=d("div",{class:"offcanvas-header"},[d("h5",{class:"offcanvas-title"},"Settings"),d("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas"})],-1)),d("div",oy,[F(ey),z[8]||(z[8]=d("br",null,null,-1)),F(Lm)])]),d("div",ry,[z[11]||(z[11]=d("div",{class:"offcanvas-header"},[d("h5",{class:"offcanvas-title"},"Logging"),d("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas"})],-1)),d("div",ay,[d("div",iy,[Be(d("input",{"onUpdate:modelValue":z[0]||(z[0]=H=>R.value=H),type:"checkbox",class:"form-check-input"},null,512),[[xi,R.value]]),z[10]||(z[10]=d("label",{class:"form-check-label ms-2"}," Filter for Current Tree ",-1))]),F(hi,{tree_id:R.value?(V=b(i).current_tree.structure)==null?void 0:V.tree_id:void 0,style:{"max-height":"80vh"}},null,8,["tree_id"])])]),$.value?(v(),I("header",ly,[d("div",cy,[F(sy),d("div",uy,[d("button",dy,[F(oe,{icon:"fa-solid fa-cog"})]),d("button",_y,[F(oe,{icon:"fa-solid fa-align-justify"})])])]),F(Rm),d("div",fy,[F(Cm),F(cm)])])):ge("",!0),d("main",null,[d("div",{class:he([b(i).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:z[6]||(z[6]=()=>b(i).stopDragging()),onMouseleave:z[7]||(z[7]=()=>b(i).stopDragging())},[d("div",{class:he(["row",$.value?"row-height":"vh-100"])},[W.value?(v(),I("div",py,[d("div",vy,[d("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:z[1]||(z[1]=()=>{W.value=!W.value})},[F(oe,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),d("button",{class:"btn btn-outline-primary",title:"Change window appearance",onClick:z[2]||(z[2]=H=>l.value=!l.value)},[F(oe,{class:he(l.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),F(oe,{class:he(l.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),d("div",hy,[F(hp),F(Zm),d("div",gy,[d("div",my,[z[12]||(z[12]=d("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),d("input",{id:"nodelist_search",ref:"nodelist_input_ref",type:"text",class:"form-control",value:L.value,placeholder:"Node Name",onInput:T,onKeydown:S},null,40,yy)])])]),F(Rp,{style:{"min-height":"0"}})])):ge("",!0),d("div",{id:"main_pane",class:he(["d-flex flex-column",W.value?"col-9":"col-12"])},[d("div",by,[W.value?ge("",!0):(v(),I("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:z[3]||(z[3]=()=>{W.value=!W.value})},[F(oe,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),d("div",wy,[F(Vp)]),d("div",Ey,[F(rm,{"exec-bar-visible":$.value,onShow:z[4]||(z[4]=()=>{$.value=!0,W.value=!0}),onHide:z[5]||(z[5]=()=>{$.value=!1,W.value=!1})},null,8,["exec-bar-visible"])]),d("div",Ty,[F(sm)])]),d("div",Ny,[F(av)]),d("div",Ay,[d("div",Cy,[b(a).last_seletion_source==="multiple"?(v(),K(Gv,{key:0})):b(a).last_seletion_source==="nodelist"?(v(),K(bg,{key:b(e).namespace+(b(a).selected_node?b(a).selected_node.module+b(a).selected_node.node_class:""),parents:j()},null,8,["parents"])):b(a).last_seletion_source==="editor"?(v(),K(Gg,{key:b(e).namespace+(b(a).selected_node?b(a).selected_node.name:"")})):(v(),I("div",Iy,"No Node Selected"))]),d("div",ky,[b(i).selected_edge!==void 0?(v(),K(gv,{key:0})):(v(),I("div",Sy,"No Edge Selected"))])])],2)],2)],34),F(le,{position:"bottom right","pause-on-hover":!0}),F(b(Oi))])],64)}}});Gi.add(Ki,Zi,Ji,Xr,Qi,Xi,qi,Zr,el,tl,sl,nl,ol,rl,al,il,ll,cl,ul,dl,_l,fl,pl,vl,hl,gl,ml,yl,bl,Qr,wl,El,Tl,Nl,ea,Jr,Al,Cl,qr,Il,kl,Sl,xl,Ol,Ml,Dl,Ll);const $s=Mi(xy),Oy=Di(),gi=jf();gi.use(qf);$s.use(gi);$s.component("FontAwesomeIcon",$l);$s.use(Li,{velocity:$i});$s.use(Oy);$s.mount("#root");
