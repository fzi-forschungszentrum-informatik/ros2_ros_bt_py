import{e as Oa,r as v,m as $a,i as Gr,a as Yr,w as us,b as qr,f as Fs,g as Da,t as Xr,j as Qr,k as Jr,o as Zr,n as ei,l as ti,c as X,E as L,d as te,p as h,q as C,s as c,u as re,v as q,x as g,y as de,z as Ee,A as U,B as H,F as ae,C as _e,D as Ln,G as be,H as Ie,I as as,J as ps,K as Re,L as Kt,M as si,N as ct,O as yt,R as Gs,P as ni,Q as Ia,S as oi,T as cn,W as ai,U as ri,V as ii,X as li,Y as ci}from"./vue-extras-1cf19582.js";import{R as j}from"./roslib-ce1bf65b.js";import{F as Ae}from"./fusejs-a1032ea1.js";import{s as se,z as ui,e as qe,m as Es,t as di,q as _i,a as fi,b as pi,f as vi,l as hi,c as mi,d as gi,h as yi}from"./d3-9cd3fbd4.js";import{f as La,a as Ra,b as Pa,c as Ma,d as Fa,l as bi,e as Ei,g as wi,h as Ti,i as ki,j as Si,k as Ai,m as Ci,n as Ni,o as xi,p as Oi,q as $i,r as Di,s as Ii,t as Li,u as Ri,v as Pi,w as Mi,x as Fi,y as Vi,z as Ui,A as ji,B as Hi,C as Wi,D as Bi,E as Ki,F as zi,G as Gi,H as Yi,I as qi,J as Xi,K as Qi,L as Ji,M as Zi,N as el,O as tl,P as sl,Q as nl,R as ol}from"./fontawesome-f5fb8f95.js";import{J as al}from"./jsoneditor-dcd821d1.js";import{j as un}from"./jsyaml-38530ef5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Ce="top",Pe="bottom",Me="right",Ne="left",Ys="auto",zt=[Ce,Pe,Me,Ne],bt="start",Ft="end",Va="clippingParents",Jn="viewport",Lt="popper",Ua="reference",Rn=zt.reduce(function(s,e){return s.concat([e+"-"+bt,e+"-"+Ft])},[]),Zn=[].concat(zt,[Ys]).reduce(function(s,e){return s.concat([e,e+"-"+bt,e+"-"+Ft])},[]),ja="beforeRead",Ha="read",Wa="afterRead",Ba="beforeMain",Ka="main",za="afterMain",Ga="beforeWrite",Ya="write",qa="afterWrite",Xa=[ja,Ha,Wa,Ba,Ka,za,Ga,Ya,qa];function Je(s){return s?(s.nodeName||"").toLowerCase():null}function Fe(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function Et(s){var e=Fe(s).Element;return s instanceof e||s instanceof Element}function We(s){var e=Fe(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function eo(s){if(typeof ShadowRoot>"u")return!1;var e=Fe(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function rl(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];!We(a)||!Je(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(r){var i=o[r];i===!1?a.removeAttribute(r):a.setAttribute(r,i===!0?"":i)}))})}function il(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],a=e.attributes[n]||{},r=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),i=r.reduce(function(l,d){return l[d]="",l},{});!We(o)||!Je(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(l){o.removeAttribute(l)}))})}}const to={name:"applyStyles",enabled:!0,phase:"write",fn:rl,effect:il,requires:["computeStyles"]};function Xe(s){return s.split("-")[0]}var gt=Math.max,Vs=Math.min,Vt=Math.round;function Pn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qa(){return!/^((?!chrome|android).)*safari/i.test(Pn())}function Ut(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,a=1;e&&We(s)&&(o=s.offsetWidth>0&&Vt(n.width)/s.offsetWidth||1,a=s.offsetHeight>0&&Vt(n.height)/s.offsetHeight||1);var r=Et(s)?Fe(s):window,i=r.visualViewport,l=!Qa()&&t,d=(n.left+(l&&i?i.offsetLeft:0))/o,u=(n.top+(l&&i?i.offsetTop:0))/a,f=n.width/o,m=n.height/a;return{width:f,height:m,top:u,right:d+f,bottom:u+m,left:d,x:d,y:u}}function so(s){var e=Ut(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function Ja(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&eo(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function nt(s){return Fe(s).getComputedStyle(s)}function ll(s){return["table","td","th"].indexOf(Je(s))>=0}function ft(s){return((Et(s)?s.ownerDocument:s.document)||window.document).documentElement}function qs(s){return Je(s)==="html"?s:s.assignedSlot||s.parentNode||(eo(s)?s.host:null)||ft(s)}function wo(s){return!We(s)||nt(s).position==="fixed"?null:s.offsetParent}function cl(s){var e=/firefox/i.test(Pn()),t=/Trident/i.test(Pn());if(t&&We(s)){var n=nt(s);if(n.position==="fixed")return null}var o=qs(s);for(eo(o)&&(o=o.host);We(o)&&["html","body"].indexOf(Je(o))<0;){var a=nt(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function vs(s){for(var e=Fe(s),t=wo(s);t&&ll(t)&&nt(t).position==="static";)t=wo(t);return t&&(Je(t)==="html"||Je(t)==="body"&&nt(t).position==="static")?e:t||cl(s)||e}function no(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function is(s,e,t){return gt(s,Vs(e,t))}function ul(s,e,t){var n=is(s,e,t);return n>t?t:n}function Za(){return{top:0,right:0,bottom:0,left:0}}function er(s){return Object.assign({},Za(),s)}function tr(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var dl=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,er(typeof e!="number"?e:tr(e,zt))};function _l(s){var e,t=s.state,n=s.name,o=s.options,a=t.elements.arrow,r=t.modifiersData.popperOffsets,i=Xe(t.placement),l=no(i),d=[Ne,Me].indexOf(i)>=0,u=d?"height":"width";if(!(!a||!r)){var f=dl(o.padding,t),m=so(a),_=l==="y"?Ce:Ne,y=l==="y"?Pe:Me,b=t.rects.reference[u]+t.rects.reference[l]-r[l]-t.rects.popper[u],E=r[l]-t.rects.reference[l],x=vs(a),k=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,p=b/2-E/2,T=f[_],P=k-m[u]-f[y],F=k/2-m[u]/2+p,R=is(T,F,P),N=l;t.modifiersData[n]=(e={},e[N]=R,e.centerOffset=R-F,e)}}function fl(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Ja(e.elements.popper,o)&&(e.elements.arrow=o))}const sr={name:"arrow",enabled:!0,phase:"main",fn:_l,effect:fl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jt(s){return s.split("-")[1]}var pl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vl(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:Vt(t*o)/o||0,y:Vt(n*o)/o||0}}function To(s){var e,t=s.popper,n=s.popperRect,o=s.placement,a=s.variation,r=s.offsets,i=s.position,l=s.gpuAcceleration,d=s.adaptive,u=s.roundOffsets,f=s.isFixed,m=r.x,_=m===void 0?0:m,y=r.y,b=y===void 0?0:y,E=typeof u=="function"?u({x:_,y:b}):{x:_,y:b};_=E.x,b=E.y;var x=r.hasOwnProperty("x"),k=r.hasOwnProperty("y"),p=Ne,T=Ce,P=window;if(d){var F=vs(t),R="clientHeight",N="clientWidth";if(F===Fe(t)&&(F=ft(t),nt(F).position!=="static"&&i==="absolute"&&(R="scrollHeight",N="scrollWidth")),F=F,o===Ce||(o===Ne||o===Me)&&a===Ft){T=Pe;var $=f&&F===P&&P.visualViewport?P.visualViewport.height:F[R];b-=$-n.height,b*=l?1:-1}if(o===Ne||(o===Ce||o===Pe)&&a===Ft){p=Me;var M=f&&F===P&&P.visualViewport?P.visualViewport.width:F[N];_-=M-n.width,_*=l?1:-1}}var J=Object.assign({position:i},d&&pl),oe=u===!0?vl({x:_,y:b},Fe(t)):{x:_,y:b};if(_=oe.x,b=oe.y,l){var ne;return Object.assign({},J,(ne={},ne[T]=k?"0":"",ne[p]=x?"0":"",ne.transform=(P.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",ne))}return Object.assign({},J,(e={},e[T]=k?b+"px":"",e[p]=x?_+"px":"",e.transform="",e))}function hl(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,a=t.adaptive,r=a===void 0?!0:a,i=t.roundOffsets,l=i===void 0?!0:i,d={placement:Xe(e.placement),variation:jt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,To(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,To(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const oo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hl,data:{}};var ws={passive:!0};function ml(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,a=o===void 0?!0:o,r=n.resize,i=r===void 0?!0:r,l=Fe(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(u){u.addEventListener("scroll",t.update,ws)}),i&&l.addEventListener("resize",t.update,ws),function(){a&&d.forEach(function(u){u.removeEventListener("scroll",t.update,ws)}),i&&l.removeEventListener("resize",t.update,ws)}}const ao={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ml,data:{}};var gl={left:"right",right:"left",bottom:"top",top:"bottom"};function Ls(s){return s.replace(/left|right|bottom|top/g,function(e){return gl[e]})}var yl={start:"end",end:"start"};function ko(s){return s.replace(/start|end/g,function(e){return yl[e]})}function ro(s){var e=Fe(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function io(s){return Ut(ft(s)).left+ro(s).scrollLeft}function bl(s,e){var t=Fe(s),n=ft(s),o=t.visualViewport,a=n.clientWidth,r=n.clientHeight,i=0,l=0;if(o){a=o.width,r=o.height;var d=Qa();(d||!d&&e==="fixed")&&(i=o.offsetLeft,l=o.offsetTop)}return{width:a,height:r,x:i+io(s),y:l}}function El(s){var e,t=ft(s),n=ro(s),o=(e=s.ownerDocument)==null?void 0:e.body,a=gt(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=gt(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-n.scrollLeft+io(s),l=-n.scrollTop;return nt(o||t).direction==="rtl"&&(i+=gt(t.clientWidth,o?o.clientWidth:0)-a),{width:a,height:r,x:i,y:l}}function lo(s){var e=nt(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function nr(s){return["html","body","#document"].indexOf(Je(s))>=0?s.ownerDocument.body:We(s)&&lo(s)?s:nr(qs(s))}function ls(s,e){var t;e===void 0&&(e=[]);var n=nr(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),a=Fe(n),r=o?[a].concat(a.visualViewport||[],lo(n)?n:[]):n,i=e.concat(r);return o?i:i.concat(ls(qs(r)))}function Mn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function wl(s,e){var t=Ut(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function So(s,e,t){return e===Jn?Mn(bl(s,t)):Et(e)?wl(e,t):Mn(El(ft(s)))}function Tl(s){var e=ls(qs(s)),t=["absolute","fixed"].indexOf(nt(s).position)>=0,n=t&&We(s)?vs(s):s;return Et(n)?e.filter(function(o){return Et(o)&&Ja(o,n)&&Je(o)!=="body"}):[]}function kl(s,e,t,n){var o=e==="clippingParents"?Tl(s):[].concat(e),a=[].concat(o,[t]),r=a[0],i=a.reduce(function(l,d){var u=So(s,d,n);return l.top=gt(u.top,l.top),l.right=Vs(u.right,l.right),l.bottom=Vs(u.bottom,l.bottom),l.left=gt(u.left,l.left),l},So(s,r,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function or(s){var e=s.reference,t=s.element,n=s.placement,o=n?Xe(n):null,a=n?jt(n):null,r=e.x+e.width/2-t.width/2,i=e.y+e.height/2-t.height/2,l;switch(o){case Ce:l={x:r,y:e.y-t.height};break;case Pe:l={x:r,y:e.y+e.height};break;case Me:l={x:e.x+e.width,y:i};break;case Ne:l={x:e.x-t.width,y:i};break;default:l={x:e.x,y:e.y}}var d=o?no(o):null;if(d!=null){var u=d==="y"?"height":"width";switch(a){case bt:l[d]=l[d]-(e[u]/2-t[u]/2);break;case Ft:l[d]=l[d]+(e[u]/2-t[u]/2);break}}return l}function Ht(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,a=t.strategy,r=a===void 0?s.strategy:a,i=t.boundary,l=i===void 0?Va:i,d=t.rootBoundary,u=d===void 0?Jn:d,f=t.elementContext,m=f===void 0?Lt:f,_=t.altBoundary,y=_===void 0?!1:_,b=t.padding,E=b===void 0?0:b,x=er(typeof E!="number"?E:tr(E,zt)),k=m===Lt?Ua:Lt,p=s.rects.popper,T=s.elements[y?k:m],P=kl(Et(T)?T:T.contextElement||ft(s.elements.popper),l,u,r),F=Ut(s.elements.reference),R=or({reference:F,element:p,strategy:"absolute",placement:o}),N=Mn(Object.assign({},p,R)),$=m===Lt?N:F,M={top:P.top-$.top+x.top,bottom:$.bottom-P.bottom+x.bottom,left:P.left-$.left+x.left,right:$.right-P.right+x.right},J=s.modifiersData.offset;if(m===Lt&&J){var oe=J[o];Object.keys(M).forEach(function(ne){var z=[Me,Pe].indexOf(ne)>=0?1:-1,K=[Ce,Pe].indexOf(ne)>=0?"y":"x";M[ne]+=oe[K]*z})}return M}function Sl(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,a=t.rootBoundary,r=t.padding,i=t.flipVariations,l=t.allowedAutoPlacements,d=l===void 0?Zn:l,u=jt(n),f=u?i?Rn:Rn.filter(function(y){return jt(y)===u}):zt,m=f.filter(function(y){return d.indexOf(y)>=0});m.length===0&&(m=f);var _=m.reduce(function(y,b){return y[b]=Ht(s,{placement:b,boundary:o,rootBoundary:a,padding:r})[Xe(b)],y},{});return Object.keys(_).sort(function(y,b){return _[y]-_[b]})}function Al(s){if(Xe(s)===Ys)return[];var e=Ls(s);return[ko(s),e,ko(e)]}function Cl(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,a=o===void 0?!0:o,r=t.altAxis,i=r===void 0?!0:r,l=t.fallbackPlacements,d=t.padding,u=t.boundary,f=t.rootBoundary,m=t.altBoundary,_=t.flipVariations,y=_===void 0?!0:_,b=t.allowedAutoPlacements,E=e.options.placement,x=Xe(E),k=x===E,p=l||(k||!y?[Ls(E)]:Al(E)),T=[E].concat(p).reduce(function(ie,Te){return ie.concat(Xe(Te)===Ys?Sl(e,{placement:Te,boundary:u,rootBoundary:f,padding:d,flipVariations:y,allowedAutoPlacements:b}):Te)},[]),P=e.rects.reference,F=e.rects.popper,R=new Map,N=!0,$=T[0],M=0;M<T.length;M++){var J=T[M],oe=Xe(J),ne=jt(J)===bt,z=[Ce,Pe].indexOf(oe)>=0,K=z?"width":"height",V=Ht(e,{placement:J,boundary:u,rootBoundary:f,altBoundary:m,padding:d}),Q=z?ne?Me:Ne:ne?Pe:Ce;P[K]>F[K]&&(Q=Ls(Q));var ee=Ls(Q),le=[];if(a&&le.push(V[oe]<=0),i&&le.push(V[Q]<=0,V[ee]<=0),le.every(function(ie){return ie})){$=J,N=!1;break}R.set(J,le)}if(N)for(var xe=y?3:1,Ye=function(Te){var Oe=T.find(function(ue){var Ze=R.get(ue);if(Ze)return Ze.slice(0,Te).every(function(St){return St})});if(Oe)return $=Oe,"break"},Ve=xe;Ve>0;Ve--){var pe=Ye(Ve);if(pe==="break")break}e.placement!==$&&(e.modifiersData[n]._skip=!0,e.placement=$,e.reset=!0)}}const ar={name:"flip",enabled:!0,phase:"main",fn:Cl,requiresIfExists:["offset"],data:{_skip:!1}};function Ao(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function Co(s){return[Ce,Me,Pe,Ne].some(function(e){return s[e]>=0})}function Nl(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,r=Ht(e,{elementContext:"reference"}),i=Ht(e,{altBoundary:!0}),l=Ao(r,n),d=Ao(i,o,a),u=Co(l),f=Co(d);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const rr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nl};function xl(s,e,t){var n=Xe(s),o=[Ne,Ce].indexOf(n)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,r=a[0],i=a[1];return r=r||0,i=(i||0)*o,[Ne,Me].indexOf(n)>=0?{x:i,y:r}:{x:r,y:i}}function Ol(s){var e=s.state,t=s.options,n=s.name,o=t.offset,a=o===void 0?[0,0]:o,r=Zn.reduce(function(u,f){return u[f]=xl(f,e.rects,a),u},{}),i=r[e.placement],l=i.x,d=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=r}const ir={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ol};function $l(s){var e=s.state,t=s.name;e.modifiersData[t]=or({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const co={name:"popperOffsets",enabled:!0,phase:"read",fn:$l,data:{}};function Dl(s){return s==="x"?"y":"x"}function Il(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,a=o===void 0?!0:o,r=t.altAxis,i=r===void 0?!1:r,l=t.boundary,d=t.rootBoundary,u=t.altBoundary,f=t.padding,m=t.tether,_=m===void 0?!0:m,y=t.tetherOffset,b=y===void 0?0:y,E=Ht(e,{boundary:l,rootBoundary:d,padding:f,altBoundary:u}),x=Xe(e.placement),k=jt(e.placement),p=!k,T=no(x),P=Dl(T),F=e.modifiersData.popperOffsets,R=e.rects.reference,N=e.rects.popper,$=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,M=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),J=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,oe={x:0,y:0};if(F){if(a){var ne,z=T==="y"?Ce:Ne,K=T==="y"?Pe:Me,V=T==="y"?"height":"width",Q=F[T],ee=Q+E[z],le=Q-E[K],xe=_?-N[V]/2:0,Ye=k===bt?R[V]:N[V],Ve=k===bt?-N[V]:-R[V],pe=e.elements.arrow,ie=_&&pe?so(pe):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Za(),Oe=Te[z],ue=Te[K],Ze=is(0,R[V],ie[V]),St=p?R[V]/2-xe-Ze-Oe-M.mainAxis:Ye-Ze-Oe-M.mainAxis,rn=p?-R[V]/2+xe+Ze+ue+M.mainAxis:Ve+Ze+ue+M.mainAxis,Zt=e.elements.arrow&&vs(e.elements.arrow),S=Zt?T==="y"?Zt.clientTop||0:Zt.clientLeft||0:0,A=(ne=J==null?void 0:J[T])!=null?ne:0,w=Q+St-A-S,D=Q+rn-A,I=is(_?Vs(ee,w):ee,Q,_?gt(le,D):le);F[T]=I,oe[T]=I-Q}if(i){var W,Z=T==="x"?Ce:Ne,ce=T==="x"?Pe:Me,G=F[P],he=P==="y"?"height":"width",ye=G+E[Z],At=G-E[ce],ln=[Ce,Ne].indexOf(x)!==-1,go=(W=J==null?void 0:J[P])!=null?W:0,yo=ln?ye:G-R[he]-N[he]-go+M.altAxis,bo=ln?G+R[he]+N[he]-go-M.altAxis:At,Eo=_&&ln?ul(yo,G,bo):is(_?yo:ye,G,_?bo:At);F[P]=Eo,oe[P]=Eo-G}e.modifiersData[n]=oe}}const lr={name:"preventOverflow",enabled:!0,phase:"main",fn:Il,requiresIfExists:["offset"]};function Ll(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Rl(s){return s===Fe(s)||!We(s)?ro(s):Ll(s)}function Pl(s){var e=s.getBoundingClientRect(),t=Vt(e.width)/s.offsetWidth||1,n=Vt(e.height)/s.offsetHeight||1;return t!==1||n!==1}function Ml(s,e,t){t===void 0&&(t=!1);var n=We(e),o=We(e)&&Pl(e),a=ft(e),r=Ut(s,o,t),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((Je(e)!=="body"||lo(a))&&(i=Rl(e)),We(e)?(l=Ut(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=io(a))),{x:r.left+i.scrollLeft-l.x,y:r.top+i.scrollTop-l.y,width:r.width,height:r.height}}function Fl(s){var e=new Map,t=new Set,n=[];s.forEach(function(a){e.set(a.name,a)});function o(a){t.add(a.name);var r=[].concat(a.requires||[],a.requiresIfExists||[]);r.forEach(function(i){if(!t.has(i)){var l=e.get(i);l&&o(l)}}),n.push(a)}return s.forEach(function(a){t.has(a.name)||o(a)}),n}function Vl(s){var e=Fl(s);return Xa.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function Ul(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function jl(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var No={placement:"bottom",modifiers:[],strategy:"absolute"};function xo(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Xs(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,a=o===void 0?No:o;return function(i,l,d){d===void 0&&(d=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},No,a),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:u,setOptions:function(x){var k=typeof x=="function"?x(u.options):x;b(),u.options=Object.assign({},a,u.options,k),u.scrollParents={reference:Et(i)?ls(i):i.contextElement?ls(i.contextElement):[],popper:ls(l)};var p=Vl(jl([].concat(n,u.options.modifiers)));return u.orderedModifiers=p.filter(function(T){return T.enabled}),y(),_.update()},forceUpdate:function(){if(!m){var x=u.elements,k=x.reference,p=x.popper;if(xo(k,p)){u.rects={reference:Ml(k,vs(p),u.options.strategy==="fixed"),popper:so(p)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(M){return u.modifiersData[M.name]=Object.assign({},M.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var P=u.orderedModifiers[T],F=P.fn,R=P.options,N=R===void 0?{}:R,$=P.name;typeof F=="function"&&(u=F({state:u,options:N,name:$,instance:_})||u)}}}},update:Ul(function(){return new Promise(function(E){_.forceUpdate(),E(u)})}),destroy:function(){b(),m=!0}};if(!xo(i,l))return _;_.setOptions(d).then(function(E){!m&&d.onFirstUpdate&&d.onFirstUpdate(E)});function y(){u.orderedModifiers.forEach(function(E){var x=E.name,k=E.options,p=k===void 0?{}:k,T=E.effect;if(typeof T=="function"){var P=T({state:u,name:x,instance:_,options:p}),F=function(){};f.push(P||F)}})}function b(){f.forEach(function(E){return E()}),f=[]}return _}}var Hl=Xs(),Wl=[ao,co,oo,to],Bl=Xs({defaultModifiers:Wl}),Kl=[ao,co,oo,to,ir,ar,lr,sr,rr],uo=Xs({defaultModifiers:Kl});const cr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:za,afterRead:Wa,afterWrite:qa,applyStyles:to,arrow:sr,auto:Ys,basePlacements:zt,beforeMain:Ba,beforeRead:ja,beforeWrite:Ga,bottom:Pe,clippingParents:Va,computeStyles:oo,createPopper:uo,createPopperBase:Hl,createPopperLite:Bl,detectOverflow:Ht,end:Ft,eventListeners:ao,flip:ar,hide:rr,left:Ne,main:Ka,modifierPhases:Xa,offset:ir,placements:Zn,popper:Lt,popperGenerator:Xs,popperOffsets:co,preventOverflow:lr,read:Ha,reference:Ua,right:Me,start:bt,top:Ce,variationPlacements:Rn,viewport:Jn,write:Ya},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const at=new Map,dn={set(s,e,t){at.has(s)||at.set(s,new Map);const n=at.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return at.has(s)&&at.get(s).get(e)||null},remove(s,e){if(!at.has(s))return;const t=at.get(s);t.delete(e),t.size===0&&at.delete(s)}},zl=1e6,Gl=1e3,Fn="transitionend",ur=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),Yl=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),ql=s=>{do s+=Math.floor(Math.random()*zl);while(document.getElementById(s));return s},Xl=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Gl)},dr=s=>{s.dispatchEvent(new Event(Fn))},tt=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),ut=s=>tt(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(ur(s)):null,Gt=s=>{if(!tt(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},dt=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",_r=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?_r(s.parentNode):null},Us=()=>{},hs=s=>{s.offsetHeight},fr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_n=[],Ql=s=>{document.readyState==="loading"?(_n.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of _n)e()}),_n.push(s)):s()},Be=()=>document.documentElement.dir==="rtl",ze=s=>{Ql(()=>{const e=fr();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},De=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,pr=(s,e,t=!0)=>{if(!t){De(s);return}const n=5,o=Xl(e)+n;let a=!1;const r=({target:i})=>{i===e&&(a=!0,e.removeEventListener(Fn,r),De(s))};e.addEventListener(Fn,r),setTimeout(()=>{a||dr(e)},o)},_o=(s,e,t,n)=>{const o=s.length;let a=s.indexOf(e);return a===-1?!t&&n?s[o-1]:s[0]:(a+=t?1:-1,n&&(a=(a+o)%o),s[Math.max(0,Math.min(a,o-1))])},Jl=/[^.]*(?=\..*)\.|.*/,Zl=/\..*/,ec=/::\d+$/,fn={};let Oo=1;const vr={mouseenter:"mouseover",mouseleave:"mouseout"},tc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function hr(s,e){return e&&`${e}::${Oo++}`||s.uidEvent||Oo++}function mr(s){const e=hr(s);return s.uidEvent=e,fn[e]=fn[e]||{},fn[e]}function sc(s,e){return function t(n){return fo(n,{delegateTarget:s}),t.oneOff&&O.off(s,n.type,e),e.apply(s,[n])}}function nc(s,e,t){return function n(o){const a=s.querySelectorAll(e);for(let{target:r}=o;r&&r!==this;r=r.parentNode)for(const i of a)if(i===r)return fo(o,{delegateTarget:r}),n.oneOff&&O.off(s,o.type,e,t),t.apply(r,[o])}}function gr(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function yr(s,e,t){const n=typeof e=="string",o=n?t:e||t;let a=br(s);return tc.has(a)||(a=s),[n,o,a]}function $o(s,e,t,n,o){if(typeof e!="string"||!s)return;let[a,r,i]=yr(e,t,n);e in vr&&(r=(y=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return y.call(this,b)})(r));const l=mr(s),d=l[i]||(l[i]={}),u=gr(d,r,a?t:null);if(u){u.oneOff=u.oneOff&&o;return}const f=hr(r,e.replace(Jl,"")),m=a?nc(s,t,r):sc(s,r);m.delegationSelector=a?t:null,m.callable=r,m.oneOff=o,m.uidEvent=f,d[f]=m,s.addEventListener(i,m,a)}function Vn(s,e,t,n,o){const a=gr(e[t],n,o);a&&(s.removeEventListener(t,a,!!o),delete e[t][a.uidEvent])}function oc(s,e,t,n){const o=e[t]||{};for(const[a,r]of Object.entries(o))a.includes(n)&&Vn(s,e,t,r.callable,r.delegationSelector)}function br(s){return s=s.replace(Zl,""),vr[s]||s}const O={on(s,e,t,n){$o(s,e,t,n,!1)},one(s,e,t,n){$o(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,a,r]=yr(e,t,n),i=r!==e,l=mr(s),d=l[r]||{},u=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(d).length)return;Vn(s,l,r,a,o?t:null);return}if(u)for(const f of Object.keys(l))oc(s,l,f,e.slice(1));for(const[f,m]of Object.entries(d)){const _=f.replace(ec,"");(!i||e.includes(_))&&Vn(s,l,r,m.callable,m.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=fr(),o=br(e),a=e!==o;let r=null,i=!0,l=!0,d=!1;a&&n&&(r=n.Event(e,t),n(s).trigger(r),i=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),d=r.isDefaultPrevented());const u=fo(new Event(e,{bubbles:i,cancelable:!0}),t);return d&&u.preventDefault(),l&&s.dispatchEvent(u),u.defaultPrevented&&r&&r.preventDefault(),u}};function fo(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function Do(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function pn(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const st={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${pn(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${pn(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Do(s.dataset[n])}return e},getDataAttribute(s,e){return Do(s.getAttribute(`data-bs-${pn(e)}`))}};class ms{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=tt(t)?st.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...tt(t)?st.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const a=e[n],r=tt(a)?"element":Yl(a);if(!new RegExp(o).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${o}".`)}}}const ac="5.3.3";class Ge extends ms{constructor(e,t){super(),e=ut(e),e&&(this._element=e,this._config=this._getConfig(t),dn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){dn.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){pr(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return dn.get(ut(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return ac}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const vn=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>ur(t)).join(","):null},B={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!dt(t)&&Gt(t))},getSelectorFromElement(s){const e=vn(s);return e&&B.findOne(e)?e:null},getElementFromSelector(s){const e=vn(s);return e?B.findOne(e):null},getMultipleElementsFromSelector(s){const e=vn(s);return e?B.find(e):[]}},Qs=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;O.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),dt(this))return;const a=B.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(a)[e]()})},rc="alert",ic="bs.alert",Er=`.${ic}`,lc=`close${Er}`,cc=`closed${Er}`,uc="fade",dc="show";class Js extends Ge{static get NAME(){return rc}close(){if(O.trigger(this._element,lc).defaultPrevented)return;this._element.classList.remove(dc);const t=this._element.classList.contains(uc);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),O.trigger(this._element,cc),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Js.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Qs(Js,"close");ze(Js);const _c="button",fc="bs.button",pc=`.${fc}`,vc=".data-api",hc="active",Io='[data-bs-toggle="button"]',mc=`click${pc}${vc}`;class Zs extends Ge{static get NAME(){return _c}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(hc))}static jQueryInterface(e){return this.each(function(){const t=Zs.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}O.on(document,mc,Io,s=>{s.preventDefault();const e=s.target.closest(Io);Zs.getOrCreateInstance(e).toggle()});ze(Zs);const gc="swipe",Yt=".bs.swipe",yc=`touchstart${Yt}`,bc=`touchmove${Yt}`,Ec=`touchend${Yt}`,wc=`pointerdown${Yt}`,Tc=`pointerup${Yt}`,kc="touch",Sc="pen",Ac="pointer-event",Cc=40,Nc={endCallback:null,leftCallback:null,rightCallback:null},xc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class js extends ms{constructor(e,t){super(),this._element=e,!(!e||!js.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Nc}static get DefaultType(){return xc}static get NAME(){return gc}dispose(){O.off(this._element,Yt)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),De(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Cc)return;const t=e/this._deltaX;this._deltaX=0,t&&De(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,wc,e=>this._start(e)),O.on(this._element,Tc,e=>this._end(e)),this._element.classList.add(Ac)):(O.on(this._element,yc,e=>this._start(e)),O.on(this._element,bc,e=>this._move(e)),O.on(this._element,Ec,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Sc||e.pointerType===kc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Oc="carousel",$c="bs.carousel",pt=`.${$c}`,wr=".data-api",Dc="ArrowLeft",Ic="ArrowRight",Lc=500,es="next",Ct="prev",Rt="left",Rs="right",Rc=`slide${pt}`,hn=`slid${pt}`,Pc=`keydown${pt}`,Mc=`mouseenter${pt}`,Fc=`mouseleave${pt}`,Vc=`dragstart${pt}`,Uc=`load${pt}${wr}`,jc=`click${pt}${wr}`,Tr="carousel",Ts="active",Hc="slide",Wc="carousel-item-end",Bc="carousel-item-start",Kc="carousel-item-next",zc="carousel-item-prev",kr=".active",Sr=".carousel-item",Gc=kr+Sr,Yc=".carousel-item img",qc=".carousel-indicators",Xc="[data-bs-slide], [data-bs-slide-to]",Qc='[data-bs-ride="carousel"]',Jc={[Dc]:Rs,[Ic]:Rt},Zc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},eu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class gs extends Ge{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=B.findOne(qc,this._element),this._addEventListeners(),this._config.ride===Tr&&this.cycle()}static get Default(){return Zc}static get DefaultType(){return eu}static get NAME(){return Oc}next(){this._slide(es)}nextWhenVisible(){!document.hidden&&Gt(this._element)&&this.next()}prev(){this._slide(Ct)}pause(){this._isSliding&&dr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){O.one(this._element,hn,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){O.one(this._element,hn,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?es:Ct;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&O.on(this._element,Pc,e=>this._keydown(e)),this._config.pause==="hover"&&(O.on(this._element,Mc,()=>this.pause()),O.on(this._element,Fc,()=>this._maybeEnableCycle())),this._config.touch&&js.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of B.find(Yc,this._element))O.on(n,Vc,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Rt)),rightCallback:()=>this._slide(this._directionToOrder(Rs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Lc+this._config.interval))}};this._swipeHelper=new js(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Jc[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=B.findOne(kr,this._indicatorsElement);t.classList.remove(Ts),t.removeAttribute("aria-current");const n=B.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Ts),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===es,a=t||_o(this._getItems(),n,o,this._config.wrap);if(a===n)return;const r=this._getItemIndex(a),i=_=>O.trigger(this._element,_,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:r});if(i(Rc).defaultPrevented||!n||!a)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=a;const u=o?Bc:Wc,f=o?Kc:zc;a.classList.add(f),hs(a),n.classList.add(u),a.classList.add(u);const m=()=>{a.classList.remove(u,f),a.classList.add(Ts),n.classList.remove(Ts,f,u),this._isSliding=!1,i(hn)};this._queueCallback(m,n,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(Hc)}_getActive(){return B.findOne(Gc,this._element)}_getItems(){return B.find(Sr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Be()?e===Rt?Ct:es:e===Rt?es:Ct}_orderToDirection(e){return Be()?e===Ct?Rt:Rs:e===Ct?Rs:Rt}static jQueryInterface(e){return this.each(function(){const t=gs.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}O.on(document,jc,Xc,function(s){const e=B.getElementFromSelector(this);if(!e||!e.classList.contains(Tr))return;s.preventDefault();const t=gs.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(st.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});O.on(window,Uc,()=>{const s=B.find(Qc);for(const e of s)gs.getOrCreateInstance(e)});ze(gs);const tu="collapse",su="bs.collapse",ys=`.${su}`,nu=".data-api",ou=`show${ys}`,au=`shown${ys}`,ru=`hide${ys}`,iu=`hidden${ys}`,lu=`click${ys}${nu}`,mn="show",Mt="collapse",ks="collapsing",cu="collapsed",uu=`:scope .${Mt} .${Mt}`,du="collapse-horizontal",_u="width",fu="height",pu=".collapse.show, .collapse.collapsing",Un='[data-bs-toggle="collapse"]',vu={parent:null,toggle:!0},hu={parent:"(null|element)",toggle:"boolean"};class ds extends Ge{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=B.find(Un);for(const o of n){const a=B.getSelectorFromElement(o),r=B.find(a).filter(i=>i===this._element);a!==null&&r.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return vu}static get DefaultType(){return hu}static get NAME(){return tu}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(pu).filter(i=>i!==this._element).map(i=>ds.getOrCreateInstance(i,{toggle:!1}))),e.length&&e[0]._isTransitioning||O.trigger(this._element,ou).defaultPrevented)return;for(const i of e)i.hide();const n=this._getDimension();this._element.classList.remove(Mt),this._element.classList.add(ks),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(ks),this._element.classList.add(Mt,mn),this._element.style[n]="",O.trigger(this._element,au)},r=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,ru).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,hs(this._element),this._element.classList.add(ks),this._element.classList.remove(Mt,mn);for(const o of this._triggerArray){const a=B.getElementFromSelector(o);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(ks),this._element.classList.add(Mt),O.trigger(this._element,iu)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(mn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ut(e.parent),e}_getDimension(){return this._element.classList.contains(du)?_u:fu}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Un);for(const t of e){const n=B.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=B.find(uu,this._config.parent);return B.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(cu,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=ds.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(document,lu,Un,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of B.getMultipleElementsFromSelector(this))ds.getOrCreateInstance(e,{toggle:!1}).toggle()});ze(ds);const Lo="dropdown",mu="bs.dropdown",wt=`.${mu}`,po=".data-api",gu="Escape",Ro="Tab",yu="ArrowUp",Po="ArrowDown",bu=2,Eu=`hide${wt}`,wu=`hidden${wt}`,Tu=`show${wt}`,ku=`shown${wt}`,Ar=`click${wt}${po}`,Cr=`keydown${wt}${po}`,Su=`keyup${wt}${po}`,Pt="show",Au="dropup",Cu="dropend",Nu="dropstart",xu="dropup-center",Ou="dropdown-center",ht='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$u=`${ht}.${Pt}`,Ps=".dropdown-menu",Du=".navbar",Iu=".navbar-nav",Lu=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ru=Be()?"top-end":"top-start",Pu=Be()?"top-start":"top-end",Mu=Be()?"bottom-end":"bottom-start",Fu=Be()?"bottom-start":"bottom-end",Vu=Be()?"left-start":"right-start",Uu=Be()?"right-start":"left-start",ju="top",Hu="bottom",Wu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Bu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qe extends Ge{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=B.next(this._element,Ps)[0]||B.prev(this._element,Ps)[0]||B.findOne(Ps,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Wu}static get DefaultType(){return Bu}static get NAME(){return Lo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(dt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!O.trigger(this._element,Tu,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Iu))for(const n of[].concat(...document.body.children))O.on(n,"mouseover",Us);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pt),this._element.classList.add(Pt),O.trigger(this._element,ku,e)}}hide(){if(dt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!O.trigger(this._element,Eu,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))O.off(n,"mouseover",Us);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pt),this._element.classList.remove(Pt),this._element.setAttribute("aria-expanded","false"),st.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,wu,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!tt(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Lo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof cr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:tt(this._config.reference)?e=ut(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=uo(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Pt)}_getPlacement(){const e=this._parent;if(e.classList.contains(Cu))return Vu;if(e.classList.contains(Nu))return Uu;if(e.classList.contains(xu))return ju;if(e.classList.contains(Ou))return Hu;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Au)?t?Pu:Ru:t?Fu:Mu}_detectNavbar(){return this._element.closest(Du)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(st.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...De(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=B.find(Lu,this._menu).filter(o=>Gt(o));n.length&&_o(n,t,e===Po,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Qe.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===bu||e.type==="keyup"&&e.key!==Ro)return;const t=B.find($u);for(const n of t){const o=Qe.getInstance(n);if(!o||o._config.autoClose===!1)continue;const a=e.composedPath(),r=a.includes(o._menu);if(a.includes(o._element)||o._config.autoClose==="inside"&&!r||o._config.autoClose==="outside"&&r||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Ro||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:o._element};e.type==="click"&&(i.clickEvent=e),o._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===gu,o=[yu,Po].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const a=this.matches(ht)?this:B.prev(this,ht)[0]||B.next(this,ht)[0]||B.findOne(ht,e.delegateTarget.parentNode),r=Qe.getOrCreateInstance(a);if(o){e.stopPropagation(),r.show(),r._selectMenuItem(e);return}r._isShown()&&(e.stopPropagation(),r.hide(),a.focus())}}O.on(document,Cr,ht,Qe.dataApiKeydownHandler);O.on(document,Cr,Ps,Qe.dataApiKeydownHandler);O.on(document,Ar,Qe.clearMenus);O.on(document,Su,Qe.clearMenus);O.on(document,Ar,ht,function(s){s.preventDefault(),Qe.getOrCreateInstance(this).toggle()});ze(Qe);const Nr="backdrop",Ku="fade",Mo="show",Fo=`mousedown.bs.${Nr}`,zu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Gu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xr extends ms{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return zu}static get DefaultType(){return Gu}static get NAME(){return Nr}show(e){if(!this._config.isVisible){De(e);return}this._append();const t=this._getElement();this._config.isAnimated&&hs(t),t.classList.add(Mo),this._emulateAnimation(()=>{De(e)})}hide(e){if(!this._config.isVisible){De(e);return}this._getElement().classList.remove(Mo),this._emulateAnimation(()=>{this.dispose(),De(e)})}dispose(){this._isAppended&&(O.off(this._element,Fo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ku),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ut(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),O.on(e,Fo,()=>{De(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){pr(e,this._getElement(),this._config.isAnimated)}}const Yu="focustrap",qu="bs.focustrap",Hs=`.${qu}`,Xu=`focusin${Hs}`,Qu=`keydown.tab${Hs}`,Ju="Tab",Zu="forward",Vo="backward",ed={autofocus:!0,trapElement:null},td={autofocus:"boolean",trapElement:"element"};class Or extends ms{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ed}static get DefaultType(){return td}static get NAME(){return Yu}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,Hs),O.on(document,Xu,e=>this._handleFocusin(e)),O.on(document,Qu,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,Hs))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=B.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===Vo?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Ju&&(this._lastTabNavDirection=e.shiftKey?Vo:Zu)}}const Uo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jo=".sticky-top",Ss="padding-right",Ho="margin-right";class jn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ss,t=>t+e),this._setElementAttributes(Uo,Ss,t=>t+e),this._setElementAttributes(jo,Ho,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ss),this._resetElementAttributes(Uo,Ss),this._resetElementAttributes(jo,Ho)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),a=r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+o)return;this._saveInitialAttribute(r,t);const i=window.getComputedStyle(r).getPropertyValue(t);r.style.setProperty(t,`${n(Number.parseFloat(i))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&st.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const a=st.getDataAttribute(o,t);if(a===null){o.style.removeProperty(t);return}st.removeDataAttribute(o,t),o.style.setProperty(t,a)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(tt(e)){t(e);return}for(const n of B.find(e,this._element))t(n)}}const sd="modal",nd="bs.modal",Ke=`.${nd}`,od=".data-api",ad="Escape",rd=`hide${Ke}`,id=`hidePrevented${Ke}`,$r=`hidden${Ke}`,Dr=`show${Ke}`,ld=`shown${Ke}`,cd=`resize${Ke}`,ud=`click.dismiss${Ke}`,dd=`mousedown.dismiss${Ke}`,_d=`keydown.dismiss${Ke}`,fd=`click${Ke}${od}`,Wo="modal-open",pd="fade",Bo="show",gn="modal-static",vd=".modal.show",hd=".modal-dialog",md=".modal-body",gd='[data-bs-toggle="modal"]',yd={backdrop:!0,focus:!0,keyboard:!0},bd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Wt extends Ge{constructor(e,t){super(e,t),this._dialog=B.findOne(hd,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jn,this._addEventListeners()}static get Default(){return yd}static get DefaultType(){return bd}static get NAME(){return sd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||O.trigger(this._element,Dr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Wo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||O.trigger(this._element,rd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Bo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){O.off(window,Ke),O.off(this._dialog,Ke),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Or({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=B.findOne(md,this._dialog);t&&(t.scrollTop=0),hs(this._element),this._element.classList.add(Bo);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,ld,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,_d,e=>{if(e.key===ad){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),O.on(window,cd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,dd,e=>{O.one(this._element,ud,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Wo),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,$r)})}_isAnimated(){return this._element.classList.contains(pd)}_triggerBackdropTransition(){if(O.trigger(this._element,id).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(gn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(gn),this._queueCallback(()=>{this._element.classList.remove(gn),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Be()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Be()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=Wt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}O.on(document,fd,gd,function(s){const e=B.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),O.one(e,Dr,o=>{o.defaultPrevented||O.one(e,$r,()=>{Gt(this)&&this.focus()})});const t=B.findOne(vd);t&&Wt.getInstance(t).hide(),Wt.getOrCreateInstance(e).toggle(this)});Qs(Wt);ze(Wt);const Ed="offcanvas",wd="bs.offcanvas",ot=`.${wd}`,Ir=".data-api",Td=`load${ot}${Ir}`,kd="Escape",Ko="show",zo="showing",Go="hiding",Sd="offcanvas-backdrop",Lr=".offcanvas.show",Ad=`show${ot}`,Cd=`shown${ot}`,Nd=`hide${ot}`,Yo=`hidePrevented${ot}`,Rr=`hidden${ot}`,xd=`resize${ot}`,Od=`click${ot}${Ir}`,$d=`keydown.dismiss${ot}`,Dd='[data-bs-toggle="offcanvas"]',Id={backdrop:!0,keyboard:!0,scroll:!1},Ld={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _t extends Ge{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Id}static get DefaultType(){return Ld}static get NAME(){return Ed}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||O.trigger(this._element,Ad,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new jn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zo);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ko),this._element.classList.remove(zo),O.trigger(this._element,Cd,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||O.trigger(this._element,Nd).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Go),this._backdrop.hide();const t=()=>{this._element.classList.remove(Ko,Go),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new jn().reset(),O.trigger(this._element,Rr)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){O.trigger(this._element,Yo);return}this.hide()},t=!!this._config.backdrop;return new xr({className:Sd,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Or({trapElement:this._element})}_addEventListeners(){O.on(this._element,$d,e=>{if(e.key===kd){if(this._config.keyboard){this.hide();return}O.trigger(this._element,Yo)}})}static jQueryInterface(e){return this.each(function(){const t=_t.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}O.on(document,Od,Dd,function(s){const e=B.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),dt(this))return;O.one(e,Rr,()=>{Gt(this)&&this.focus()});const t=B.findOne(Lr);t&&t!==e&&_t.getInstance(t).hide(),_t.getOrCreateInstance(e).toggle(this)});O.on(window,Td,()=>{for(const s of B.find(Lr))_t.getOrCreateInstance(s).show()});O.on(window,xd,()=>{for(const s of B.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&_t.getOrCreateInstance(s).hide()});Qs(_t);ze(_t);const Rd=/^aria-[\w-]*$/i,Pr={"*":["class","dir","id","lang","role",Rd],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Md=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Fd=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?Pd.has(t)?!!Md.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function Vd(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),a=[].concat(...o.body.querySelectorAll("*"));for(const r of a){const i=r.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){r.remove();continue}const l=[].concat(...r.attributes),d=[].concat(e["*"]||[],e[i]||[]);for(const u of l)Fd(u,d)||r.removeAttribute(u.nodeName)}return o.body.innerHTML}const Ud="TemplateFactory",jd={allowList:Pr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wd={entry:"(string|element|function|null)",selector:"(string|element)"};class Bd extends ms{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return jd}static get DefaultType(){return Hd}static get NAME(){return Ud}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,a]of Object.entries(this._config.content))this._setContent(e,a,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},Wd)}_setContent(e,t,n){const o=B.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(tt(t)){this._putElementInTemplate(ut(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Vd(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return De(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const Kd="tooltip",zd=new Set(["sanitize","allowList","sanitizeFn"]),yn="fade",Gd="modal",As="show",Yd=".tooltip-inner",qo=`.${Gd}`,Xo="hide.bs.modal",ts="hover",bn="focus",qd="click",Xd="manual",Qd="hide",Jd="hidden",Zd="show",e_="shown",t_="inserted",s_="click",n_="focusin",o_="focusout",a_="mouseenter",r_="mouseleave",i_={AUTO:"auto",TOP:"top",RIGHT:Be()?"left":"right",BOTTOM:"bottom",LEFT:Be()?"right":"left"},l_={allowList:Pr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},c_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qt extends Ge{constructor(e,t){if(typeof cr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return l_}static get DefaultType(){return c_}static get NAME(){return Kd}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(qo),Xo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=O.trigger(this._element,this.constructor.eventName(Zd)),n=(_r(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(o),O.trigger(this._element,this.constructor.eventName(t_))),this._popper=this._createPopper(o),o.classList.add(As),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))O.on(i,"mouseover",Us);const r=()=>{O.trigger(this._element,this.constructor.eventName(e_)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown()||O.trigger(this._element,this.constructor.eventName(Qd)).defaultPrevented)return;if(this._getTipElement().classList.remove(As),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))O.off(o,"mouseover",Us);this._activeTrigger[qd]=!1,this._activeTrigger[bn]=!1,this._activeTrigger[ts]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName(Jd)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(yn,As),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=ql(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(yn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Bd({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Yd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(yn)}_isShown(){return this.tip&&this.tip.classList.contains(As)}_createPopper(e){const t=De(this._config.placement,[this,e,this._element]),n=i_[t.toUpperCase()];return uo(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return De(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...De(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")O.on(this._element,this.constructor.eventName(s_),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==Xd){const n=t===ts?this.constructor.eventName(a_):this.constructor.eventName(n_),o=t===ts?this.constructor.eventName(r_):this.constructor.eventName(o_);O.on(this._element,n,this._config.selector,a=>{const r=this._initializeOnDelegatedTarget(a);r._activeTrigger[a.type==="focusin"?bn:ts]=!0,r._enter()}),O.on(this._element,o,this._config.selector,a=>{const r=this._initializeOnDelegatedTarget(a);r._activeTrigger[a.type==="focusout"?bn:ts]=r._element.contains(a.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(qo),Xo,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=st.getDataAttributes(this._element);for(const n of Object.keys(t))zd.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ut(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=qt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ze(qt);const u_="popover",d_=".popover-header",__=".popover-body",f_={...qt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},p_={...qt.DefaultType,content:"(null|string|element|function)"};class vo extends qt{static get Default(){return f_}static get DefaultType(){return p_}static get NAME(){return u_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[d_]:this._getTitle(),[__]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=vo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ze(vo);const v_="scrollspy",h_="bs.scrollspy",ho=`.${h_}`,m_=".data-api",g_=`activate${ho}`,Qo=`click${ho}`,y_=`load${ho}${m_}`,b_="dropdown-item",Nt="active",E_='[data-bs-spy="scroll"]',En="[href]",w_=".nav, .list-group",Jo=".nav-link",T_=".nav-item",k_=".list-group-item",S_=`${Jo}, ${T_} > ${Jo}, ${k_}`,A_=".dropdown",C_=".dropdown-toggle",N_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},x_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class en extends Ge{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return N_}static get DefaultType(){return x_}static get NAME(){return v_}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ut(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,Qo),O.on(this._config.target,Qo,En,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=r=>this._targetLinks.get(`#${r.target.id}`),n=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(t(r))},o=(this._rootElement||document.documentElement).scrollTop,a=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const i=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&i){if(n(r),!o)return;continue}!a&&!i&&n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=B.find(En,this._config.target);for(const t of e){if(!t.hash||dt(t))continue;const n=B.findOne(decodeURI(t.hash),this._element);Gt(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Nt),this._activateParents(e),O.trigger(this._element,g_,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(b_)){B.findOne(C_,e.closest(A_)).classList.add(Nt);return}for(const t of B.parents(e,w_))for(const n of B.prev(t,S_))n.classList.add(Nt)}_clearActiveClass(e){e.classList.remove(Nt);const t=B.find(`${En}.${Nt}`,e);for(const n of t)n.classList.remove(Nt)}static jQueryInterface(e){return this.each(function(){const t=en.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}O.on(window,y_,()=>{for(const s of B.find(E_))en.getOrCreateInstance(s)});ze(en);const O_="tab",$_="bs.tab",Tt=`.${$_}`,D_=`hide${Tt}`,I_=`hidden${Tt}`,L_=`show${Tt}`,R_=`shown${Tt}`,P_=`click${Tt}`,M_=`keydown${Tt}`,F_=`load${Tt}`,V_="ArrowLeft",Zo="ArrowRight",U_="ArrowUp",ea="ArrowDown",wn="Home",ta="End",mt="active",sa="fade",Tn="show",j_="dropdown",Mr=".dropdown-toggle",H_=".dropdown-menu",kn=`:not(${Mr})`,W_='.list-group, .nav, [role="tablist"]',B_=".nav-item, .list-group-item",K_=`.nav-link${kn}, .list-group-item${kn}, [role="tab"]${kn}`,Fr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Sn=`${K_}, ${Fr}`,z_=`.${mt}[data-bs-toggle="tab"], .${mt}[data-bs-toggle="pill"], .${mt}[data-bs-toggle="list"]`;class Bt extends Ge{constructor(e){super(e),this._parent=this._element.closest(W_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,M_,t=>this._keydown(t)))}static get NAME(){return O_}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?O.trigger(t,D_,{relatedTarget:e}):null;O.trigger(e,L_,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(mt),this._activate(B.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Tn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),O.trigger(e,R_,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(sa))}_deactivate(e,t){if(!e)return;e.classList.remove(mt),e.blur(),this._deactivate(B.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Tn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),O.trigger(e,I_,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(sa))}_keydown(e){if(![V_,Zo,U_,ea,wn,ta].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!dt(o));let n;if([wn,ta].includes(e.key))n=t[e.key===wn?0:t.length-1];else{const o=[Zo,ea].includes(e.key);n=_o(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),Bt.getOrCreateInstance(n).show())}_getChildren(){return B.find(Sn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=B.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(j_))return;const o=(a,r)=>{const i=B.findOne(a,n);i&&i.classList.toggle(r,t)};o(Mr,mt),o(H_,Tn),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(mt)}_getInnerElement(e){return e.matches(Sn)?e:B.findOne(Sn,e)}_getOuterElement(e){return e.closest(B_)||e}static jQueryInterface(e){return this.each(function(){const t=Bt.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}O.on(document,P_,Fr,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!dt(this)&&Bt.getOrCreateInstance(this).show()});O.on(window,F_,()=>{for(const s of B.find(z_))Bt.getOrCreateInstance(s)});ze(Bt);const G_="toast",Y_="bs.toast",vt=`.${Y_}`,q_=`mouseover${vt}`,X_=`mouseout${vt}`,Q_=`focusin${vt}`,J_=`focusout${vt}`,Z_=`hide${vt}`,ef=`hidden${vt}`,tf=`show${vt}`,sf=`shown${vt}`,nf="fade",na="hide",Cs="show",Ns="showing",of={animation:"boolean",autohide:"boolean",delay:"number"},af={animation:!0,autohide:!0,delay:5e3};class tn extends Ge{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return af}static get DefaultType(){return of}static get NAME(){return G_}show(){if(O.trigger(this._element,tf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(nf);const t=()=>{this._element.classList.remove(Ns),O.trigger(this._element,sf),this._maybeScheduleHide()};this._element.classList.remove(na),hs(this._element),this._element.classList.add(Cs,Ns),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||O.trigger(this._element,Z_).defaultPrevented)return;const t=()=>{this._element.classList.add(na),this._element.classList.remove(Ns,Cs),O.trigger(this._element,ef)};this._element.classList.add(Ns),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cs),super.dispose()}isShown(){return this._element.classList.contains(Cs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,q_,e=>this._onInteraction(e,!0)),O.on(this._element,X_,e=>this._onInteraction(e,!1)),O.on(this._element,Q_,e=>this._onInteraction(e,!0)),O.on(this._element,J_,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=tn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Qs(tn);ze(tn);/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Vr;const sn=s=>Vr=s,Ur=Symbol();function Hn(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var cs;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(cs||(cs={}));function rf(){const s=Oa(!0),e=s.run(()=>v({}));let t=[],n=[];const o=$a({install(a){sn(o),o._a=a,a.provide(Ur,o),a.config.globalProperties.$pinia=o,n.forEach(r=>t.push(r)),n=[]},use(a){return!this._a&&!Gr?n.push(a):t.push(a),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const jr=()=>{};function oa(s,e,t,n=jr){s.push(e);const o=()=>{const a=s.indexOf(e);a>-1&&(s.splice(a,1),n())};return!t&&Jr()&&Zr(o),o}function xt(s,...e){s.slice().forEach(t=>{t(...e)})}const lf=s=>s(),aa=Symbol(),An=Symbol();function Wn(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];Hn(o)&&Hn(n)&&s.hasOwnProperty(t)&&!Fs(n)&&!Da(n)?s[t]=Wn(o,n):s[t]=n}return s}const cf=Symbol();function uf(s){return!Hn(s)||!s.hasOwnProperty(cf)}const{assign:it}=Object;function df(s){return!!(Fs(s)&&s.effect)}function _f(s,e,t,n){const{state:o,actions:a,getters:r}=e,i=t.state.value[s];let l;function d(){i||(t.state.value[s]=o?o():{});const u=ti(t.state.value[s]);return it(u,a,Object.keys(r||{}).reduce((f,m)=>(f[m]=$a(X(()=>{sn(t);const _=t._s.get(s);return r[m].call(_,_)})),f),{}))}return l=Hr(s,d,e,t,n,!0),l}function Hr(s,e,t={},n,o,a){let r;const i=it({actions:{}},t),l={deep:!0};let d,u,f=[],m=[],_;const y=n.state.value[s];!a&&!y&&(n.state.value[s]={}),v({});let b;function E(N){let $;d=u=!1,typeof N=="function"?(N(n.state.value[s]),$={type:cs.patchFunction,storeId:s,events:_}):(Wn(n.state.value[s],N),$={type:cs.patchObject,payload:N,storeId:s,events:_});const M=b=Symbol();ei().then(()=>{b===M&&(d=!0)}),u=!0,xt(f,$,n.state.value[s])}const x=a?function(){const{state:$}=t,M=$?$():{};this.$patch(J=>{it(J,M)})}:jr;function k(){r.stop(),f=[],m=[],n._s.delete(s)}const p=(N,$="")=>{if(aa in N)return N[An]=$,N;const M=function(){sn(n);const J=Array.from(arguments),oe=[],ne=[];function z(Q){oe.push(Q)}function K(Q){ne.push(Q)}xt(m,{args:J,name:M[An],store:P,after:z,onError:K});let V;try{V=N.apply(this&&this.$id===s?this:P,J)}catch(Q){throw xt(ne,Q),Q}return V instanceof Promise?V.then(Q=>(xt(oe,Q),Q)).catch(Q=>(xt(ne,Q),Promise.reject(Q))):(xt(oe,V),V)};return M[aa]=!0,M[An]=$,M},T={_p:n,$id:s,$onAction:oa.bind(null,m),$patch:E,$reset:x,$subscribe(N,$={}){const M=oa(f,N,$.detached,()=>J()),J=r.run(()=>us(()=>n.state.value[s],oe=>{($.flush==="sync"?u:d)&&N({storeId:s,type:cs.direct,events:_},oe)},it({},l,$)));return M},$dispose:k},P=qr(T);n._s.set(s,P);const R=(n._a&&n._a.runWithContext||lf)(()=>n._e.run(()=>(r=Oa()).run(()=>e({action:p}))));for(const N in R){const $=R[N];if(Fs($)&&!df($)||Da($))a||(y&&uf($)&&(Fs($)?$.value=y[N]:Wn($,y[N])),n.state.value[s][N]=$);else if(typeof $=="function"){const M=p($,N);R[N]=M,i.actions[N]=$}}return it(P,R),it(Xr(P),R),Object.defineProperty(P,"$state",{get:()=>n.state.value[s],set:N=>{E($=>{it($,N)})}}),n._p.forEach(N=>{it(P,r.run(()=>N({store:P,app:n._a,pinia:n,options:i})))}),y&&a&&t.hydrate&&t.hydrate(P.$state,y),d=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function Xt(s,e,t){let n,o;const a=typeof e=="function";typeof s=="string"?(n=s,o=a?t:e):(o=s,n=s.id);function r(i,l){const d=Qr();return i=i||(d?Yr(Ur,null):null),i&&sn(i),i=Vr,i._s.has(n)||(a?Hr(n,e,o,i):_f(n,o,i)),i._s.get(n)}return r.$id=n,r}function ff(s){return typeof s=="object"&&s!==null}function ra(s,e){return s=ff(s)?s:Object.create(null),new Proxy(s,{get(t,n,o){return n==="key"?Reflect.get(t,n,o):Reflect.get(t,n,o)||Reflect.get(e,n,o)}})}function pf(s,e){return e.reduce((t,n)=>t==null?void 0:t[n],s)}function vf(s,e,t){return e.slice(0,-1).reduce((n,o)=>/^(__proto__)$/.test(o)?{}:n[o]=n[o]||{},s)[e[e.length-1]]=t,s}function hf(s,e){return e.reduce((t,n)=>{const o=n.split(".");return vf(t,o,pf(s,o))},{})}function mf(s,e){return t=>{var n;try{const{storage:o=localStorage,beforeRestore:a=void 0,afterRestore:r=void 0,serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:d=null,debug:u=!1}=t;return{storage:o,beforeRestore:a,afterRestore:r,serializer:i,key:((n=s.key)!=null?n:f=>f)(typeof l=="string"?l:l(e.$id)),paths:d,debug:u}}catch(o){return t.debug&&console.error("[pinia-plugin-persistedstate]",o),null}}}function ia(s,{storage:e,serializer:t,key:n,debug:o}){try{const a=e==null?void 0:e.getItem(n);a&&s.$patch(t==null?void 0:t.deserialize(a))}catch(a){o&&console.error("[pinia-plugin-persistedstate]",a)}}function la(s,{storage:e,serializer:t,key:n,paths:o,debug:a}){try{const r=Array.isArray(o)?hf(s,o):s;e.setItem(n,t.serialize(r))}catch(r){a&&console.error("[pinia-plugin-persistedstate]",r)}}function gf(s={}){return e=>{const{auto:t=!1}=s,{options:{persist:n=t},store:o,pinia:a}=e;if(!n)return;if(!(o.$id in a.state.value)){const i=a._s.get(o.$id.replace("__hot:",""));i&&Promise.resolve().then(()=>i.$persist());return}const r=(Array.isArray(n)?n.map(i=>ra(i,s)):[ra(n,s)]).map(mf(s,o)).filter(Boolean);o.$persist=()=>{r.forEach(i=>{la(o.$state,i)})},o.$hydrate=({runHooks:i=!0}={})=>{r.forEach(l=>{const{beforeRestore:d,afterRestore:u}=l;i&&(d==null||d(e)),ia(o,l),i&&(u==null||u(e))})},r.forEach(i=>{const{beforeRestore:l,afterRestore:d}=i;l==null||l(e),ia(o,i),d==null||d(e),o.$subscribe((u,f)=>{la(f,i)},{detached:!0})})}}var yf=gf();const Qt=Xt("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new Ae([],s)),n=v(!1),o=structuredClone(s);o.keys=[];const a=structuredClone(s);a.keys=["name","type"];const r=v(new Ae([],o)),i=v(new Ae([],o)),l=v(new Ae([],o)),d=v(new Ae([],o)),u=v(new Ae([],a)),f=v(new Ae([],a)),m=v(new Ae([],a));function _(p){n.value=p}function y(p){const T=p.split("/");T.length===3&&e.value.push(T[0]+"."+T[1]+"."+T[2])}function b(p){d.value.add(p+"_Request"),d.value.add(p+"_Response")}function E(p){d.value.add(p+"_Goal"),d.value.add(p+"_Result"),d.value.add(p+"_Feedback")}function x(p){e.value=[],r.value.setCollection(p.topics),i.value.setCollection(p.services),l.value.setCollection(p.actions),d.value.setCollection(p.topics),p.services.forEach(b),p.actions.forEach(E),p.topics.forEach(y),t.value.setCollection(e.value)}function k(p){u.value.setCollection(p.topics),f.value.setCollection(p.services),m.value.setCollection(p.actions)}return{messages:e,messages_fuse:t,messages_available:n,ros_topic_type_fuse:r,ros_service_type_fuse:i,ros_action_type_fuse:l,ros_all_messages_fuse:d,ros_topic_name_fuse:u,ros_service_name_fuse:f,ros_action_name_fuse:m,areMessagesAvailable:_,updateAvailableMessages:x,updateMessageChannels:k}}),nn=Xt("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new Ae([],s)),n=v(!1);function o(r){n.value=r}function a(r){e.value=r,t.value=new Ae(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:a}}),Jt=Xt("nodes",()=>{const s=ve(),e={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},t=v([]),n=v(new Ae([],e)),o=v([]);function a(d){t.value=d;const u=d.map(f=>(f.max_children<0?f.node_type="Flow control":f.max_children>0?f.node_type="Decorator":f.node_type="Leaf",f));n.value=new Ae(u,e)}function r(d){if(d===""){o.value=[];return}o.value=n.value.search(d).map(u=>u.item)}function i(){o.value=[]}function l(d){s.get_available_nodes_service.callService({node_modules:[d]},u=>{u.success?(a(u.available_nodes),L({title:"Updated available BT nodes!",type:"success"})):L({title:"Failed to update available BT nodes!",text:u.error_message,type:"error"})},u=>{L({title:"Failed to call GetAvailableNodes service!",text:u,type:"error"})})}return{nodes:t,nodes_fuse:n,filtered_nodes:o,updateAvailableNode:a,filterNodes:r,clearFilteredNodes:i,getNodes:l}}),ve=Xt("ros",()=>{const s=Qt(),e=nn(),t=Jt(),n=v(new j.Ros({})),o=X(()=>n.value.isConnected),a=v("ws://"+window.location.hostname+":9090"),r=v(""),i=v(["/"]),l=v(new j.Service({ros:n.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),d=v(new j.Service({ros:n.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),u=v(new j.Service({ros:n.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),f=v(new j.Service({ros:n.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),m=v(new j.Service({ros:n.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),_=v(new j.Service({ros:n.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),y=v(new j.Topic({ros:n.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0})),b=v(new j.Topic({ros:n.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0})),E=v(new j.Topic({ros:n.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),x=v(new j.Topic({ros:n.value,name:r.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0})),k=v(new j.Topic({ros:n.value,name:r.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0})),p=v(new j.Service({ros:n.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),T=v(new j.Service({ros:n.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),P=v(new j.Service({ros:n.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),F=v(new j.Service({ros:n.value,name:r.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),R=v(new j.Service({ros:n.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),N=v(new j.Service({ros:n.value,name:r.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),$=v(new j.Service({ros:n.value,name:r.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),M=v(new j.Service({ros:n.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),J=v(new j.Service({ros:n.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),oe=v(new j.Service({ros:n.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),ne=v(new j.Service({ros:n.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),z=v(new j.Service({ros:n.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),K=v(new j.Service({ros:n.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),V=v(new j.Service({ros:n.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),Q=v(new j.Service({ros:n.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),ee=v(new j.Service({ros:n.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),le=v(new j.Service({ros:n.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));n.value.on("connection",()=>{pe()}),n.value.on("close",()=>{ie()}),n.value.on("error",()=>{L({title:"ROS connection error!",type:"error"})});function xe(){y.value.unsubscribe(),y.value.removeAllListeners(),y.value=new j.Topic({ros:n.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0}),b.value.unsubscribe(),b.value.removeAllListeners(),b.value=new j.Topic({ros:n.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0}),x.value.unsubscribe(),x.value.removeAllListeners(),x.value=new j.Topic({ros:n.value,name:r.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0}),E.value.unsubscribe(),E.value.removeAllListeners(),E.value=new j.Topic({ros:n.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),k.value.unsubscribe(),k.value.removeAllListeners(),k.value=new j.Topic({ros:n.value,name:r.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0}),_.value=new j.Service({ros:n.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),l.value=new j.Service({ros:n.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),d.value=new j.Service({ros:n.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),u.value=new j.Service({ros:n.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),f.value=new j.Service({ros:n.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),m.value=new j.Service({ros:n.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),p.value=new j.Service({ros:n.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),T.value=new j.Service({ros:n.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),P.value=new j.Service({ros:n.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),F.value=new j.Service({ros:n.value,name:r.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),R.value=new j.Service({ros:n.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"}),N.value=new j.Service({ros:n.value,name:r.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),$.value=new j.Service({ros:n.value,name:r.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),ne.value=new j.Service({ros:n.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),oe.value=new j.Service({ros:n.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),J.value=new j.Service({ros:n.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),M.value=new j.Service({ros:n.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),z.value=new j.Service({ros:n.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),K.value=new j.Service({ros:n.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),V.value=new j.Service({ros:n.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),Q.value=new j.Service({ros:n.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),ee.value=new j.Service({ros:n.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),le.value=new j.Service({ros:n.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}),t.getNodes("")}function Ye(){n.value.connect(a.value)}function Ve(ue){a.value=ue}function pe(){L({title:"ROS connection established!",type:"success"})}function ie(){s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),L({title:"ROS connection closed!",type:"warn"})}function Te(ue){r.value=ue,i.value.indexOf(ue)===-1&&i.value.push(r.value),xe()}function Oe(ue){i.value=ue}return{ros:n,connected:o,url:a,namespace:r,available_namespaces:i,services_for_type_service:l,load_tree_service:d,fix_yaml_service:u,control_tree_execution_service:f,clear_tree_service:m,get_available_nodes_service:p,get_message_fields_service:T,unwire_data_service:P,remove_node_service:F,morph_node_service:$,set_options_service:N,move_node_service:M,replace_node_service:R,wire_data_service:oe,add_node_at_index_service:J,generate_subtree_service:ne,set_publish_subtrees_service:_,get_storage_folders_service:z,get_folder_structure_service:K,get_package_structure_service:V,save_tree_service:Q,change_tree_name_service:ee,load_tree_from_path_service:le,tree_sub:y,subtree_info_sub:b,packages_sub:E,messages_sub:x,channels_sub:k,connect:Ye,setUrl:Ve,changeNamespace:Te,setAvailableNamespaces:Oe,hasConnected:pe,hasDisconnected:ie,updateROSServices:xe}},{persist:{paths:["namespace","url","available_namespaces"],storage:localStorage,afterRestore:s=>{s.store.updateROSServices(),s.store.connect()}}}),bf={class:"border rounded mb-2"},Ef={key:0,class:"m-2"},wf={class:"d-grid gap-2 mb-2"},Tf={class:"input-group mb-3"},kf=["value"],Sf=te({__name:"PackageLoader",setup(s){const e=Jt(),t=v(!0),n=v("ros_bt_py.nodes.sequence");function o(){t.value=!t.value}function a(r){const i=r.target;n.value=i.value}return(r,i)=>{const l=Ee("font-awesome-icon");return h(),C("div",bf,[c("div",{onClick:o,class:"text-center cursor-pointer font-weight-bold m-2"},[i[2]||(i[2]=re(" Package Loader ")),t.value?(h(),q(l,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(h(),q(l,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),t.value?de("",!0):(h(),C("div",Ef,[c("div",wf,[c("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:i[0]||(i[0]=()=>g(e).getNodes(""))}," Refresh ")]),c("div",Tf,[c("input",{type:"text",class:"form-control",id:"loadPackageForm","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:n.value,onChange:a},null,40,kf),c("button",{type:"button",className:"btn btn-block btn-outline-primary",onClick:i[1]||(i[1]=()=>g(e).getNodes(n.value)),id:"loadPackageFormConfirm"}," Load package ")])]))])}}});var me=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))(me||{}),Ws=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(Ws||{});const fe=Xt("editor",()=>{const s=v(void 0),e=v([]),t=v(!1),n=v(!1),o=v(new Set);let a=0;const r=200,i=v(),l=v(),d=v(),u=X(()=>i.value!==void 0||l.value!==void 0||d.value!==void 0),f=v(!0),m=v("darkmode"),_=v({name:"",is_subtree:!1,tree:void 0}),y=X(()=>_.value.is_subtree?_.value.tree:s.value),b=X(()=>e.value.map(V=>V.name)),E=v(void 0),x=v(!1);function k(V){t.value=V}function p(V){n.value=V}function T(V){o.value.add(V)}function P(V){o.value.delete(V)}function F(V){a=setTimeout(()=>i.value=V,r)}function R(V){a=setTimeout(()=>l.value=V,r)}function N(V){d.value=V}function $(){clearTimeout(a),i.value=void 0,l.value=void 0,d.value=void 0}function M(){d.value=void 0}function J(V){f.value=V}function oe(){switch(m.value){case"darkmode":m.value="lightmode";return;case"lightmode":m.value="darkmode";return;default:m.value="darkmode";return}}function ne(V,Q){let ee;if(Q){if(e.value.length===0){L({title:"No Subtree Information received!",type:"error"});return}ee=e.value.find(le=>le.name===V)}_.value={name:V,is_subtree:Q,tree:ee}}function z(V){E.value=V}function K(){E.value=void 0}return{tree:s,current_tree:y,publish_subtrees:t,debug:n,subtree_states:e,running_commands:o,dragging_new_node:i,dragging_existing_node:l,data_edge_endpoint:d,is_dragging:u,is_layer_mode:x,runNewCommand:T,removeRunningCommand:P,enableSubtreePublishing:k,enableDebugging:p,startDraggingNewNode:F,startDraggingExistingNode:R,startDrawingDataEdge:N,stopDragging:$,stopDrawingDataEdge:M,show_data_graph:f,enableShowDataGraph:J,skin:m,cycleEditorSkin:oe,selected_subtree:_,selectSubtree:ne,subtree_names:b,selected_edge:E,selectEdge:z,unselectEdge:K}});var Se=(s=>(s.RUNNING="RUNNING",s.IDLE="IDLE",s.SUCCEEDED="SUCCEEDED",s.FAILED="FAILED",s.SHUTDOWN="SHUTDOWN",s.UNINITIALIZED="UNINITIALIZED",s.UNASSIGNED="UNASSIGNED",s.ASSIGNED="ASSIGNED",s.BROKEN="BROKEN",s.PAUSED="PAUSED",s))(Se||{}),ke=(s=>(s.IDLE="IDLE",s.EDITABLE="EDITABLE",s.TICKING="TICKING",s.WAITING_FOR_TICK="WAITING_FOR_TICK",s.STOP_REQUESTED="STOP_REQUESTED",s.ERROR="ERROR",s))(ke||{}),et=(s=>(s.FILE="file",s.DIR="directory",s))(et||{}),$e=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))($e||{}),Y=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s))(Y||{});const we=new Map,Af="ros_bt_py.custom_types.TypeWrapper",ca="collections.OrderedDict";we.set(ca,{"py/reduce":[{"py/type":ca},{"py/tuple":[[]]},null,null,null]});const ua="ros_bt_py.ros_helpers.LoggerLevel";we.set(ua,{"py/object":ua,logger_level:"Debug"});const Bn="ros_bt_py.helpers.MathUnaryOperator";we.set(Bn,{"py/object":Bn,operator:"sqrt"});const Kn="ros_bt_py.helpers.MathBinaryOperator";we.set(Kn,{"py/object":Kn,operator:"+"});const zn="ros_bt_py.helpers.MathOperandType";we.set(zn,{"py/object":zn,operand_type:"float"});const Gn="ros_bt_py.helpers.MathUnaryOperandType";we.set(Gn,{"py/object":Gn,operand_type:"float"});const da="ros_bt_py.ros_helpers.EnumValue";we.set(da,{"py/object":da,enum_value:"",field_names:[]});const Yn="ros_bt_py.custom_types.FilePath";we.set(Yn,{"py/object":Yn,path:""});const _s="ros_bt_py.custom_types.RosTopicType";we.set(_s,{"py/object":_s,type_str:"example_interfaces/msg/Empty"});const Bs="ros_bt_py.custom_types.RosServiceType";we.set(Bs,{"py/object":Bs,type_str:"example_interfaces/srv/Trigger"});const Ks="ros_bt_py.custom_types.RosActionType";we.set(Ks,{"py/object":Ks,type_str:"example_interfaces/action/Fibonacci"});const qn="ros_bt_py.custom_types.RosTopicName";we.set(qn,{"py/object":qn,name:""});const Xn="ros_bt_py.custom_types.RosServiceName";we.set(Xn,{"py/object":Xn,name:""});const Qn="ros_bt_py.custom_types.RosActionName";we.set(Qn,{"py/object":Qn,name:""});function Cf(s){return we.has(s)}function Nf(s){return structuredClone(we.get(s))}function _a(s,e){if(s.node.data.name===e.node.data.name||s.kind===e.kind)return!1;const t=s.kind===$e.OUTPUT?s:e,n=s.kind===$e.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:Le(t.type)===Le(n.type)}const Ms=["int","float","str","bool","list","dict","set","type"];function Le(s){const e=JSON.parse(s);if(e["py/type"]!==void 0)return e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"str").replace(/^unicode$/,"str");if(e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef")return"OptionRef("+e.option_key+")";if(e["py/object"]!==void 0&&e["py/object"]===Af){const t=e;return Le(JSON.stringify(t.actual_type))+"("+t.info+")"}return e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function on(s){let e;return s.startsWith("OptionRef(")?e=s.match(/(.*\(.*\))\((.*)\)/):e=s.match(/(.*)\((.*)\)/),e===null?[s,""]:[e[1],e[2]]}function fs(s,e=null){const t=on(s)[0];if(t==="type")return{type:s,value:"int"};if(t==="int")return{type:s,value:0};if(t==="str")return{type:s,value:"foo"};if(t==="float")return{type:s,value:1.2};if(t==="bool")return{type:s,value:!0};if(t==="list")return{type:s,value:[]};if(t==="dict")return{type:s,value:{}};if(t.startsWith("OptionRef(")){const n=t.substring(10,t.length-1);if(e===null)return{type:"unset_optionref",value:'Ref to "'+n+'"'};const o=e.find(a=>a.key===n);return o?fs(fs(Le(o.serialized_value),e).value,e):{type:"unset_optionref",value:'Ref to "'+n+'"'}}else return Cf(t)?{type:s,value:Nf(t)||{}}:{type:"__"+s,value:{}}}function mo(s){return s.map(e=>{const t={key:e.key,serialized_value:"",serialized_type:""};if(e.value.type.startsWith("type"))Ms.indexOf(e.value.value)>=0&&(e.value.value="builtins."+e.value.value),t.serialized_value=JSON.stringify({"py/type":e.value.value});else if(e.value.type.startsWith("__")){const n=e.value.value;n["py/object"]=e.value.type.substring(2),t.serialized_value=JSON.stringify(e.value.value)}else t.serialized_value=JSON.stringify(e.value.value);return t})}function zs(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}var lt=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(lt||{});function Wr(s){let e,t;switch(s){case"Ask before overwrite":e=!1,t=!1;break;case"Overwrite file":e=!0,t=!1;break;case"Rename file":e=!1,t=!0;break;default:console.warn("Improper state for name conflict resolution strategy",s),e=!1,t=!1;break}return[e,t]}function Ot(s,e){return e=e||[],{key:s.key,value:fs(Le(s.serialized_value),e)}}const ge=Xt("edit_node",()=>{const s=fe(),e=Jt(),t=v(!1),n=v(!1),o=v(void 0),a=v(void 0),r=v([]),i=v("none"),l=v(""),d=v(""),u=v(""),f=v([]),m=v([]),_=v([]),y=v(!1),b=v(!1),E=X(()=>e.nodes.filter(z=>z.max_children==-1)),x=X(()=>E.value.filter(z=>u.value===z.module&&d.value===z.node_class).length>0),k=v(!1);function p(){n.value=!0}function T(){n.value=!1}function P(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,a.value=void 0,r.value=[],i.value="none"}function F(z){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,a.value=z,k.value=!1,t.value=!0,r.value=[],i.value="nodelist",l.value=z.name,d.value=z.node_class,u.value=z.module,y.value=!0,b.value=!1,f.value=z.options.map(K=>Ot(K,z.options)),m.value=z.inputs.map(K=>Ot(K,z.options)),_.value=z.outputs.map(K=>Ot(K,z.options))}function R(z){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const K=s.current_tree.nodes.find(ee=>ee.name===z);if(K===void 0){console.error("Could not find node in tree"),P();return}const V=e.nodes.find(ee=>ee.node_class===K.node_class&&ee.module===K.module);V===void 0&&console.error("Cannot recover node information"),o.value=K,a.value=V,k.value=!0,t.value=!1,r.value=[z],i.value="editor",l.value=K.name,d.value=K.node_class,u.value=K.module,y.value=!0,b.value=!1;function Q(ee){const le=Le(ee.serialized_type);let xe=JSON.parse(ee.serialized_value);return le.startsWith("type")&&(xe=Le(ee.serialized_value)),{key:ee.key,value:{type:le,value:xe}}}f.value=K.options.map(ee=>Q(ee)),m.value=K.inputs.map(ee=>Q(ee)),_.value=K.outputs.map(ee=>Q(ee))}function N(z){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,a.value=void 0,i.value="multiple",r.value.forEach(K=>{const V=z.indexOf(K);V===-1?z.push(K):z.splice(V,1)}),r.value=z}function $(z){k.value=z}function M(z){n.value=!0,l.value=z}function J(z){const K=E.value.find(V=>V.module+V.node_class===z);if(console.log(K),K===void 0){console.warn("Can't locate node morph target");return}a.value=K,d.value=K.node_class,u.value=K.module,f.value=K.options.map(V=>Ot(V,K.options)),m.value=K.inputs.map(V=>Ot(V,K.options)),_.value=K.outputs.map(V=>Ot(V,K.options)),n.value=!0,b.value=!0}function oe(z,K,V){n.value=!0;function Q(ee){return ee.key===K?{key:K,value:{type:ee.value.type,value:V}}:ee}if(z.toLowerCase()==="options"){let ee=function(pe){return pe.filter(ie=>Le(ie.serialized_value).startsWith("OptionRef(")).map(ie=>[ie.key,Le(ie.serialized_value).substring(10,Le(ie.serialized_value).length-1)]).filter(ie=>ie[1]===K)},le=function(pe,ie){const Te=pe.find(Oe=>Oe[0]===ie.key);if(Te){const Oe=f.value.find(ue=>ue.key===Te[1]);if(Oe){const ue=Oe.value.value;return{key:ie.key,value:fs(ue)}}}return ie};if(a.value===void 0){console.error("Cannot recover node information");return}const xe=ee(a.value.options),Ye=ee(a.value.inputs),Ve=ee(a.value.outputs);f.value=f.value.map(Q),f.value=f.value.map(pe=>le(xe,pe)),Ye.length>0&&(m.value=m.value.map(pe=>le(Ye,pe))),Ve.length>0&&(_.value=_.value.map(pe=>le(Ve,pe)))}else z.toLowerCase()==="inputs"?m.value=m.value.map(Q):z.toLowerCase()==="outputs"&&(_.value=_.value.map(Q))}function ne(){return{module:u.value,node_class:d.value,name:l.value,max_children:0,child_names:[],options:mo(f.value),inputs:[],outputs:[],version:"",state:Se.UNINITIALIZED}}return{selected_node:o,reference_node:a,selected_node_names:r,last_seletion_source:i,node_has_changed:n,copy_node_mode:k,node_is_valid:y,node_is_morphed:b,new_node_name:l,new_node_class:d,new_node_module:u,new_node_options:f,new_node_inputs:m,new_node_outputs:_,flow_control_nodes:E,is_flow_control_node:x,nodeListSelectionChange:F,editorSelectionChange:R,selectMultipleNodes:N,clearSelection:P,setNodeHasChanged:p,clearNodeHasChanged:T,changeCopyMode:$,changeNodeName:M,changeNodeClass:J,updateParamValue:oe,buildNodeMsg:ne}}),xf={class:"list-group-item"},Of={class:"d-flex w-100"},$f={class:"fs-5"},Df={class:"text-truncate"},If={class:"text-truncate text-muted ms-2 mb-2"},Cn=te({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){const e=v(!0);return(t,n)=>{const o=Ee("font-awesome-icon");return h(),C("div",xf,[c("div",Of,[c("div",$f,U(t.title),1),H(o,{icon:"fa-solid "+(e.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:n[0]||(n[0]=()=>e.value=!e.value)},null,8,["icon"])]),e.value?(h(!0),C(ae,{key:0},_e(t.io_node_data,a=>(h(),C(ae,{key:t.title+a.key},[c("div",Df,U(a.key),1),c("div",If,U(g(Le)(a.serialized_value)),1)],64))),128)):de("",!0)])}}}),Lf={class:"d-flex w-100"},Rf={class:"text-truncate fs-4"},Pf={class:"text-muted mx-2 my-auto"},Mf={class:"text-muted"},Ff={key:0,class:"mt-3"},Vf={class:"list-group"},Uf={key:0,class:"list-group-item"},jf={class:"d-flex w-100"},Hf={key:0},Wf=te({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=fe(),n=ge(),o=X(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),a=X(()=>o.value?"border-primary":"grab"),r=X(()=>e.node.max_children>0?"fa-link":e.node.max_children===0?"fa-leaf":"fa-network-wired"),i=v(!1),l=v(!0);function d(){console.log("click "+e.node.name),n.nodeListSelectionChange(e.node)}return(u,f)=>{const m=Ee("font-awesome-icon");return h(),C("div",{class:be(["border rounded p-2 m-2",a.value]),tabindex:"0",onClick:d,onMousedown:f[2]||(f[2]=Ln(()=>g(t).startDraggingNewNode(u.node),["stop","prevent"])),onKeydown:f[3]||(f[3]=Ie(_=>g(n).nodeListSelectionChange(u.node),["enter"]))},[c("div",Lf,[c("div",Rf,U(u.node.node_class),1),c("div",Pf,[H(m,{icon:"fa-solid "+r.value},null,8,["icon"]),re(" "+U(u.node.max_children>0?"("+u.node.max_children+")":""),1)]),H(m,{icon:"fa-solid "+(i.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto p-1",onClick:f[0]||(f[0]=Ln(()=>i.value=!i.value,["stop"]))},null,8,["icon"])]),c("div",Mf,U(u.node.module),1),i.value?(h(),C("div",Ff,[c("div",Vf,[g(zs)(u.node.doc)!==""?(h(),C("div",Uf,[c("div",jf,[f[4]||(f[4]=c("div",{class:"fs-5"}," Description ",-1)),H(m,{icon:"fa-solid "+(l.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:f[1]||(f[1]=()=>l.value=!l.value)},null,8,["icon"])]),l.value?(h(),C("div",Hf,U(g(zs)(u.node.doc)),1)):de("",!0)])):de("",!0),u.node.options.length>0?(h(),q(Cn,{key:1,title:"Options",io_node_data:u.node.options},null,8,["io_node_data"])):de("",!0),u.node.inputs.length>0?(h(),q(Cn,{key:2,title:"Inputs",io_node_data:u.node.inputs},null,8,["io_node_data"])):de("",!0),u.node.outputs.length>0?(h(),q(Cn,{key:3,title:"Outputs",io_node_data:u.node.outputs},null,8,["io_node_data"])):de("",!0)])])):de("",!0)],34)}}});const kt=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},Bf=kt(Wf,[["__scopeId","data-v-74e5961d"]]),Kf={class:"border rounded m-1 pb-2 d-flex flex-column"},zf={key:0,class:"scroll-col flex-shrink-1"},Gf=te({__name:"NodeList",setup(s){const e=v(!1),t=Jt(),n=function(r,i){return r.node_class<i.node_class?-1:r.node_class>i.node_class?1:0},o=function(r,i){return r.module<i.module?-1:r.module>i.module?1:n(r,i)},a=X(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let r=[...t.nodes].sort(n);return r=r.sort(o),r}});return(r,i)=>{const l=Ee("font-awesome-icon");return h(),C("div",Kf,[c("div",{onClick:i[0]||(i[0]=d=>e.value=!e.value),class:"text-center cursor-pointer m-2"},[i[1]||(i[1]=re(" Node List ")),H(l,{icon:"fa-solid "+(e.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),e.value?de("",!0):(h(),C("div",zf,[(h(!0),C(ae,null,_e(a.value,d=>(h(),q(Bf,{key:d.node_class+d.module,node:d},null,8,["node"]))),128))]))])}}});const Yf=kt(Gf,[["__scopeId","data-v-86f3c94f"]]),qf={class:"input-group my-2"},Xf=["value"],Qf={label:"Subtrees"},Jf=["value"],Zf=["checked"],fa="publish_subtrees",ep=te({__name:"SelectSubtree",setup(s){const e=fe(),t=ve();function n(r){const i=r.target;if(!t.connected){L({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}t.set_publish_subtrees_service.callService({data:i.checked},l=>{l.success?(L({title:(i.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(i.checked)):L({title:"Failed to toggle subtree publishing",text:l.message,type:"warn"})},l=>{L({title:"Failed to call setPublishSubtrees service",text:l,type:"error"})})}function o(r){const i=r.target,l=parseInt(i.value);l<0?e.selectSubtree("",!1):e.selectSubtree(e.subtree_names[l],!0)}const a=X(()=>e.selected_subtree.is_subtree?e.selected_subtree.name:"main");return(r,i)=>{const l=Ee("font-awesome-icon");return h(),C("div",qf,[i[1]||(i[1]=c("label",{class:"input-group-text",for:"formTree"}," Tree ",-1)),c("select",{id:"formTree",class:"form-select",value:g(e).subtree_names.indexOf(a.value),onChange:o},[i[0]||(i[0]=c("option",{value:"-1"},"Main Tree",-1)),c("optgroup",Qf,[(h(!0),C(ae,null,_e(g(e).subtree_names,(d,u)=>(h(),C("option",{key:d,value:u},U(d),9,Jf))),128))])],40,Xf),c("input",{type:"checkbox",id:fa,class:"btn-check",autocomplete:"off",checked:g(e).publish_subtrees,onChange:n},null,40,Zf),c("label",{class:"btn btn-primary",for:fa,title:"Publish subtrees"},[H(l,{class:be(g(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])}}});function rs(s,e,t,n=!0,o=!0){const a=ve();let r;return o?r=L:r=i=>console.log(i),new Promise((i,l)=>{a.add_node_at_index_service.callService({parent_name:e,node:s,allow_rename:n,new_child_index:t},d=>{d.success?(r({title:"Added node "+d.actual_node_name,type:"success"}),i(d.actual_node_name)):(r({title:"Failed to add node "+s.name,text:d.error_message,type:"warn"}),l(d.error_message))},d=>{r({title:"Failed to call addNodeAtIndex service",text:d,type:"error"}),l(d)})})}function $t(s,e,t,n=!0){const o=ve();let a;return n?a=L:a=r=>console.log(r),new Promise((r,i)=>{o.move_node_service.callService({node_name:s,new_parent_name:e,new_child_index:t},l=>{l.success?(a({title:"Moved node "+s,type:"success"}),r()):(a({title:"Failed to move node "+s,text:l.error_message,type:"warn"}),i(l.error_message))},l=>{a({title:"Failed to call moveNode service",text:l,type:"error"}),i(l)})})}function Br(s,e,t=!0){const n=ve();let o;return t?o=L:o=a=>console.log(a),new Promise((a,r)=>{n.remove_node_service.callService({node_name:s,remove_children:e},i=>{i.success?(o({title:"Removed node",type:"success"}),a()):(o({title:"Failed to remove node",text:i.error_message,type:"warn"}),r(i.error_message))},i=>{o({title:"Failed to call removeNode service",text:i,type:"error"}),r(i)})})}function pa(s,e,t=!0){const n=ve();let o;return t?o=L:o=a=>console.log(a),new Promise((a,r)=>{n.replace_node_service.callService({old_node_name:s,new_node_name:e},i=>{i.success?(o({title:"Replaced node "+s,text:"with node "+e,type:"success"}),a()):(o({title:"Failed to replace node",text:i.error_message,type:"warn"}),r(i.error_message))},i=>{o({title:"Failed to call ReplaceNode service",text:i,type:"error"}),r(i)})})}const tp=["visibility"],sp=["href"],np=["href"],op=["href"],ap=["visibility"],rp=["fill"],ip=30,Ue=50,xs=10,je=15,ss=10,va=20,lp=50,cp=.02,Nn=5,xn=1e-4,He="__forest_root",rt=80,ha=150,Os="node",ns="btnode",ma="node_name",ga="class_name",ya="icon",ba="link",$s="drop_target",os="gripper-group",Ea="gripper",Dt="label",wa="label-type",Ds="data-link",Ta="hightlightEdge",On="highlightV1",ka="highlightV2",It="data-hover",$n="compatible",up="node-selected",Is="data-select",dp=te({__name:"D3BehaviorTreeEditor",setup(s){const e=fe(),t=ge(),n=ve(),o=v(),a=v(),r=v(),i=v(),l=v(),d=v(),u=v(),f=v(),m=v(),_=v();let y,b=!1,E=!1,x=0,k=0;const p=v([]);let T,P=[0,0],F;function R(){if(o.value===void 0||a.value===void 0||y===void 0){L({title:"Element reference undefined!",type:"error"});return}const S=se(o.value),A=S.node().getBoundingClientRect().height;S.call(y.translateTo,0,A*.5-10)}function N(S){const A=S.options.map(w=>({key:w.key,value:fs(Le(w.serialized_value),S.options)}));return{module:S.module,node_class:S.node_class,name:S.name,options:mo(A),child_names:[],inputs:[],outputs:[],version:"",max_children:0,state:Se.UNINITIALIZED}}function $(){if(o.value===void 0)return;if(!e.is_dragging){T!==void 0&&(window.clearInterval(T),P=[]);return}const S=o.value.getBoundingClientRect().width,A=o.value.getBoundingClientRect().height,w=Es(o.value);let D=!1;if(P=[0,0],w[0]<Ue){D=!0;const I=(Ue-w[0])/Ue;P[0]=xs*I}else if(w[0]>S-Ue){D=!0;const I=(Ue-(S-w[0]))/Ue;P[0]=-1*xs*I}if(w[1]<Ue){D=!0;const I=(Ue-w[1])/Ue;P[1]=xs*I}else if(w[1]>A-Ue){D=!0;const I=(Ue-(A-w[1]))/Ue;P[1]=-1*xs*I}if(!D&&T!==void 0){window.clearInterval(T),T=void 0;return}T===void 0&&(T=window.setInterval(M,1e3/ip))}function M(){if(!e.is_dragging&&T){window.clearInterval(T),T=void 0;return}se(o.value).call(y.translateBy,P[0],P[1])}as(J);function J(){if(r.value===void 0){console.warn("DOM is broken");return}if(e.current_tree===void 0){console.warn("Nothing to draw");return}F=di().duration(100).ease(_i);const S=G=>({key:G.key,serialized_type:G.serialized_type}),A=e.current_tree.nodes.map(G=>({node_class:G.node_class,module:G.module,name:G.name,state:G.state,max_children:G.max_children,child_names:G.child_names,options:G.options.map(S),inputs:G.inputs.map(S),outputs:G.outputs.map(S),size:{width:1,height:1}})),w={node_class:"",module:"",state:Se.UNASSIGNED,max_children:-1,name:He,child_names:[],inputs:[],outputs:[],options:[],size:{width:0,height:0}};A.findIndex(G=>G.name===He)<0&&A.push(w);const D={};for(const G in A){const he=A[G];for(const ye in he.child_names)D[he.child_names[ye]]=he.name}const I=fi().id(G=>G.name).parentId(G=>G.name in D?D[G.name]:G.name===w.name?void 0:(w.child_names.push(G.name),w.name))(A);I.sort(function(G,he){if(G.depth!==he.depth)return he.depth-G.depth;for(;G.parent!==he.parent;)G=G.parent,he=he.parent;const ye=G.parent.data.child_names;return ye.findIndex(At=>At===G.data.name)-ye.findIndex(At=>At===he.data.name)});const Z=se(r.value).selectAll("."+Os).data(I.descendants().filter(G=>G.data.name!==He),G=>G.id).join(oe).call(z).call(K),ce=V(Z,I);Q(ce),ee(ce),ie(ce,e.current_tree.data_wirings)}function oe(S){const A=S.append("foreignObject").classed(Os,!0).classed("node--internal",D=>D.children!==void 0&&D.children.length>0).classed("node--leaf",D=>D.children===void 0||D.children.length==0).on("click.select",D=>{qe.shiftKey?t.selectMultipleNodes([D.data.name]):t.editorSelectionChange(D.data.name),qe.stopPropagation()});e.selected_subtree.is_subtree||A.on("mousedown.dragdrop",D=>{e.startDraggingExistingNode(D),qe.stopPropagation()});const w=A.append("xhtml:body").classed(ns,!0);return w.append("svg").classed(ya,!0).style("float","right").append("path").attr("fill","currentColor"),w.append("h4").classed(ma,!0),w.append("h5").classed(ga,!0),A}function ne(S){switch(S){case Se.RUNNING:return Fa.icon;case Se.IDLE:return Ma.icon;case Se.SUCCEEDED:return Pa.icon;case Se.FAILED:return Ra.icon;case Se.SHUTDOWN:default:return La.icon}}function z(S){const A=S.select("."+ns);A.select("."+ma).html(D=>D.data.name),A.select("."+ga).html(D=>D.data.node_class),A.select("."+ya).attr("viewBox",D=>{const I=ne(D.data.state);return"0 0 "+I[0]+" "+I[1]}).select("path").attr("d",D=>{const I=ne(D.data.state);return typeof I[4]=="string"?I[4]:(console.warn("Potentially unhandled multivalue path",I[4]),I[4].join(""))}),A.style("min-height",D=>{const I=D.data.inputs||[],W=D.data.outputs||[],Z=Math.max(I.length,W.length);return je*Z+ss*(Z+1)+"px"});const w=pi(o.value).k;return A.each(function(D){const I=this.getBoundingClientRect();D.data.size.width=I.width/w,D.data.size.height=I.height/w}),S.transition(F).attr("width",D=>D.data.size.width).attr("height",D=>D.data.size.height),S}function K(S){S.select("."+ns).transition(F).style("border-color",A=>{switch(A.data.state){case Se.RUNNING:return"var(--node-color-running)";case Se.IDLE:return"var(--node-color-idle)";case Se.SUCCEEDED:return"var(--node-color-succeeded)";case Se.FAILED:return"var(--node-color-failed)";case Se.SHUTDOWN:return"var(--node-color-shutdown)";case Se.UNINITIALIZED:default:return"var(--node-color-default)"}})}function V(S,A){const w=Array(A.height+1).fill(0);S.each(I=>{w[I.depth]=Math.max(I.data.size.height,w[I.depth])});const D=vi({nodeSize:I=>{let W;return e.is_layer_mode?W=w[I.depth]:W=I.data.size.height,W+=I.depth>0?rt:0,[I.data.size.width,W]},spacing:(I,W)=>e.is_layer_mode?rt:I.parent!==W.parent?2*rt:rt})(A);return S.data(D.descendants().filter(I=>I.data.name!==He),I=>I.id).transition(F).attr("x",I=>I.x-I.data.size.width/2).attr("y",I=>I.y),D}function Q(S){if(i.value===void 0){console.warn("DOM is broken");return}se(i.value).selectAll("."+ba).data(S.links().filter(A=>A.source.data.name!==He),A=>A.source.id+"###"+A.target.id).join("path").classed(ba,!0).transition(F).attr("d",hi().source(A=>{const w=A.source;return[w.x,w.y+w.data.size.height]}).target(A=>{const w=A.target;return[w.x,w.y]}))}function ee(S){if(f.value===void 0){console.warn("DOM is broken");return}const A=[];e.selected_subtree.is_subtree||S.each(w=>{w.data.name!==He&&(A.push({node:w,position:Y.LEFT}),A.push({node:w,position:Y.CENTER}),A.push({node:w,position:Y.RIGHT}),A.push({node:w,position:Y.TOP}),(w.data.max_children===-1||w.data.max_children>w.data.child_names.length)&&A.push({node:w,position:Y.BOTTOM}))}),A.length===0&&(S.data.size.width=ha,S.data.size.height=ha,A.push({node:S,position:Y.BOTTOM})),se(f.value).selectAll("."+$s).data(A,w=>w.node.id+"###"+w.position).join("rect").classed($s,!0).attr("width",w=>{switch(w.position){case Y.LEFT:case Y.RIGHT:return rt;case Y.TOP:case Y.BOTTOM:case Y.CENTER:return w.node.data.size.width;default:return 0}}).attr("height",w=>{switch(w.position){case Y.LEFT:case Y.RIGHT:case Y.CENTER:return w.node.data.size.height;case Y.TOP:case Y.BOTTOM:return .45*rt;default:return 0}}).attr("x",w=>{switch(w.position){case Y.LEFT:return w.node.x-rt-.5*w.node.data.size.width;case Y.RIGHT:return w.node.x+.5*w.node.data.size.width;case Y.TOP:case Y.BOTTOM:case Y.CENTER:return w.node.x-.5*w.node.data.size.width;default:return 0}}).attr("y",w=>{switch(w.position){case Y.LEFT:case Y.RIGHT:case Y.CENTER:return w.node.y;case Y.TOP:return w.node.y-.5*rt;case Y.BOTTOM:return w.node.y+w.node.data.size.height;default:return 0}}).attr("opacity",.2).on("mouseover.highlight",function(){se(this).attr("opacity",.8)}).on("mouseout.highlight",function(){se(this).attr("opacity",.2)}).on("mouseup.dragdrop",w=>{e.dragging_new_node?Ve(w):e.dragging_existing_node?xe(w):console.warn("Unintended drag release")})}function le(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}async function xe(S){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const A=e.dragging_existing_node.data.name;if(!S.node.parent){console.error("A tree with an existing node should never show the root target");return}if(S.position===Y.BOTTOM){await $t(A,S.node.data.name,0);return}if(S.position===Y.LEFT||S.position===Y.RIGHT){let w=S.node.parent.data.name;w===He&&(w="");let D=S.node.parent.children.indexOf(S.node);S.position===Y.RIGHT&&D++,w===e.dragging_existing_node.parent.data.name&&D>S.node.parent.children.findIndex(I=>I.data.name===A)&&D--,await $t(A,w,D);return}if(S.position===Y.TOP){let w=S.node.parent.data.name;w===He&&(w="");let D=S.node.parent.children.indexOf(S.node);w===e.dragging_existing_node.parent.data.name&&D>S.node.parent.children.findIndex(I=>I.data.name===A)&&D--,await $t(S.node.data.name,A,-1),await $t(A,w,D);return}if(S.position===Y.CENTER){await pa(S.node.data.name,A);return}console.warn("Couldn't identify drop target position, this should never happen")}as(Ye);function Ye(){if(f.value===void 0){console.warn("DOM is broken");return}const S=se(f.value).selectAll("."+$s).attr("visibility",null);e.dragging_existing_node!==void 0&&(S.filter(A=>e.dragging_existing_node.descendants().find(w=>w.data.name===A.node.data.name)!==void 0).attr("visibility","hidden"),S.filter(A=>{switch(A.position){case Y.CENTER:return e.dragging_existing_node.data.max_children!==-1&&A.node.data.child_names.length+e.dragging_existing_node.data.child_names.length>e.dragging_existing_node.data.max_children;case Y.TOP:return e.dragging_existing_node.data.max_children!==-1&&e.dragging_existing_node.data.child_names.length>=e.dragging_existing_node.data.max_children;case Y.BOTTOM:return A.node.data.max_children!==-1&&A.node.data.name!==e.dragging_existing_node.parent.data.name&&A.node.data.child_names.length>=A.node.data.max_children;case Y.LEFT:case Y.RIGHT:return A.node.parent.data.max_children!==-1&&A.node.parent.data.name!==e.dragging_existing_node.parent.data.name&&A.node.parent.data.child_names.length>=A.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden"))}async function Ve(S){if(e.dragging_new_node===void 0){console.warn("Tried to add new node by dragging but none selected");return}const A=N(e.dragging_new_node);if(S.position===Y.BOTTOM){let w=S.node.data.name;w===He&&(w=""),await rs(A,w,0);return}if(!S.node.parent){console.error("All non-root targets should have a set parent node");return}if(S.position===Y.LEFT||S.position===Y.RIGHT){let w=S.node.parent.data.name;w===He&&(w="");let D=S.node.parent.children.indexOf(S.node);S.position===Y.RIGHT&&D++,await rs(A,w,D);return}if(S.position===Y.TOP){let w=S.node.parent.data.name;w===He&&(w="");let D=S.node.parent.children.indexOf(S.node);const I=await rs(A,"",-1);await $t(S.node.data.name,I,0),await $t(I,w,D);return}if(S.position===Y.CENTER){const w=await rs(A,"",-1);await pa(S.node.data.name,w);return}console.warn("Couldn't identify drop target position, this should never happen")}as(pe);function pe(){if(f.value===void 0){console.warn("DOM is broken");return}const S=se(f.value).selectAll("."+$s).attr("visibility",null);e.dragging_new_node!==void 0&&S.filter(A=>{switch(A.position){case Y.CENTER:return e.dragging_new_node.max_children!==-1&&A.node.data.child_names.length>e.dragging_new_node.max_children;case Y.TOP:return e.dragging_new_node.max_children===0;case Y.BOTTOM:return A.node.data.max_children!==-1&&A.node.data.child_names.length>=A.node.data.max_children;case Y.LEFT:case Y.RIGHT:return A.node.parent.data.max_children!==-1&&A.node.parent.data.child_names.length>=A.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden")}function ie(S,A){if(l.value===void 0||u.value===void 0){console.warn("DOM is broken");return}const w=[];S.each(I=>{I.data.name!==He&&(I.data.inputs.map((W,Z)=>{w.push({node:I,index:Z,kind:$e.INPUT,key:W.key,type:W.serialized_type,x:I.x-I.data.size.width*.5-je,y:I.y+ss+Z*(je+ss)})}),I.data.outputs.map((W,Z)=>{w.push({node:I,index:Z,kind:$e.OUTPUT,key:W.key,type:W.serialized_type,x:I.x+I.data.size.width*.5,y:I.y+ss+Z*(je+ss)})}))});const D=se(u.value).selectAll("."+os).data(w,I=>I.node.id+"###"+I.kind+"###"+I.index).join(Te);D.select("."+Dt).select("."+wa).text(I=>"(type: "+Le(I.type)+")"),e.selected_subtree.is_subtree||D.select("."+Ea).on("mousedown.drawedge",I=>{e.startDrawingDataEdge(I)}).on("mouseup.drawedge",I=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!_a(I,e.data_edge_endpoint)){console.warn("Invalid edge");return}I.kind===$e.INPUT?St(e.data_edge_endpoint,I):St(I,e.data_edge_endpoint)}),D.transition(F).attr("transform",I=>"translate("+I.x+", "+I.y+")"),Oe(w,D,A)}function Te(S){const A=S.append("g").classed(os,!0).on("mouseover.highlight",function(){if(e.is_dragging){const D=se(this).classed($n);se(this).classed(It,D)}else se(this).classed(It,!0).attr("id",On).select("."+Dt).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?se(this).classed(It,!1):se(this).classed(It,!1).attr("id",null).select("."+Dt).attr("visibility","hidden")});return A.append("rect").classed(Ea,!0).attr("width",je).attr("height",je),A.append("text").classed(Dt,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",D=>D.kind===$e.INPUT?"end":"start").text(D=>D.key).attr("x",D=>{switch(D.kind){case $e.INPUT:return-5;case $e.OUTPUT:return je+5;case $e.OTHER:default:return 0}}).attr("y",.5*je).append("tspan").classed(wa,!0).attr("x",function(){return se(this.parentElement).attr("x")}).attr("dy","1em"),A}function Oe(S,A,w){if(l.value===void 0||u.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const D=[];function I(W,Z){return W.node_name===Z.node.data.name&&W.data_kind===Z.kind&&W.data_key===Z.key}w.forEach(W=>{const Z=S.find(G=>I(W.source,G)),ce=S.find(G=>I(W.target,G));if(Z===void 0||ce===void 0){console.warn("Bad data edge",Z,ce);return}Z.kind===$e.INPUT?D.push({source:ce,target:Z,wiring:W}):D.push({source:Z,target:ce,wiring:W})}),se(d.value).selectAll("."+Ds).data(D,W=>W.source.node.id+"###"+W.source.kind+"###"+W.source.index+"#####"+W.target.node.id+"###"+W.target.kind+"###"+W.target.index).join("path").classed(Ds,!0).on("click.select",W=>{e.selectEdge(W.wiring),qe.stopPropagation()}).on("mouseover.highlight",function(W){e.is_dragging||(A.filter(Z=>Z===W.source||Z===W.target).dispatch("mouseover").attr("id",Z=>Z.kind===$e.INPUT?ka:On).select("."+Dt).attr("visibility",Z=>Z.kind===$e.INPUT?"hidden":"visible"),se(this).classed(It,!0).attr("id",Ta))}).on("mouseout.highlight",function(W){e.is_dragging||(A.filter(Z=>Z===W.source||Z===W.target).dispatch("mouseout"),se(this).classed(It,!1).attr("id",null))}).transition(F).attr("d",W=>ue(W.source,W.target))}function ue(S,A){const w=mi().x(ce=>ce.x+je/2).y(ce=>ce.y+je/2).curve(gi.alpha(.9));let D=0;Math.abs(S.y-A.y)<lp&&(D=Math.min(S.y,A.y)-cp*Math.abs(S.x-A.x));const I={x:S.x+va,y:S.y},W={x:A.x-va,y:A.y},Z={x:(S.x+A.x)/2,y:D||(S.y+A.y)/2};if(S.x>A.x)if(D===0)I.y+=xn*(A.y-S.y)+Math.sign(A.y-S.y)*Nn,W.y+=xn*(S.y-A.y)+Math.sign(S.y-A.y)*Nn;else{const ce=Nn+xn*Math.abs(S.x-A.x);I.y-=ce,Z.y-=ce*4,W.y-=ce}return w([S,I,Z,W,A])}as(Ze);function Ze(){if(u.value===void 0||m.value===void 0){console.warn("DOM is broken");return}const S=se(u.value).selectAll("."+os).classed($n,!1);S.select("."+Dt).attr("visibility","hidden");const A=se(m.value).attr("d",null);e.data_edge_endpoint!==void 0&&(S.filter(w=>_a(w,e.data_edge_endpoint)).classed($n,!0),A.attr("d",()=>ue(e.data_edge_endpoint,e.data_edge_endpoint)))}function St(S,A){n.wire_data_service.callService({wirings:[{source:{node_name:S.node.data.name,data_kind:S.kind,data_key:S.key},target:{node_name:A.node.data.name,data_kind:A.kind,data_key:A.key}}],ignore_failure:!1},w=>{w.success?L({title:"Added data edge",type:"success"}):L({title:"Failed to add data edge",text:w.error_message,type:"warn"})},w=>{L({title:"Failed to call dataWiring service",text:w,type:"error"})})}us(()=>[t.selected_node_names,p.value],()=>rn());function rn(){if(r.value===void 0){console.warn("DOM is broken");return}const S=t.selected_node_names.filter(D=>!p.value.includes(D)),A=p.value.filter(D=>!t.selected_node_names.includes(D)),w=S.concat(A);se(r.value).selectAll("."+Os).select("."+ns).classed(up,D=>w.includes(D.data.name))}us(()=>e.selected_edge,()=>{Zt()});function Zt(){if(d.value===void 0||u.value===void 0){console.warn("DOM is broken");return}const S=se(d.value),A=se(u.value);if(S.selectAll("."+Ds).classed(Is,!1),A.selectAll("."+os).classed(Is,!1),e.selected_edge!==void 0){const w=S.selectAll("."+Ds).filter(D=>D.wiring===e.selected_edge).classed(Is,!0).datum();A.selectAll("."+os).filter(D=>D===w.source||D===w.target).classed(Is,!0)}}return ps(()=>{if(o.value===void 0||a.value===void 0){L({title:"Element reference undefined!",type:"error"});return}const S=se(o.value);y=ui(),y.scaleExtent([.3,1]);const A=se(a.value);S.call(y.on("zoom",function(){A.attr("transform",qe.transform)})),y.filter(function(){return!qe.shiftKey&&(!e.is_dragging||qe.type==="wheel")}),R(),S.on("mousemove.pan_if_drag",$),S.on("click.unselect",()=>{qe.shiftKey||(t.clearSelection(),e.unselectEdge())}),b=!1,E=!1,S.on("mousedown.drawselect",()=>{if(a.value===void 0){console.warn("DOM is broken");return}if(qe.shiftKey){b=!0;const[w,D]=Es(a.value);x=w,k=D}}),S.on("mousemove.drawselect",()=>{if(a.value===void 0||r.value===void 0||_.value===void 0){console.warn("DOM is broken");return}if(qe.shiftKey&&b){E=!0;const w=se(_.value),[D,I]=Es(a.value),W=Math.min(D,x),Z=Math.min(I,k),ce=Math.abs(D-x),G=Math.abs(I-k);w.attr("x",W).attr("y",Z),w.attr("width",ce).attr("height",G);let he=[];se(r.value).selectAll("."+Os).select("."+ns).each(ye=>{ye.x-ye.data.size.width/2>=W&&ye.x+ye.data.size.width/2<=W+ce&&ye.y>=Z&&ye.y+ye.data.size.height<=Z+G&&he.push(ye.data.name)}),p.value=he}}),S.on("mouseup.drawselect",()=>{if(r.value===void 0||_.value===void 0){console.warn("DOM is broken");return}b&&E&&(b=!1,E=!1,se(_.value).attr("width",0).attr("height",0),t.selectMultipleNodes(p.value),p.value=[])}),S.on("mousemove.drawedge",()=>{if(a.value===void 0||m.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[w,D]=Es(a.value),I={x:w-je/2,y:D-je/2};se(m.value).attr("d",()=>e.data_edge_endpoint.kind===$e.INPUT?ue(I,e.data_edge_endpoint):ue(e.data_edge_endpoint,I))}),S.on("mouseup.drawedge",()=>{if(m.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),se(m.value).attr("d",null)})}),(S,A)=>(h(),C("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:be(["reactive-svg",g(e).skin])},[c("g",{id:"container",ref_key:"svg_g_ref",ref:a},[c("g",{class:"edges",ref_key:"g_edges_ref",ref:i},null,512),c("g",{class:"vertices",ref_key:"g_vertices_ref",ref:r},null,512),c("g",{class:"data_graph",ref_key:"g_data_graph_ref",ref:l,visibility:g(e).show_data_graph?"visible":"hidden"},[c("g",{class:"data_edges",ref_key:"g_data_edges_ref",ref:d},null,512),c("g",{class:"data_vertices",ref_key:"g_data_vertices_ref",ref:u},null,512),c("use",{href:"#"+On,"pointer-events":"none"},null,8,sp),c("use",{href:"#"+ka,"pointer-events":"none"},null,8,np),c("use",{href:"#"+Ta,"pointer-events":"none"},null,8,op)],8,tp),c("g",{class:"drop_targets",ref_key:"g_drop_targets_ref",ref:f,visibility:le()},null,8,ap),c("path",{class:"drawing-indicator",ref_key:"draw_indicator_ref",ref:m},null,512),c("rect",{class:"selection",ref_key:"selection_rect_ref",ref:_},null,512)],512),c("text",{x:"10",y:"20",fill:g(e).skin===g(Ws).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:R}," Reset View ",8,rp)],2))}});const _p={class:"d-flex flex-column"},fp={class:"btn-group d-flex mb-2",role:"group"},pp={class:"d-flex justify-content-between align-items-center mb-3"},vp={class:""},hp={class:"text-primary"},mp={class:""},gp={class:"text-primary"},yp=te({__name:"BehaviorTreeEdge",setup(s){const e=ve(),t=fe(),n=ge();function o(){const i=t.selected_edge;e.unwire_data_service.callService({wirings:[{source:i.source,target:i.target}]},l=>{l.success?(L({title:"Removed data edge: "+i.source+" -> "+i.target+"!",type:"success"}),t.unselectEdge()):L({title:"Failed to remove data edge: "+i.source+" -> "+i.target+"!",text:l.error_message,type:"error"})})}function a(){n.editorSelectionChange(t.selected_edge.source.node_name)}function r(){n.editorSelectionChange(t.selected_edge.target.node_name)}return(i,l)=>(h(),C("div",_p,[c("div",fp,[c("button",{class:"btn btn-danger w-100",onClick:l[0]||(l[0]=()=>o())},"Delete Edge")]),c("div",pp,[c("div",vp,[c("button",{class:"btn btn-outline-contrast",onClick:l[1]||(l[1]=()=>a())},[c("span",hp,U(g(t).selected_edge.source.node_name),1),l[3]||(l[3]=c("br",null,null,-1)),re(" "+U(g(t).selected_edge.source.data_kind),1),l[4]||(l[4]=c("br",null,null,-1)),re(" "+U(g(t).selected_edge.source.data_key),1)])]),l[7]||(l[7]=c("hr",{class:"flex-fill connector"},null,-1)),c("div",mp,[c("button",{class:"btn btn-outline-contrast",onClick:l[2]||(l[2]=()=>r())},[c("span",gp,U(g(t).selected_edge.target.node_name),1),l[5]||(l[5]=c("br",null,null,-1)),re(" "+U(g(t).selected_edge.target.data_kind),1),l[6]||(l[6]=c("br",null,null,-1)),re(" "+U(g(t).selected_edge.target.data_key),1)])])])]))}});const bp=kt(yp,[["__scopeId","data-v-81e043b9"]]),Ep={class:"fs-1 mb-3 mt-4 mx-4"},wp={key:0,class:"mx-4 mb-4"},Tp={class:"input-group mb-3"},kp={class:"input-group-text"},Sp=["disabled","placeholder"],Ap={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},Cp=["onClick"],Np={key:1},xp={class:"input-group mb-3"},Op=["disabled"],$p=["onClick"],Dp={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},Ip=["onClick"],Lp={key:2},Rp={key:1},an=te({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=ve(),a=nn(),r=RegExp("config|hook|cmake|environment"),i=v(null),l=v([]),d=v(""),u=v(new Ae([],{keys:["package","path"]})),f=X(()=>{let R;return t.fromPackages?d.value===""?R=a.packages:R=a.packages_fuse.search(d.value).map(N=>N.item):d.value===""?R=l.value:R=u.value.search(d.value).map(N=>N.item),R.sort((N,$)=>N.package.localeCompare($.package))}),m=X(()=>t.fromPackages&&a.packages_available||l.value.length>0),_=v(null),y=v(null),b=v(new Ae([],{keys:["data.name"]})),E=X(()=>{var N;let R=[];return t.search_term===""?R=((N=_.value)==null?void 0:N.children)||[]:R=b.value.search(t.search_term).map($=>$.item),R=R.filter($=>{var M;switch($.data.type){case et.DIR:return t.fromPackages&&(_.value===void 0||((M=_.value)==null?void 0:M.parent)===null)?!r.test($.data.name):!0;case et.FILE:return t.file_filter===void 0?!0:t.file_filter.test($.data.name);default:return!1}}),R.sort(($,M)=>$.data.type===M.data.type?$.data.name.localeCompare(M.data.name):$.data.type===et.DIR?-1:1)});function x(){o.get_storage_folders_service.callService({},R=>{l.value=R.storage_folders.map(N=>({package:N,path:N})),u.value.setCollection(l.value)},R=>{L({title:"Failed to call GetStorageFolders service!",text:R,type:"error"})})}function k(R){_.value=yi(JSON.parse(R)),b.value.setCollection(_.value.children||[])}function p(){o.get_folder_structure_service.callService({storage_folder:i.value.package,show_hidden:!0},R=>{R.success?k(R.storage_folder_structure):L({title:"Error when calling GetFolderStructure service!",text:R.error_message,type:"warn"})},R=>{L({title:"Failed to call GetFolderStructure service!",text:R,type:"error"})})}function T(){o.get_package_structure_service.callService({package:i.value.package,show_hidden:!0},R=>{R.success?k(R.package_structure):L({title:"Error when calling GetPackageStructure service!",text:R.error_message,type:"error"})},R=>{L({title:"Failed to call GetPackageStructure service!",text:R,type:"error"})})}function P(R){R===null?(i.value=null,d.value="",_.value=null,y.value=null,n("location",""),n("select",[],!0)):(i.value=R,d.value=R.package,t.fromPackages?T():p(),n("location",R.package))}function F(R){switch(R.data.type){case et.DIR:_.value=R,b.value.setCollection(R.children||[]);break;case et.FILE:y.value=R;break}n("select",R.ancestors().slice(0,-1).reverse().map(N=>N.data.name),R.data.type===et.DIR)}return ps(()=>{t.fromPackages||x()}),(R,N)=>{const $=Ee("font-awesome-icon");return h(),C(ae,null,[c("button",{class:"btn float-end",onClick:N[0]||(N[0]=M=>n("close"))},[H($,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),c("h1",Ep,U(t.title),1),m.value?(h(),C("div",wp,[c("div",Tp,[c("span",kp,U(t.location)+": ",1),Re(c("input",{"onUpdate:modelValue":N[1]||(N[1]=M=>d.value=M),disabled:i.value!==null,type:"text",class:"form-control",placeholder:"Search "+t.location+" Name"},null,8,Sp),[[Kt,d.value]]),c("button",{onClick:N[2]||(N[2]=M=>P(null)),class:"btn btn-outline-secondary"},[H($,{icon:"fa-solid fa-xmark"})])]),i.value===null?(h(),C("div",Ap,[(h(!0),C(ae,null,_e(f.value,M=>(h(),C("button",{key:M.path,onClick:J=>P(M),class:"btn btn-outline-contrast ms-4 mb-3 text-start"},[H($,{icon:"fa-solid fa-cubes",class:"me-1"}),re(" "+U(M.package),1)],8,Cp))),128))])):_.value!==null?(h(),C("div",Np,[si(R.$slots,"default",{},()=>[N[4]||(N[4]=re("Control Buttons, Selects, ..."))]),c("div",xp,[c("button",{disabled:_.value.parent===null,onClick:N[3]||(N[3]=M=>F(_.value.parent)),class:"btn btn-outline-secondary"},[H($,{icon:"fa-solid fa-angle-up"})],8,Op),(h(!0),C(ae,null,_e(_.value.ancestors().slice(0,-1).reverse(),M=>(h(),C("button",{key:M.data.item_id,onClick:J=>F(M),class:"btn btn-outline-secondary"},U(M.data.name),9,$p))),128))]),c("div",Dp,[(h(!0),C(ae,null,_e(E.value,M=>{var J;return h(),C("button",{key:M.data.item_id,onClick:oe=>F(M),class:be(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:M.data.item_id===((J=y.value)==null?void 0:J.data.item_id)}])},[M.data.type===g(et).DIR?(h(),q($,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):de("",!0),M.data.type===g(et).FILE?(h(),q($,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):de("",!0),re(" "+U(M.data.name),1)],10,Ip)}),128))])])):(h(),C("div",Lp,"Loading content of storage location"))])):(h(),C("div",Rp,"Loading possible storage locations"))],64)}}}),Pp={class:"d-flex justify-content-between mb-3"},Mp=["disabled"],Fp=["value"],Vp={class:"input-group mb-3"},Up=te({__name:"SelectLocationModal",emits:["select","close"],setup(s,{emit:e}){const t=e,n=/\.(yaml)$/,o=v(n),a=v(""),r=v([]),i=v(!0),l=v(""),d=v(lt.ASK),u=X(()=>i.value?[...r.value,l.value].join("/"):[...r.value.slice(0,-1),l.value].join("/"));function f(m,_){r.value=m,i.value=_,_?l.value="":l.value=m[m.length-1]}return(m,_)=>(h(),q(g(Gs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ct(()=>[H(an,{location:"Folder",title:"Save Tree to Folder",onClose:_[4]||(_[4]=y=>t("close")),file_filter:o.value,search_term:l.value,onLocation:_[5]||(_[5]=y=>a.value=y),onSelect:_[6]||(_[6]=(y,b)=>f(y,b))},{default:ct(()=>[c("div",Pp,[c("button",{class:"btn btn-primary me-2",disabled:!n.test(l.value),onClick:_[0]||(_[0]=y=>t("select",a.value,u.value,d.value))}," Select ",8,Mp),Re(c("select",{"onUpdate:modelValue":_[1]||(_[1]=y=>o.value=y),class:"form-select me-2"},[c("option",{value:n},"Valid files"),_[7]||(_[7]=c("option",{value:void 0},"All files",-1))],512),[[yt,o.value]]),Re(c("select",{"onUpdate:modelValue":_[2]||(_[2]=y=>d.value=y),class:"form-select"},[(h(!0),C(ae,null,_e(Object.values(g(lt)),y=>(h(),C("option",{value:y,key:y},U(y),9,Fp))),128))],512),[[yt,d.value]])]),c("div",Vp,[_[8]||(_[8]=c("span",{class:"input-group-text"}," Name: ",-1)),Re(c("input",{"onUpdate:modelValue":_[3]||(_[3]=y=>l.value=y),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[Kt,l.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),jp={class:"d-flex flex-column"},Hp={class:"row g-2 mb-3"},Wp={class:"btn-group col-8"},Bp=["disabled"],Kp={class:"input-group mb-3"},zp=["value"],Gp=["value"],Yp={class:"d-flex flex-column"},qp={class:"input-group mb-3"},Xp=te({__name:"MultipleSelection",setup(s){const e=ve(),t=ge();let n=t.selected_node_names.join("_");n.length===0&&(n="Subtree");const o=v(n),a=v(""),r=v(""),i=v(!1),l=v(lt.ASK);async function d(){if(!window.confirm("Really delete all selected nodes ("+t.selected_node_names.join(", ")+")?"))return;const y=[];t.selected_node_names.forEach(b=>{y.push(Br(b,!1).then(()=>{t.selected_node_names=t.selected_node_names.filter(E=>E!==b)}))}),await Promise.all(y)}function u(){i.value=!0}function f(y,b,E){i.value=!1,a.value=y,r.value=b,l.value=E}function m(){e.generate_subtree_service.callService({nodes:t.selected_node_names},y=>{y.success?(L({title:"Generated subtree successfully!",type:"success"}),_(y.tree)):L({title:"Failed to generate subtree!",text:y.error_message,type:"warn"})},y=>{L({title:"Failed to call GenerateSubtree service!",text:y,type:"error"})})}function _(y){y.name=o.value;const[b,E]=Wr(l.value),x={storage_path:a.value,filepath:r.value,tree:y,allow_overwrite:b,allow_rename:E};e.save_tree_service.callService(x,k=>{if(k.success)L({title:"Successfully saved subtree!",text:k.file_path,type:"success"});else{if(l.value!==lt.ASK||k.error_message!=="Overwrite not allowed"){L({title:"Failed to save subtree!",text:k.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+a.value+"/"+r.value+"' ?")){L({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}x.allow_overwrite=!0,x.allow_rename=!1,e.save_tree_service.callService(x,p=>{p.success?L({title:"Successfully saved subtree!",text:p.file_path,type:"success"}):L({title:"Failed to save subtree!",text:p.error_message,type:"warn"})},p=>{L({title:"Failed to call SaveTree service!",text:p,type:"error"})})}},k=>{L({title:"Failed to call SaveTree service!",text:k,type:"error"})})}return(y,b)=>(h(),C(ae,null,[H(Up,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=E=>i.value=E),onClose:b[1]||(b[1]=E=>i.value=!1),onSelect:f},null,8,["modelValue"]),c("div",jp,[c("div",Hp,[c("div",Wp,[c("button",{class:"btn btn-primary",onClick:u},"Select Location"),c("button",{class:"btn btn-primary",onClick:m,disabled:a.value===""||r.value===""}," Save Subtree ",8,Bp)]),c("div",{class:"btn-group col-4"},[c("button",{class:"btn btn-danger",onClick:d},"Delete Nodes")])]),c("div",Kp,[b[3]||(b[3]=c("span",{class:"input-group-text"},"Location:",-1)),c("input",{class:"form-control overflow-x-auto",type:"text",value:a.value,placeholder:"Storage Folder","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,zp),c("input",{class:"form-control overflow-x-auto",type:"text",value:r.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Gp)]),c("div",Yp,[c("div",qp,[b[4]||(b[4]=c("span",{class:"input-group-text"},"Name:",-1)),Re(c("input",{class:"form-control",type:"text","onUpdate:modelValue":b[2]||(b[2]=E=>o.value=E),placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name"},null,512),[[Kt,o.value]])])])])],64))}}),Qp={key:0,class:"form-group"},Jp={class:"d-block"},Zp=["value","disabled"],ev={class:"mb-2 search-results"},tv=["onClick","onKeyup"],sv={key:1},nv=te({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=fe(),n=ge(),o=Qt();let a=v([]);const r=X(()=>n.new_node_options.find(k=>k.key===e.data_key)),i=X(()=>r.value===void 0?o.messages_fuse:on(r.value.value.type)[1]==="builtin"?new Ae(Ms):o.messages_fuse),l=X(()=>{if(r.value===void 0)return"";let k=r.value.value.value;return Ms.includes(k)&&(k="builtins."+k),k});let d=v(!0),u=v(!1);function f(k){if(r.value===void 0){console.error("Undefined parameter");return}let T=k.target.value||"";T=T.replace("__builtin__.","").replace("builtins.","");const P=i.value.search(T);a.value=P.map(F=>F.item),n.updateParamValue(e.category,e.data_key,T)}function m(k){n.updateParamValue(e.category,e.data_key,k),x()}function _(k){return Ms.includes(k)&&(k="builtins."+k),k.replace(/\./g,".")}function y(){n.changeCopyMode(!1),d.value=!1}function b(){d.value=!0}function E(){u.value=!0}function x(){u.value=!1}return(k,p)=>r.value!==void 0?(h(),C("div",Qp,[c("label",Jp,[re(U(r.value.key)+" ",1),c("input",{type:"text",class:"form-control mt-2",value:l.value,disabled:g(t).selected_subtree.is_subtree,onInput:f,onFocus:y,onBlur:b,onKeyup:p[0]||(p[0]=Ie(()=>{b(),x()},["esc"])),onKeydown:Ie(E,["tab"])},null,40,Zp)]),c("div",ev,[c("div",{class:be(["list-group rounded-top-0",{"d-none":g(d)&&!g(u)}]),onMouseenter:E,onMouseleave:x},[(h(!0),C(ae,null,_e(g(a),T=>(h(),C("div",{key:T,class:"list-group-item search-result",tabindex:"0",onClick:()=>m(T),onKeyup:[Ie(()=>m(T),["enter"]),Ie(x,["esc"])]},U(_(T)),41,tv))),128))],34)])])):(h(),C("div",sv,"Error loading param data"))}});const ov={class:"d-flex align-items-center justify-content-between mb-1"},av=te({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){const e=ge(),t=ve(),n=s,o=X(()=>e.new_node_options.find(_=>_.key===n.data_key)),a=v(!0),r=v();let i;const l=X(()=>o.value===void 0?!1:o.value.value.type==="dict(ros)"),d=X(()=>{if(l.value)return e.new_node_options.find(_=>_.value.type===_s)});function u(){e.changeCopyMode(!1)}function f(){if(i!==void 0)try{const _=i.get();a.value=!0,e.updateParamValue(n.category,n.data_key,_)}catch{a.value=!1}}function m(){if(d.value===void 0){console.warn("Nothing to fetch");return}const _=d.value.value.value.type_str;console.log(_),t.get_message_fields_service.callService({message_type:_},y=>{if(console.log(y),y.success){const b=JSON.parse(y.fields);i!==void 0&&i.update(b),e.updateParamValue(n.category,n.data_key,b),L({title:"Successfully loaded message fields!",text:"",type:"success"})}else L({title:"Failed to load message fields!",text:y.error_message,type:"warn"})},y=>{L({title:"Failed to call GetMessageFields service!",text:y,type:"error"})}),console.log("Sent message fields request")}return us(()=>o.value===void 0?"":o.value.value.type,()=>{i===void 0||o.value===void 0||i.update(o.value.value.value)}),ps(()=>{r.value!==void 0&&(i=new al(r.value,{mode:"code",onChange:()=>f()}),i.aceEditor.setOptions({maxLines:100}),i.aceEditor.resize(),o.value!==void 0&&i.update(o.value.value.value))}),ni(()=>{i!==void 0&&i.destroy()}),(_,y)=>{var b;return h(),C(ae,null,[c("div",ov,[c("label",null,U((b=o.value)==null?void 0:b.key),1),d.value?(h(),C("button",{key:0,class:"btn btn-primary btn-sm",onClick:m}," Fetch default message fields ")):de("",!0)]),c("div",{id:"editor",ref_key:"editor_ref",ref:r,onFocus:u},null,544)],64)}}}),rv={key:0,class:"form-group"},iv={class:"d-block"},lv=["value","disabled"],cv=["value"],uv={key:1},Sa=te({__name:"MathOperatorParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=fe(),t=ge(),n=s,o=X(()=>t.new_node_options.find(i=>i.key===n.data_key));function a(i){if(o.value===void 0){console.error("Undefined parameter");return}const l=i.target;let d=o.value.value.value;d.operator=l.value,t.updateParamValue(o.value.value.type,o.value.key,d)}const r={unary:["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"],binary:["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"]};return(i,l)=>o.value!==void 0?(h(),C("div",rv,[c("label",iv,U(o.value.key),1),c("select",{onChange:a,class:"form-select",value:o.value.value.value.operator,disabled:g(e).selected_subtree.is_subtree},[(h(!0),C(ae,null,_e(r[n.op_type],d=>(h(),C("option",{key:d,value:d},U(d),9,cv))),128))],40,lv)])):(h(),C("div",uv," Error loading param data "))}}),dv={key:0,class:"form-group"},_v={class:"d-block"},fv=["value","disabled"],pv=["value"],vv={key:1},Aa=te({__name:"MathOperandParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=fe(),t=ge(),n=s,o=X(()=>t.new_node_options.find(i=>i.key===n.data_key));function a(i){if(o.value===void 0){console.error("Undefined parameter");return}const l=i.target;let d=o.value.value.value;d.operand_type=l.value,t.updateParamValue(o.value.value.type,o.value.key,d)}const r={unary:["int","float"],binary:["int","float","bool"]};return(i,l)=>o.value!==void 0?(h(),C("div",dv,[c("label",_v,U(o.value.key),1),c("select",{onChange:a,class:"form-select",value:o.value.value.value.operand_type,disabled:g(e).selected_subtree.is_subtree},[(h(!0),C(ae,null,_e(r[n.op_type],d=>(h(),C("option",{key:d,value:d},U(d),9,pv))),128))],40,fv)])):(h(),C("div",vv," Error loading param data "))}}),hv={class:"d-flex justify-content-between mb-3"},mv=["disabled"],gv={class:"input-group"},yv=te({__name:"SelectFileModal",props:{fromPackages:{type:Boolean}},emits:["select","close"],setup(s,{emit:e}){const t=s,n=e,o=/\.(yaml)$/,a=v(o),r=v(""),i=v([]),l=v(!0),d=v(""),u=X(()=>(t.fromPackages?"package":"file")+"://"+r.value+"/"+i.value.join("/"));function f(m,_){i.value=m,l.value=_,_&&(d.value="")}return(m,_)=>(h(),q(g(Gs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ct(()=>[H(an,{onClose:_[3]||(_[3]=y=>n("close")),file_filter:a.value,"from-packages":t.fromPackages,title:"Select File from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:d.value,onLocation:_[4]||(_[4]=y=>r.value=y),onSelect:_[5]||(_[5]=(y,b)=>f(y,b))},{default:ct(()=>[c("div",hv,[c("button",{class:"btn btn-primary me-2",disabled:l.value,onClick:_[0]||(_[0]=y=>n("select",u.value))}," Select ",8,mv),Re(c("select",{"onUpdate:modelValue":_[1]||(_[1]=y=>a.value=y),class:"form-select me-2 w-50"},[c("option",{value:o},"Valid files"),_[6]||(_[6]=c("option",{value:void 0},"All files",-1))],512),[[yt,a.value]]),c("div",gv,[_[7]||(_[7]=c("span",{class:"input-group-text"}," Search: ",-1)),Re(c("input",{"onUpdate:modelValue":_[2]||(_[2]=y=>d.value=y),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[Kt,d.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),bv={key:0,class:"form-group"},Ev={class:"d-block"},wv={class:"input-group"},Tv=["value"],kv={key:1},Sv=te({__name:"FilePathParam",props:{category:{},data_key:{}},setup(s){const e=ge(),t=s,n=X(()=>e.new_node_options.find(d=>d.key===t.data_key)),o=v(!1),a=v(!1);function r(){a.value=!0,o.value=!0}function i(){a.value=!1,o.value=!0}function l(d){if(n.value===void 0){console.error("Undefined parameter");return}let u=n.value.value.value;u.path=d,e.updateParamValue(n.value.value.type,n.value.key,u),o.value=!1}return(d,u)=>{const f=Ee("font-awesome-icon");return h(),C(ae,null,[H(yv,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=m=>o.value=m),"from-packages":a.value,onClose:u[1]||(u[1]=m=>o.value=!1),onSelect:l},null,8,["modelValue","from-packages"]),n.value!==void 0?(h(),C("div",bv,[c("label",Ev,U(n.value.key),1),c("div",wv,[c("input",{type:"text",class:"form-control",value:n.value.value.value.path,disabled:""},null,8,Tv),c("button",{class:"btn btn-primary",onClick:r},[H(f,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),u[2]||(u[2]=c("span",{class:"ms-1"},"Package",-1))]),c("button",{class:"btn btn-primary",onClick:i},[H(f,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),u[3]||(u[3]=c("span",{className:"ms-1"},"File",-1))])])])):(h(),C("div",kv,"Error loading param data"))],64)}}}),Av={key:0,class:"form-group"},Cv={class:"d-block"},Nv=["value","disabled"],xv={class:"mb-2 search-results"},Ov=["onClick","onKeyup"],$v={key:1},Dn=te({__name:"RosTypeParam",props:{category:{},data_key:{},type:{}},setup(s){const e=ge(),t=fe(),n=Qt(),o=s;let a=v([]);const r=X(()=>e.new_node_options.find(x=>x.key===o.data_key)),i=X(()=>{if(r.value!==void 0&&on(r.value.value.type)[1]==="full")return n.ros_all_messages_fuse;switch(o.type){case"topic":return n.ros_topic_type_fuse;case"service":return n.ros_service_type_fuse;case"action":return n.ros_action_type_fuse;default:return}});let l=v(!0),d=v(!1);function u(x){if(r.value===void 0||i.value===void 0){console.error("Undefined parameter");return}let p=x.target.value||"";const T=i.value.search(p);a.value=T.map(P=>P.item),f(p)}function f(x){if(r.value===void 0){console.error("Undefined parameter");return}let k=r.value.value.value;k.type_str=x,e.updateParamValue(o.category,o.data_key,k)}function m(x){f(x),E()}function _(){e.changeCopyMode(!1),l.value=!1}function y(){l.value=!0}function b(){d.value=!0}function E(){d.value=!1}return(x,k)=>r.value!==void 0?(h(),C("div",Av,[c("label",Cv,[re(U(r.value.key)+" ",1),c("input",{type:"text",class:"form-control mt-2",value:r.value.value.value.type_str,disabled:g(t).selected_subtree.is_subtree,onInput:u,onFocus:_,onBlur:y,onKeyup:k[0]||(k[0]=Ie(()=>{y(),E()},["esc"])),onKeydown:Ie(b,["tab"])},null,40,Nv)]),c("div",xv,[c("div",{class:be(["list-group rounded-top-0",{"d-none":g(l)&&!g(d)}]),onMouseenter:b,onMouseleave:E},[(h(!0),C(ae,null,_e(g(a),p=>(h(),C("div",{key:p,class:"list-group-item search-result",tabindex:"0",onClick:()=>m(p),onKeyup:[Ie(()=>m(p),["enter"]),Ie(E,["esc"])]},U(p),41,Ov))),128))],34)])])):(h(),C("div",$v,"Error loading param data"))}}),Dv={key:0,class:"form-group"},Iv={class:"d-block"},Lv=["value","disabled"],Rv={class:"mb-2 search-results"},Pv=["onClick","onKeyup"],Mv={key:1},In=te({__name:"RosNameParam",props:{category:{},data_key:{},type:{}},setup(s){const e=ge(),t=fe(),n=Qt(),o=s;let a=v([]);const r=X(()=>e.new_node_options.find(p=>p.key===o.data_key)),i=X(()=>{let p;switch(o.type){case"topic":p=_s;break;case"service":p=Bs;break;case"action":p=Ks;break;default:return}return e.new_node_options.find(T=>T.value.type===p)}),l=X(()=>{switch(o.type){case"topic":return n.ros_topic_name_fuse;case"service":return n.ros_service_name_fuse;case"action":return n.ros_action_name_fuse;default:return}});let d=v(!0),u=v(!1);function f(p){if(r.value===void 0||l.value===void 0){console.error("Undefined parameter");return}let P=p.target.value||"";const F=l.value.search({name:P});a.value=F.map(R=>R.item),m(P)}function m(p){if(r.value===void 0){console.error("Undefined parameter");return}let T=r.value.value.value;T.name=p,e.updateParamValue(o.category,o.data_key,T)}function _(p){if(i.value===void 0)return;let T=i.value.value.value;T.type_str=p,e.updateParamValue(o.category,i.value.key,T)}function y(p){m(p.name),_(p.type),k()}function b(){e.changeCopyMode(!1),d.value=!1}function E(){d.value=!0}function x(){u.value=!0}function k(){u.value=!1}return(p,T)=>r.value!==void 0?(h(),C("div",Dv,[c("label",Iv,[re(U(r.value.key)+" ",1),c("input",{type:"text",class:"form-control mt-2",value:r.value.value.value.name,disabled:g(t).selected_subtree.is_subtree,onInput:f,onFocus:b,onBlur:E,onKeyup:T[0]||(T[0]=Ie(()=>{E(),k()},["esc"])),onKeydown:Ie(x,["tab"])},null,40,Lv)]),c("div",Rv,[c("div",{class:be(["list-group rounded-top-0",{"d-none":g(d)&&!g(u)}]),onMouseenter:x,onMouseleave:k},[(h(!0),C(ae,null,_e(g(a),P=>(h(),C("div",{key:P.name,class:"list-group-item search-result",tabindex:"0",onClick:()=>y(P),onKeyup:[Ie(()=>y(P),["enter"]),Ie(k,["esc"])]},[re(U(P.name),1),T[1]||(T[1]=c("br",null,null,-1)),c("small",null,U(P.type),1)],40,Pv))),128))],34)])])):(h(),C("div",Mv,"Error loading param data"))}}),Fv={key:0,class:"list-group-item"},Vv={key:0,class:"form-group"},Uv={class:"d-block"},jv={key:13,class:"form-group position-relative"},Hv={key:1},Wv=te({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=ge(),n=fe(),o=X(()=>t.new_node_options.find(u=>u.key===e.data_key)),a=X(()=>o.value===void 0?"":on(o.value.value.type)[0]),r=["int","float","bool","str","unset_optionref"],i=X(()=>{if(o.value===void 0||!r.includes(a.value))return;let u,f,m="any",_=["form-control"],y=!1,b=n.selected_subtree.is_subtree;switch(a.value){case"int":m=1;case"float":u="number",f=o.value.value.value;break;case"bool":u="checkbox",y=o.value.value.value,_=["form-check-input","d-block"];break;case"unset_optionref":b=!0;case"str":u="text",f=o.value.value.value;break;default:u="hidden";break}return{type:u,value:f,class:_,step:m,checked:y,disabled:b}});function l(u){if(o.value===void 0)return;const f=u.target;let m;switch(o.value.value.type){case"int":m=parseInt(f.value),isNaN(m)&&(m=0);break;case"float":m=parseFloat(f.value),isNaN(m)&&(m=0);break;case"bool":m=f.checked;break;default:m=f.value;break}t.updateParamValue(e.category,e.data_key,m)}function d(){t.changeCopyMode(!1)}return(u,f)=>o.value!==void 0?(h(),C("div",Fv,[i.value!==void 0?(h(),C("div",Vv,[c("label",Uv,U(o.value.key),1),c("input",Ia(i.value,{onChange:l,onFocus:d}),null,16)])):a.value==="type"?(h(),q(nv,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):a.value===g(Bn)?(h(),q(Sa,{key:2,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):a.value===g(Gn)?(h(),q(Aa,{key:3,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):a.value===g(Kn)?(h(),q(Sa,{key:4,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):a.value===g(zn)?(h(),q(Aa,{key:5,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):a.value===g(Yn)?(h(),q(Sv,{key:6,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):a.value===g(_s)?(h(),q(Dn,{key:7,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):a.value===g(qn)?(h(),q(In,{key:8,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):a.value===g(Bs)?(h(),q(Dn,{key:9,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):a.value===g(Xn)?(h(),q(In,{key:10,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):a.value===g(Ks)?(h(),q(Dn,{key:11,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):a.value===g(Qn)?(h(),q(In,{key:12,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):(h(),C("div",jv,[H(av,{category:e.category,data_key:e.data_key},null,8,["category","data_key"])]))])):(h(),C("div",Hv,"Error loading param data"))}}),Bv={key:0,class:"list-group-item"},Kv={key:0},zv={className:"text-muted"},Gv={key:1},Yv={className:"text-muted"},qv={key:2},Xv={className:"text-muted"},Qv={key:3},Jv={className:"text-muted"},Zv={class:"text-muted"},eh={key:4},th={className:"text-muted"},sh={key:1},Ca=te({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=ge(),n=X(()=>{switch(e.category){case"inputs":return t.new_node_inputs.find(o=>o.key===e.data_key);case"outputs":return t.new_node_outputs.find(o=>o.key===e.data_key);default:return}});return(o,a)=>n.value!==void 0?(h(),C("div",Bv,[n.value.value.type==="int"||n.value.value.type==="float"||n.value.value.type==="string"?(h(),C("div",Kv,[c("h5",null,[re(U(n.value.key+" ")+" ",1),c("span",zv,"(type: "+U(n.value.value.type)+")",1)]),c("span",null,U(n.value.value.value),1)])):n.value.value.type==="type"?(h(),C("div",Gv,[c("h5",null,[re(U(n.value.key+" ")+" ",1),c("span",Yv,"(type: "+U(n.value.value.type)+")",1)]),c("pre",null,U(n.value.value.value),1)])):n.value.value.type==="boolean"?(h(),C("div",qv,[c("h5",null,[re(U(n.value.key+" ")+" ",1),c("span",Xv,"(type: "+U(n.value.value.type)+")",1)]),c("pre",null,U(n.value.value.value?"True":"False"),1)])):n.value.value.type==="unset_optionref"?(h(),C("div",Qv,[c("h5",null,[re(U(n.value.key+" ")+" ",1),c("span",Jv,"(type: "+U(n.value.value.type)+")",1)]),c("pre",Zv,U(n.value.value.value),1)])):(h(),C("div",eh,[c("h5",null,[re(U(n.value.key+" ")+" ",1),c("span",th,"(type: "+U(n.value.value.type)+")",1)]),c("pre",null,U(JSON.stringify(n.value.value.value,null,2)),1)]))])):(h(),C("div",sh,"Error loading param data"))}}),nh={class:"d-flex flex-column overflow-auto pb-3",style:{"max-height":"40vh"}},oh=["value","disabled"],ah={class:"d-flex align-items-baseline mb-2"},rh={class:"text-muted"},ih={key:0},lh=["value","disabled"],ch=["value"],uh={key:0,class:"mb-3"},dh={key:0,class:"mx-2"},_h={class:"mb-3"},fh={class:"list-group"},ph={class:"mb-3"},vh={class:"list-group"},hh={className:"mb-3"},mh={class:"list-group"},Kr=te({__name:"EditableNode",setup(s){const e=fe(),t=ge(),n=v(!1);return(o,a)=>{const r=Ee("font-awesome-icon");return h(),C("div",nh,[c("input",{class:"form-control-lg mb-2",type:"text",value:g(t).new_node_name,disabled:g(e).selected_subtree.is_subtree,onFocus:a[0]||(a[0]=()=>g(t).changeCopyMode(!1)),onChange:a[1]||(a[1]=i=>g(t).changeNodeName(i.target.value))},null,40,oh),c("div",ah,[c("h4",rh,[g(t).is_flow_control_node?(h(),C("select",{key:1,class:"form-select",value:g(t).new_node_module+g(t).new_node_class,disabled:g(e).selected_subtree.is_subtree,onChange:a[2]||(a[2]=i=>g(t).changeNodeClass(i.target.value))},[(h(!0),C(ae,null,_e(g(t).flow_control_nodes,i=>(h(),C("option",{key:i.module+i.node_class,value:i.module+i.node_class},[re(U(i.node_class)+" ",1),c("small",null,"("+U(i.module)+")",1)],8,ch))),128))],40,lh)):(h(),C("div",ih,[re(U(g(t).new_node_class)+" ",1),c("small",null,"("+U(g(t).new_node_module)+")",1)]))])]),g(t).reference_node&&g(zs)(g(t).reference_node.doc)!==""?(h(),C("div",uh,[c("div",{class:"d-flex align-items-baseline cursor-pointer",onClick:a[3]||(a[3]=()=>n.value=!n.value)},[a[4]||(a[4]=c("h5",null,"Description",-1)),H(r,{icon:"fa-solid "+(n.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"ms-2"},null,8,["icon"])]),n.value?(h(),C("div",dh,U(g(zs)(g(t).reference_node.doc)),1)):de("",!0)])):de("",!0),c("div",_h,[a[5]||(a[5]=c("h5",null,"Options",-1)),c("div",fh,[(h(!0),C(ae,null,_e(g(t).new_node_options,i=>(h(),q(Wv,{key:"option_"+i.key,data_key:i.key,category:"options"},null,8,["data_key"]))),128))])]),c("div",ph,[a[6]||(a[6]=c("h5",null,"Input",-1)),c("div",vh,[(h(!0),C(ae,null,_e(g(t).new_node_inputs,i=>(h(),q(Ca,{key:"input_"+i.key,data_key:i.key,category:"inputs"},null,8,["data_key"]))),128))])]),c("div",hh,[a[7]||(a[7]=c("h5",null,"Output",-1)),c("div",mh,[(h(!0),C(ae,null,_e(g(t).new_node_outputs,i=>(h(),q(Ca,{key:"output_"+i.key,data_key:i.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),gh={class:"d-flex flex-column"},yh=["disabled"],bh={class:"pt-2 pb-2"},Eh=["disabled"],wh=["value"],Th=te({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=ge(),n=v(e.parents.length>0?e.parents[0].name:"");async function o(){if(t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}const a=await rs(t.buildNodeMsg(),n.value,-1);t.clearNodeHasChanged(),t.editorSelectionChange(a)}return(a,r)=>(h(),C("div",gh,[c("button",{class:"btn btn-block btn-primary",disabled:!g(t).node_is_valid,onClick:o}," Add to Tree ",8,yh),c("label",bh,[r[1]||(r[1]=re(" Parent ")),Re(c("select",{class:"custom-select d-block",disabled:a.parents.length===0,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i)},[(h(!0),C(ae,null,_e(a.parents,i=>(h(),C("option",{key:i.name,value:i.name},U(i.name),9,wh))),128))],8,Eh),[[yt,n.value]])]),H(Kr)]))}}),kh={class:"d-flex flex-column"},Sh={class:"row g-2 mb-3"},Ah={class:"btn-group col-4"},Ch=["disabled"],Nh={class:"btn-group col-8"},xh=["disabled"],Oh=["disabled"],$h=te({__name:"SelectedNode",setup(s){const e=ve(),t=fe(),n=ge();async function o(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&(await Br(n.selected_node.name,!1),n.clearSelection())}function a(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!0},l=>{l.success?(L({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):L({title:"Failed to remove node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function r(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_name:n.selected_node.name,rename_node:!0,new_name:n.new_node_name,options:mo(n.new_node_options)},l=>{l.success?(L({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged(),n.editorSelectionChange(n.new_node_name)):L({title:"Failed to update node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function i(){if(n.node_is_morphed){if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_name:n.selected_node.name,new_node:n.buildNodeMsg()},l=>{l.success?(L({title:"Morphed node "+n.new_node_name+" successfully!",type:"success"}),n.node_is_morphed=!1,r()):L({title:"Failed to morph node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}else r()}return(l,d)=>(h(),C("div",kh,[c("div",Sh,[c("div",Ah,[c("button",{class:"btn btn-primary",onClick:i,disabled:!g(n).node_is_valid||g(t).selected_subtree.is_subtree}," Update Node ",8,Ch)]),c("div",Nh,[c("button",{class:"btn btn-danger",onClick:o,disabled:g(t).selected_subtree.is_subtree}," Delete Node ",8,xh),c("button",{class:"btn btn-danger",onClick:a,disabled:g(t).selected_subtree.is_subtree}," Delete Node + Children ",8,Oh)])]),H(Kr)]))}}),Dh={class:"row my-2"},Ih={class:"col"},Lh={class:"input-group"},Rh=["disabled","value"],Ph=["disabled"],Mh={class:"col-auto"},Fh={class:"input-group state-display"},Vh=te({__name:"TreeNameStateDisplay",setup(s){const e=fe(),t=ve(),n=X(()=>e.current_tree!==void 0?e.current_tree.name:""),o=v(n.value),a=X(()=>e.current_tree!==void 0?e.current_tree.state:ke.EDITABLE),r=X(()=>{let u="";switch(a.value){case ke.ERROR:u="--bg-color-error";break;case ke.IDLE:u="--bg-color-idle";break;case ke.STOP_REQUESTED:u="--bg-color-stop-requested";break;case ke.TICKING:u="--bg-color-ticking";break;case ke.WAITING_FOR_TICK:u="--bg-color-waiting-for-tick";break;case ke.EDITABLE:default:u="--bg-color-default";break}return{backgroundColor:"var("+u+")"}}),i=X(()=>{let u;switch(a.value){case ke.ERROR:u="fa-exclamation";break;case ke.IDLE:u="fa-pause";break;case ke.STOP_REQUESTED:u="fa-pause";break;case ke.TICKING:u="fa-bolt";break;case ke.WAITING_FOR_TICK:u="fa-hourglass-half";break;case ke.EDITABLE:u="fa-pen";break;default:u="";break}return"fa-solid "+u});as(l);function l(){a.value===ke.ERROR&&window.alert("There has been an error while running the tree")}function d(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},u=>{u.success?L({title:"Successfully renamed tree!",text:o.value,type:"success"}):L({title:"Failed to rename tree!",text:u.error_message,type:"warn"})},u=>{L({title:"Failed to call ChangeTreeName service!",text:u,type:"error"})})}return(u,f)=>{const m=Ee("font-awesome-icon");return h(),C("div",Dh,[c("div",Ih,[c("div",Lh,[f[1]||(f[1]=c("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),c("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:g(e).selected_subtree.is_subtree,value:n.value,onInput:f[0]||(f[0]=_=>o.value=_.target.value)},null,40,Rh),c("button",{class:"btn btn-primary",disabled:g(e).selected_subtree.is_subtree,onClick:d}," Save ",8,Ph)])]),c("div",Mh,[c("div",Fh,[f[2]||(f[2]=c("label",{class:"input-group-text"}," State ",-1)),c("label",{class:"input-group-text",style:oi([r.value,{width:"12em"}])},[H(m,{icon:i.value,class:"me-2"},null,8,["icon"]),re(" "+U(a.value),1)],4)])])])}}});const Uh=kt(Vh,[["__scopeId","data-v-9a667445"]]),jh={class:"d-flex align-items-center h-100"},Hh={class:"btn-group"},Wh=te({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=fe();return(a,r)=>{const i=Ee("font-awesome-icon");return h(),C("div",jh,[c("div",Hh,[c("button",{class:"btn btn-primary",onClick:r[0]||(r[0]=l=>g(o).enableShowDataGraph(!g(o).show_data_graph)),title:"Toggle Data Graph"},[H(i,{class:be(g(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(h(),C("button",{key:0,class:"btn btn-primary btn-spaced",onClick:r[1]||(r[1]=l=>n("hide")),title:"Hide User Interface"},[H(i,{icon:"fa-solid fa-window-maximize"})])):(h(),C("button",{key:1,class:"btn btn-primary btn-spaced",onClick:r[2]||(r[2]=l=>n("show")),title:"Show User Interface"},[H(i,{icon:"fa-solid fa-window-restore"})])),c("button",{class:"btn btn-primary btn-spaced",onClick:r[3]||(r[3]=()=>g(o).is_layer_mode=!g(o).is_layer_mode),title:"Change tree layout (layers/subtrees)"},[H(i,{class:be(g(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),H(i,{class:be(g(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),c("button",{class:"btn btn-primary btn-spaced",onClick:r[4]||(r[4]=(...l)=>g(o).cycleEditorSkin&&g(o).cycleEditorSkin(...l)),title:"Change editor appearance"},[H(i,{class:be(g(o).skin===g(Ws).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),H(i,{class:be(g(o).skin===g(Ws).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),Bh={class:"d-flex justify-content-between mb-3"},Kh=["disabled"],zh=["value"],Gh={class:"input-group mb-3"},Yh=te({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=ve(),o=fe(),a=/\.(yaml)$/,r=v(a),i=v(""),l=v([]),d=v(!0),u=v(""),f=X(()=>d.value?[...l.value,u.value].join("/"):[...l.value.slice(0,-1),u.value].join("/"));function m(b,E){l.value=b,d.value=E,E?u.value="":u.value=b[b.length-1]}const _=v(lt.ASK);function y(){if(!a.test(f.value)){console.error("Path is of improper format: ",f);return}if(o.tree===void 0){console.error("No tree to save");return}const[b,E]=Wr(_.value),x={storage_path:i.value,filepath:f.value,tree:o.tree,allow_overwrite:b,allow_rename:E};n.save_tree_service.callService(x,k=>{if(k.success)L({title:"Successfully saved tree!",text:k.file_path,type:"success"}),t("close");else{if(_.value!==lt.ASK||k.error_message!=="Overwrite not allowed"){L({title:"Failed to save tree!",text:k.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+i.value+"/"+f.value+"' ?")){L({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}x.allow_overwrite=!0,x.allow_rename=!1,n.save_tree_service.callService(x,p=>{p.success?(L({title:"Successfully saved tree!",text:p.file_path,type:"success"}),t("close")):L({title:"Failed to save tree!",text:p.error_message,type:"warn"})},p=>{L({title:"Failed to call SaveTree service!",text:p,type:"error"})})}},k=>{L({title:"Failed to call SaveTree service!",text:k,type:"error"})})}return(b,E)=>(h(),q(g(Gs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ct(()=>[H(an,{location:"Folder",title:"Save Tree to Folder",onClose:E[3]||(E[3]=x=>t("close")),file_filter:r.value,search_term:u.value,onLocation:E[4]||(E[4]=x=>i.value=x),onSelect:E[5]||(E[5]=(x,k)=>m(x,k))},{default:ct(()=>[c("div",Bh,[c("button",{class:"btn btn-primary me-2",onClick:y,disabled:!a.test(u.value)}," Save ",8,Kh),Re(c("select",{"onUpdate:modelValue":E[0]||(E[0]=x=>r.value=x),class:"form-select me-2"},[c("option",{value:a},"Valid files"),E[6]||(E[6]=c("option",{value:void 0},"All files",-1))],512),[[yt,r.value]]),Re(c("select",{"onUpdate:modelValue":E[1]||(E[1]=x=>_.value=x),class:"form-select"},[(h(!0),C(ae,null,_e(Object.values(g(lt)),x=>(h(),C("option",{value:x,key:x},U(x),9,zh))),128))],512),[[yt,_.value]])]),c("div",Gh,[E[7]||(E[7]=c("span",{class:"input-group-text"}," Name: ",-1)),Re(c("input",{"onUpdate:modelValue":E[2]||(E[2]=x=>u.value=x),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[Kt,u.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),qh={class:"d-flex justify-content-between mb-3"},Xh=["disabled"],Qh={class:"input-group"},Na=te({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=ve(),a=[],r=/\.(yaml)$/,i=v(r),l=v(""),d=v([]),u=v(!0),f=v(""),m=X(()=>(t.fromPackages?"package":"file")+"://"+l.value+"/"+d.value.join("/"));function _(b,E){d.value=b,u.value=E,E&&(f.value="")}function y(){o.load_tree_from_path_service.callService({path:m.value,permissive:!1},b=>{if(b.success)L({title:"Successfully loaded tree!",text:m.value,type:"success"}),n("close");else{if(L({title:"Error while calling LoadTree service!",text:b.error_message,type:"warn"}),!a.includes(b.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){L({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}o.load_tree_from_path_service.callService({path:m.value,permissive:!0},E=>{E.success?(L({title:"Successfully loaded tree in permissive mode!",text:m.value,type:"success"}),n("close")):L({title:"Error while calling LoadTree service in permissive mode!",text:E.error_message,type:"warn"})},E=>{L({title:"Failed to call LoadTree service!",text:E,type:"error"})})}},b=>{L({title:"Failed to call LoadTree service!",text:b,type:"error"})})}return(b,E)=>(h(),q(g(Gs),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ct(()=>[H(an,{onClose:E[2]||(E[2]=x=>n("close")),file_filter:i.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:f.value,onLocation:E[3]||(E[3]=x=>l.value=x),onSelect:E[4]||(E[4]=(x,k)=>_(x,k))},{default:ct(()=>[c("div",qh,[c("button",{class:"btn btn-primary me-2",disabled:u.value,onClick:y}," Load ",8,Xh),Re(c("select",{"onUpdate:modelValue":E[0]||(E[0]=x=>i.value=x),class:"form-select me-2 w-50"},[c("option",{value:r},"Valid files"),E[5]||(E[5]=c("option",{value:void 0},"All files",-1))],512),[[yt,i.value]]),c("div",Qh,[E[6]||(E[6]=c("span",{class:"input-group-text"}," Search: ",-1)),Re(c("input",{"onUpdate:modelValue":E[1]||(E[1]=x=>f.value=x),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[Kt,f.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Jh={class:"btn-group"},Zh=["disabled"],em={class:"btn-group btn-spaced",role:"group"},tm=["disabled"],sm={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},nm=["disabled"],om=["disabled"],am=["disabled"],rm=["disabled"],im=["disabled"],lm=te({__name:"LoadSaveControls",setup(s){const e=ve(),t=fe(),n=v(),o=new FileReader,a=cn({component:Na,attrs:{fromPackages:!0,onClose(){a.close()}}}),r=cn({component:Na,attrs:{fromPackages:!1,onClose(){r.close()}}}),i=cn({component:Yh,attrs:{onClose(){i.close()}}});function l(){if(e.clear_tree_service===void 0){L({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},k=>{k.success?(console.log("called ClearTree service successfully"),L({title:"Created new tree successfully!",type:"success"})):L({title:"Could not create new tree!",type:"warn",text:k.error_message})},k=>{L({title:"ClearTree service call failed!",type:"error",text:k})})}function d(){a.open()}function u(){r.open()}function f(){if(e.control_tree_execution_service===void 0){L({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(me.SHUTDOWN),e.control_tree_execution_service.callService({command:me.SHUTDOWN},k=>{t.removeRunningCommand(me.SHUTDOWN),k.success?(L({title:"Tree shutdown successful!",type:"success"}),i.open()):L({title:"Failed to shutdown tree, cannot save now!",text:k.error_message,type:"warn"})},k=>{L({title:"Calling ControlTreeExecution ROS service failed!",text:k,type:"error"})})}function m(k,p){const T=document.createElement("a");T.download=p,T.href=k,document.body.appendChild(T),T.click(),document.body.removeChild(T)}function _(k){const p=k.target;if(o.onloadend=E,p.files===null){L({title:"File selection is null!",type:"error"});return}o.readAsText(p.files[0])}function y(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function b(k){if(e.load_tree_service===void 0){L({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:k,permissive:!1},p=>{if(p.success)L({title:"Loaded tree successfully!",type:"success"});else{if((p.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||p.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(L({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){L({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:k,permissive:!0},T=>{T.success?L({title:"Loaded tree successfully!",type:"success"}):L({title:"Failed to load tree!",text:T.error_message,type:"warn"})},T=>{L({title:"Failed to call load tree service!",text:T,type:"error"})})}L({title:"Failed to load tree!",text:p.error_message,type:"error"})}},p=>{L({title:"Failed to call load tree service!",text:p,type:"error"})})}function E(){let k=[];try{if(o.result===null){L({title:"Content of selected reads as null!",type:"error"});return}const p=o.result;k=un.loadAll(p);let T=null;for(let P=0;P<k.length;P++)k[P]!=null&&(T=k[P]);b(T)}catch{if(e.fix_yaml_service===void 0){L({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},T=>{if(T.success){k=un.loadAll(T.fixed_yaml);let P=null;for(let F=0;F<k.length;F++)k[F]!=null&&(P=k[F]);b(P)}},T=>{L({title:"Failed to call FixYaml service!",text:T,type:"error"})})}}function x(){if(!e.connected){L({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(me.SHUTDOWN),e.control_tree_execution_service.callService({command:me.SHUTDOWN},k=>{if(k.success){L({title:"Tree shutdown successful!",type:"success"});const p=t.tree;if(p===void 0){L({title:"Tree is undefined, cannot save!",type:"error"});return}for(const P in p.nodes){for(const F in p.nodes[P].inputs)p.nodes[P].inputs[F].serialized_value="null";for(const F in p.nodes[P].outputs)p.nodes[P].outputs[F].serialized_value="null"}const T=un.dump(p);m("data:text/plain,"+encodeURIComponent(T),"tree.yaml")}else L({title:"Failed to shutdown tree, cannot save now!",text:k.error_message,type:"error"})},k=>{L({title:"Calling ControlTreeExecution ROS service failed!",text:k,type:"error"})})}return(k,p)=>{const T=Ee("font-awesome-icon");return h(),C("div",Jh,[c("button",{onClick:p[0]||(p[0]=()=>l()),class:"btn btn-primary",title:"New tree",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-file","aria-hidden":"true"}),p[6]||(p[6]=c("span",{class:"ms-1 hide-button-text"},"New",-1))],8,Zh),c("div",em,[c("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-folder","aria-hidden":"true"}),p[7]||(p[7]=c("span",{class:"ms-1 hide-button-text"},"Load",-1))],8,tm),c("ul",sm,[c("li",null,[c("button",{onClick:p[1]||(p[1]=()=>d()),class:"dropdown-item btn btn-primary",title:"Load from package",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),p[8]||(p[8]=c("span",{class:"ms-1"},"Package",-1))],8,nm)]),c("li",null,[c("button",{onClick:p[2]||(p[2]=()=>u()),class:"dropdown-item btn btn-primary",title:"Load from file",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),p[9]||(p[9]=c("span",{className:"ms-1"},"File",-1))],8,om)])])]),c("button",{onClick:p[3]||(p[3]=()=>f()),class:"btn btn-primary btn-spaced",title:"Save to remote",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-save","aria-hidden":"true"}),p[10]||(p[10]=c("span",{class:"ms-1 hide-button-text"},"Save",-1))],8,am),c("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:_},null,544),c("button",{onClick:p[4]||(p[4]=()=>y()),class:"btn btn-primary btn-spaced",title:"Upload",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),p[11]||(p[11]=c("span",{class:"ms-1 hide-button-text"},"Upload",-1))],8,rm),c("button",{onClick:p[5]||(p[5]=()=>x()),class:"btn btn-primary btn-spaced",title:"Download",disabled:g(t).selected_subtree.is_subtree},[H(T,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),p[12]||(p[12]=c("span",{class:"ms-1 hide-button-text"},"Download",-1))],8,im)])}}});const cm=kt(lm,[["__scopeId","data-v-824da917"]]),um={class:"d-flex align-items-center"},dm={class:"input-group flex-nowrap me-2"},_m=["value"],fm={key:0,class:"input-group flex-nowrap me-2"},pm=["value"],vm=["value"],hm=te({__name:"NamespaceSelect",setup(s){const e=ve(),t=Qt(),n=nn(),o=v(!1),a=v(e.url),r=X(()=>e.connected?t.messages_available?n.packages_available?{class:"connected",title:"Connected"}:{class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."}:{class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."}:{class:"disconnected",title:"Disconnected"});function i(m){const _=m.target;e.changeNamespace(_.value)}function l(){if(e.services_for_type_service===void 0){L({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},m=>{const _=m.services.map(y=>y.substring(0,y.lastIndexOf("/"))+"/");_.length>0&&(e.setAvailableNamespaces(_),e.namespace===""&&e.changeNamespace(_[0]))})}function d(){o.value=!o.value}function u(m){const _=m.target;a.value=_.value}function f(){e.setUrl(a.value),e.connect(),o.value=!1}return ps(l),(m,_)=>{const y=Ee("font-awesome-icon");return h(),C("div",um,[H(y,Ia({icon:"fa-solid fa-wifi","aria-hidden":"true",class:"mx-2 fs-4"},r.value),null,16),c("div",dm,[c("button",{type:"button",class:"btn btn-outline-contrast",onClick:d,title:"Edit rosbridge server"},[H(y,{"aria-hidden":"true",icon:"fa-solid "+(o.value?"fa-xmark":"fa-cog")},null,8,["icon"])]),o.value?(h(),C(ae,{key:0},[_[0]||(_[0]=c("label",{class:"input-group-text"},"Rosbridge Server",-1)),c("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:a.value,onChange:u},null,40,_m),c("button",{type:"button",onClick:f,class:"btn btn-primary"},"Save")],64)):de("",!0)]),o.value?de("",!0):(h(),C("div",fm,[_[2]||(_[2]=c("label",{class:"input-group-text"},"Namespace",-1)),c("select",{class:"form-select w-auto",value:g(e).namespace,onChange:i},[(h(!0),C(ae,null,_e(g(e).available_namespaces,b=>(h(),C("option",{key:b,value:b},U(b),9,vm))),128))],40,pm),c("button",{type:"button",class:"btn btn-outline-contrast",onClick:l},[H(y,{icon:"fa-solid fa-sync","aria-hidden":"true"}),_[1]||(_[1]=c("span",{class:"sr-only"},"Refresh Namespaces",-1))])]))])}}});const mm=kt(hm,[["__scopeId","data-v-1dc2e837"]]),gm={class:"btn-group"},ym=te({__name:"TickControls",setup(s){const e=fe(),t=ve();function n(o){if(!t.connected){L({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},a=>{e.removeRunningCommand(o),a.success?L({title:"Running tree command",type:"success"}):L({title:"Running the tree command failed!",type:"error",text:a.error_message})})}return(o,a)=>{const r=Ee("font-awesome-icon");return h(),C("div",gm,[c("button",{onClick:a[0]||(a[0]=()=>n(g(me).TICK_ONCE)),class:"btn btn-primary",title:"Tick Once"},[g(e).running_commands.has(g(me).TICK_ONCE)?(h(),q(r,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(h(),q(r,{key:1,icon:"fas fa-check","aria-hidden":"true"})),a[6]||(a[6]=c("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),c("button",{onClick:a[1]||(a[1]=()=>n(g(me).TICK_PERIODICALLY)),class:"btn btn-primary btn-spaced",title:"Tick Periodically"},[g(e).running_commands.has(g(me).TICK_PERIODICALLY)?(h(),q(r,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(h(),q(r,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),a[7]||(a[7]=c("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),c("button",{onClick:a[2]||(a[2]=()=>n(g(me).TICK_UNTIL_RESULT)),class:"btn btn-primary btn-spaced",title:"Tick Until Result"},[g(e).running_commands.has(g(me).TICK_UNTIL_RESULT)?(h(),q(r,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(h(),q(r,{key:1,icon:"fas fa-play","aria-hidden":"true"})),a[8]||(a[8]=c("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),c("button",{onClick:a[3]||(a[3]=()=>n(g(me).STOP)),class:"btn btn-primary btn-spaced",title:"Stop"},[g(e).running_commands.has(g(me).STOP)?(h(),q(r,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(h(),q(r,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),a[9]||(a[9]=c("i",{class:"{stop_classes}"},null,-1)),a[10]||(a[10]=c("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),c("button",{onClick:a[4]||(a[4]=()=>n(g(me).RESET)),class:"btn btn-primary btn-spaced",title:"Reset"},[g(e).running_commands.has(g(me).RESET)?(h(),q(r,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(h(),q(r,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),a[11]||(a[11]=c("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),c("button",{onClick:a[5]||(a[5]=()=>n(g(me).SHUTDOWN)),class:"btn btn-primary btn-spaced",title:"Shutdown"},[g(e).running_commands.has(g(me).SHUTDOWN)?(h(),q(r,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(h(),q(r,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),a[12]||(a[12]=c("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),bm="/assets/Fallback-2ee56f49.svg",Em="/assets/MemoryFallback-3ee0698f.svg",wm="/assets/MemorySequence-2e6b0601.svg",Tm="/assets/Parallel-49faf4c2.svg",km="/assets/ParallelFailureTolerance-b3893438.svg",Sm="/assets/Sequence-4c243352.svg",Am={class:"border rounded mb-2"},Cm={key:0,class:"d-flex flex-wrap m-1"},Nm=["onClick","onMousedown","onKeydown"],xm=["title","src"],xa="grab",Om="border-primary",$m=te({__name:"NodeQuickSelect",setup(s){const e=Jt(),t=fe(),n=ge(),o=X(()=>e.nodes.filter(l=>l.max_children===-1)),a=v(!1);function r(l){return t.dragging_new_node&&t.dragging_new_node.node_class===l.node_class&&t.dragging_new_node.module===l.module?Om:xa}function i(l){switch(l){case"Fallback":return bm;case"MemoryFallback":return Em;case"MemorySequence":return wm;case"Parallel":return Tm;case"ParallelFailureTolerance":return km;case"Sequence":return Sm;default:return""}}return(l,d)=>{const u=Ee("font-awesome-icon");return h(),C("div",Am,[c("div",{onClick:d[0]||(d[0]=f=>a.value=!a.value),class:"w-100 text-center cursor-pointer m-2"},[d[1]||(d[1]=re(" Flow Control Nodes ")),H(u,{icon:"fa-solid "+(a.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),a.value?de("",!0):(h(),C("div",Cm,[(h(!0),C(ae,null,_e(o.value,f=>(h(),C("div",{key:f.node_class+f.module,class:be(["border rounded m-1 image-container",r(f)]),tabindex:"0",onClick:m=>g(n).nodeListSelectionChange(f),onMousedown:Ln(()=>g(t).startDraggingNewNode(f),["stop","prevent"]),onKeydown:Ie(m=>g(n).nodeListSelectionChange(f),["enter"])},[f.name==="NameSwitch"?(h(),q(u,{key:0,title:f.name,class:"icon",icon:"fa-solid fa-network-wired"},null,8,["title"])):(h(),C("img",{key:1,title:f.name,class:"image",src:i(f.name)},null,8,xm))],42,Nm))),128))]))])}}});const Dm=kt($m,[["__scopeId","data-v-11ffb82b"]]),Im={key:0,class:"d-flex justify-content-between align-items-center p-2 top-bar"},Lm={class:"row row-height"},Rm={key:0,class:"col-3 d-flex flex-column h-100",id:"nodelist_container"},Pm={class:"d-flex justify-content-between m-1 mt-2"},Mm={class:"m-1"},Fm={class:"border rounded"},Vm={class:"input-group p-2"},Um=["value"],jm={class:"col d-flex flex-column",id:"main_pane"},Hm={class:"row justify-content-between bg-secondary"},Wm={class:"col col-xl-3 order-xl-1"},Bm={class:"col-auto order-xl-3"},Km={class:"col-12 col-xl order-xl-2"},zm={class:"row edit_canvas flex-grow-1 pb-2"},Gm={class:"row"},Ym={class:"col-6"},qm={key:3,class:"d-flex flex-column"},Xm={class:"col-6"},Qm={key:1,class:"d-flex flex-column"},Jm=te({__name:"App",setup(s){const e=ve(),t=Qt(),n=nn(),o=Jt(),a=fe(),r=ge(),i=v(!1);us(i,N=>{N?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function l(N){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(N.packages)}function d(){e.packages_sub.subscribe(l)}function u(N){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(N)}function f(){e.messages_sub.subscribe(u)}function m(N){a.tree=N}function _(){e.tree_sub.subscribe(m)}function y(N){a.subtree_states=N.subtree_states}function b(){e.subtree_info_sub.subscribe(y)}function E(){e.channels_sub.subscribe(t.updateMessageChannels)}function x(N){const $=N.target;F.value=$.value,o.filterNodes($.value)}function k(N){N.key=="Escape"&&(F.value="",o.clearFilteredNodes())}function p(){return a.tree?a.tree.nodes.filter(N=>N.max_children<0||N.child_names.length<N.max_children).sort(function(N,$){return N.name<$.name?-1:N.name>$.name?1:0}):[]}const T=v(!0),P=v(),F=v(""),R=v(!0);return e.$onAction(({name:N,after:$})=>{N!=="changeNamespace"&&N!="hasConnected"||$(()=>{_(),b(),f(),E(),d()})}),ps(()=>{e.connect(),_(),b(),f(),E(),d()}),(N,$)=>{const M=Ee("font-awesome-icon"),J=Ee("notifications");return h(),C(ae,null,[R.value?(h(),C("header",Im,[H(mm),H(ym),H(cm)])):de("",!0),c("main",null,[c("div",{class:be([g(a).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:$[5]||($[5]=()=>g(a).stopDragging()),onMouseleave:$[6]||($[6]=()=>g(a).stopDragging())},[c("div",Lm,[T.value?(h(),C("div",Rm,[c("div",Pm,[c("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:$[0]||($[0]=()=>{T.value=!T.value})},[H(M,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),c("button",{class:"btn btn-outline-primary",onClick:$[1]||($[1]=oe=>i.value=!i.value),title:"Change window appearance"},[H(M,{class:be(i.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),H(M,{class:be(i.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),c("div",Mm,[H(Sf),H(Dm),c("div",Fm,[c("div",Vm,[$[7]||($[7]=c("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),c("input",{id:"nodelist_search",type:"text",ref_key:"nodelist_input_ref",ref:P,class:"form-control",value:F.value,placeholder:"Node Name",onInput:x,onKeydown:k},null,40,Um)])])]),H(Yf,{style:{"min-height":"0"}})])):de("",!0),c("div",jm,[c("div",Hm,[T.value?de("",!0):(h(),C("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:$[2]||($[2]=()=>{T.value=!T.value})},[H(M,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),c("div",Wm,[H(ep)]),c("div",Bm,[H(Wh,{"exec-bar-visible":R.value,onShow:$[3]||($[3]=()=>{R.value=!0,T.value=!0}),onHide:$[4]||($[4]=()=>{R.value=!1,T.value=!1})},null,8,["exec-bar-visible"])]),c("div",Km,[H(Uh)])]),c("div",zm,[H(dp)]),c("div",Gm,[c("div",Ym,[g(r).last_seletion_source==="multiple"?(h(),q(Xp,{key:0})):g(r).last_seletion_source==="nodelist"?(h(),q(Th,{key:g(e).namespace+(g(r).selected_node?g(r).selected_node.module+g(r).selected_node.node_class:""),parents:p()},null,8,["parents"])):g(r).last_seletion_source==="editor"?(h(),q($h,{key:g(e).namespace+(g(r).selected_node?g(r).selected_node.name:"")})):(h(),C("div",qm,"No Node Selected"))]),c("div",Xm,[g(a).selected_edge!==void 0?(h(),q(bp,{key:0})):(h(),C("div",Qm,"No Edge Selected"))])])])])],34),H(J,{position:"bottom right",pauseOnHover:!0}),H(g(ai))])],64)}}});bi.add(Ei,wi,Ti,Pa,ki,Si,Ai,La,Ci,Ni,xi,Oi,$i,Di,Ii,Li,Ri,Pi,Mi,Fi,Vi,Ui,ji,Hi,Wi,Bi,Ki,zi,Gi,Ra,Yi,qi,Xi,Qi,Fa,Ji,Zi,el,Ma,tl,sl,nl);const bs=ri(Jm),Zm=ii(),zr=rf();zr.use(yf);bs.use(zr);bs.component("font-awesome-icon",ol);bs.use(li,{velocity:ci});bs.use(Zm);bs.mount("#root");
